(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function t(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=t(o);fetch(o.href,u)}})();var cm={exports:{}},Ml={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nv;function $S(){if(Nv)return Ml;Nv=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(s,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:i,type:s,key:h,ref:o!==void 0?o:null,props:u}}return Ml.Fragment=e,Ml.jsx=t,Ml.jsxs=t,Ml}var kv;function KS(){return kv||(kv=1,cm.exports=$S()),cm.exports}var T=KS(),hm={exports:{}},Re={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mv;function YS(){if(Mv)return Re;Mv=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),A=Symbol.iterator;function S(x){return x===null||typeof x!="object"?null:(x=A&&x[A]||x["@@iterator"],typeof x=="function"?x:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O=Object.assign,$={};function L(x,Z,ae){this.props=x,this.context=Z,this.refs=$,this.updater=ae||N}L.prototype.isReactComponent={},L.prototype.setState=function(x,Z){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,Z,"setState")},L.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function V(){}V.prototype=L.prototype;function Q(x,Z,ae){this.props=x,this.context=Z,this.refs=$,this.updater=ae||N}var ie=Q.prototype=new V;ie.constructor=Q,O(ie,L.prototype),ie.isPureReactComponent=!0;var ue=Array.isArray,le={H:null,A:null,T:null,S:null,V:null},de=Object.prototype.hasOwnProperty;function M(x,Z,ae,re,pe,Ce){return ae=Ce.ref,{$$typeof:i,type:x,key:Z,ref:ae!==void 0?ae:null,props:Ce}}function R(x,Z){return M(x.type,Z,void 0,void 0,void 0,x.props)}function I(x){return typeof x=="object"&&x!==null&&x.$$typeof===i}function k(x){var Z={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(ae){return Z[ae]})}var U=/\/+/g;function z(x,Z){return typeof x=="object"&&x!==null&&x.key!=null?k(""+x.key):Z.toString(36)}function D(){}function nt(x){switch(x.status){case"fulfilled":return x.value;case"rejected":throw x.reason;default:switch(typeof x.status=="string"?x.then(D,D):(x.status="pending",x.then(function(Z){x.status==="pending"&&(x.status="fulfilled",x.value=Z)},function(Z){x.status==="pending"&&(x.status="rejected",x.reason=Z)})),x.status){case"fulfilled":return x.value;case"rejected":throw x.reason}}throw x}function et(x,Z,ae,re,pe){var Ce=typeof x;(Ce==="undefined"||Ce==="boolean")&&(x=null);var we=!1;if(x===null)we=!0;else switch(Ce){case"bigint":case"string":case"number":we=!0;break;case"object":switch(x.$$typeof){case i:case e:we=!0;break;case E:return we=x._init,et(we(x._payload),Z,ae,re,pe)}}if(we)return pe=pe(x),we=re===""?"."+z(x,0):re,ue(pe)?(ae="",we!=null&&(ae=we.replace(U,"$&/")+"/"),et(pe,Z,ae,"",function(Wn){return Wn})):pe!=null&&(I(pe)&&(pe=R(pe,ae+(pe.key==null||x&&x.key===pe.key?"":(""+pe.key).replace(U,"$&/")+"/")+we)),Z.push(pe)),1;we=0;var Dt=re===""?".":re+":";if(ue(x))for(var Ze=0;Ze<x.length;Ze++)re=x[Ze],Ce=Dt+z(re,Ze),we+=et(re,Z,ae,Ce,pe);else if(Ze=S(x),typeof Ze=="function")for(x=Ze.call(x),Ze=0;!(re=x.next()).done;)re=re.value,Ce=Dt+z(re,Ze++),we+=et(re,Z,ae,Ce,pe);else if(Ce==="object"){if(typeof x.then=="function")return et(nt(x),Z,ae,re,pe);throw Z=String(x),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.")}return we}function X(x,Z,ae){if(x==null)return x;var re=[],pe=0;return et(x,re,"","",function(Ce){return Z.call(ae,Ce,pe++)}),re}function oe(x){if(x._status===-1){var Z=x._result;Z=Z(),Z.then(function(ae){(x._status===0||x._status===-1)&&(x._status=1,x._result=ae)},function(ae){(x._status===0||x._status===-1)&&(x._status=2,x._result=ae)}),x._status===-1&&(x._status=0,x._result=Z)}if(x._status===1)return x._result.default;throw x._result}var me=typeof reportError=="function"?reportError:function(x){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof x=="object"&&x!==null&&typeof x.message=="string"?String(x.message):String(x),error:x});if(!window.dispatchEvent(Z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",x);return}console.error(x)};function je(){}return Re.Children={map:X,forEach:function(x,Z,ae){X(x,function(){Z.apply(this,arguments)},ae)},count:function(x){var Z=0;return X(x,function(){Z++}),Z},toArray:function(x){return X(x,function(Z){return Z})||[]},only:function(x){if(!I(x))throw Error("React.Children.only expected to receive a single React element child.");return x}},Re.Component=L,Re.Fragment=t,Re.Profiler=o,Re.PureComponent=Q,Re.StrictMode=s,Re.Suspense=p,Re.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=le,Re.__COMPILER_RUNTIME={__proto__:null,c:function(x){return le.H.useMemoCache(x)}},Re.cache=function(x){return function(){return x.apply(null,arguments)}},Re.cloneElement=function(x,Z,ae){if(x==null)throw Error("The argument must be a React element, but you passed "+x+".");var re=O({},x.props),pe=x.key,Ce=void 0;if(Z!=null)for(we in Z.ref!==void 0&&(Ce=void 0),Z.key!==void 0&&(pe=""+Z.key),Z)!de.call(Z,we)||we==="key"||we==="__self"||we==="__source"||we==="ref"&&Z.ref===void 0||(re[we]=Z[we]);var we=arguments.length-2;if(we===1)re.children=ae;else if(1<we){for(var Dt=Array(we),Ze=0;Ze<we;Ze++)Dt[Ze]=arguments[Ze+2];re.children=Dt}return M(x.type,pe,void 0,void 0,Ce,re)},Re.createContext=function(x){return x={$$typeof:h,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null},x.Provider=x,x.Consumer={$$typeof:u,_context:x},x},Re.createElement=function(x,Z,ae){var re,pe={},Ce=null;if(Z!=null)for(re in Z.key!==void 0&&(Ce=""+Z.key),Z)de.call(Z,re)&&re!=="key"&&re!=="__self"&&re!=="__source"&&(pe[re]=Z[re]);var we=arguments.length-2;if(we===1)pe.children=ae;else if(1<we){for(var Dt=Array(we),Ze=0;Ze<we;Ze++)Dt[Ze]=arguments[Ze+2];pe.children=Dt}if(x&&x.defaultProps)for(re in we=x.defaultProps,we)pe[re]===void 0&&(pe[re]=we[re]);return M(x,Ce,void 0,void 0,null,pe)},Re.createRef=function(){return{current:null}},Re.forwardRef=function(x){return{$$typeof:m,render:x}},Re.isValidElement=I,Re.lazy=function(x){return{$$typeof:E,_payload:{_status:-1,_result:x},_init:oe}},Re.memo=function(x,Z){return{$$typeof:g,type:x,compare:Z===void 0?null:Z}},Re.startTransition=function(x){var Z=le.T,ae={};le.T=ae;try{var re=x(),pe=le.S;pe!==null&&pe(ae,re),typeof re=="object"&&re!==null&&typeof re.then=="function"&&re.then(je,me)}catch(Ce){me(Ce)}finally{le.T=Z}},Re.unstable_useCacheRefresh=function(){return le.H.useCacheRefresh()},Re.use=function(x){return le.H.use(x)},Re.useActionState=function(x,Z,ae){return le.H.useActionState(x,Z,ae)},Re.useCallback=function(x,Z){return le.H.useCallback(x,Z)},Re.useContext=function(x){return le.H.useContext(x)},Re.useDebugValue=function(){},Re.useDeferredValue=function(x,Z){return le.H.useDeferredValue(x,Z)},Re.useEffect=function(x,Z,ae){var re=le.H;if(typeof ae=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return re.useEffect(x,Z)},Re.useId=function(){return le.H.useId()},Re.useImperativeHandle=function(x,Z,ae){return le.H.useImperativeHandle(x,Z,ae)},Re.useInsertionEffect=function(x,Z){return le.H.useInsertionEffect(x,Z)},Re.useLayoutEffect=function(x,Z){return le.H.useLayoutEffect(x,Z)},Re.useMemo=function(x,Z){return le.H.useMemo(x,Z)},Re.useOptimistic=function(x,Z){return le.H.useOptimistic(x,Z)},Re.useReducer=function(x,Z,ae){return le.H.useReducer(x,Z,ae)},Re.useRef=function(x){return le.H.useRef(x)},Re.useState=function(x){return le.H.useState(x)},Re.useSyncExternalStore=function(x,Z,ae){return le.H.useSyncExternalStore(x,Z,ae)},Re.useTransition=function(){return le.H.useTransition()},Re.version="19.1.0",Re}var Vv;function fp(){return Vv||(Vv=1,hm.exports=YS()),hm.exports}var q=fp(),fm={exports:{}},Vl={},dm={exports:{}},mm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pv;function QS(){return Pv||(Pv=1,function(i){function e(X,oe){var me=X.length;X.push(oe);e:for(;0<me;){var je=me-1>>>1,x=X[je];if(0<o(x,oe))X[je]=oe,X[me]=x,me=je;else break e}}function t(X){return X.length===0?null:X[0]}function s(X){if(X.length===0)return null;var oe=X[0],me=X.pop();if(me!==oe){X[0]=me;e:for(var je=0,x=X.length,Z=x>>>1;je<Z;){var ae=2*(je+1)-1,re=X[ae],pe=ae+1,Ce=X[pe];if(0>o(re,me))pe<x&&0>o(Ce,re)?(X[je]=Ce,X[pe]=me,je=pe):(X[je]=re,X[ae]=me,je=ae);else if(pe<x&&0>o(Ce,me))X[je]=Ce,X[pe]=me,je=pe;else break e}}return oe}function o(X,oe){var me=X.sortIndex-oe.sortIndex;return me!==0?me:X.id-oe.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var h=Date,m=h.now();i.unstable_now=function(){return h.now()-m}}var p=[],g=[],E=1,A=null,S=3,N=!1,O=!1,$=!1,L=!1,V=typeof setTimeout=="function"?setTimeout:null,Q=typeof clearTimeout=="function"?clearTimeout:null,ie=typeof setImmediate<"u"?setImmediate:null;function ue(X){for(var oe=t(g);oe!==null;){if(oe.callback===null)s(g);else if(oe.startTime<=X)s(g),oe.sortIndex=oe.expirationTime,e(p,oe);else break;oe=t(g)}}function le(X){if($=!1,ue(X),!O)if(t(p)!==null)O=!0,de||(de=!0,z());else{var oe=t(g);oe!==null&&et(le,oe.startTime-X)}}var de=!1,M=-1,R=5,I=-1;function k(){return L?!0:!(i.unstable_now()-I<R)}function U(){if(L=!1,de){var X=i.unstable_now();I=X;var oe=!0;try{e:{O=!1,$&&($=!1,Q(M),M=-1),N=!0;var me=S;try{t:{for(ue(X),A=t(p);A!==null&&!(A.expirationTime>X&&k());){var je=A.callback;if(typeof je=="function"){A.callback=null,S=A.priorityLevel;var x=je(A.expirationTime<=X);if(X=i.unstable_now(),typeof x=="function"){A.callback=x,ue(X),oe=!0;break t}A===t(p)&&s(p),ue(X)}else s(p);A=t(p)}if(A!==null)oe=!0;else{var Z=t(g);Z!==null&&et(le,Z.startTime-X),oe=!1}}break e}finally{A=null,S=me,N=!1}oe=void 0}}finally{oe?z():de=!1}}}var z;if(typeof ie=="function")z=function(){ie(U)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,nt=D.port2;D.port1.onmessage=U,z=function(){nt.postMessage(null)}}else z=function(){V(U,0)};function et(X,oe){M=V(function(){X(i.unstable_now())},oe)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(X){X.callback=null},i.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<X?Math.floor(1e3/X):5},i.unstable_getCurrentPriorityLevel=function(){return S},i.unstable_next=function(X){switch(S){case 1:case 2:case 3:var oe=3;break;default:oe=S}var me=S;S=oe;try{return X()}finally{S=me}},i.unstable_requestPaint=function(){L=!0},i.unstable_runWithPriority=function(X,oe){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var me=S;S=X;try{return oe()}finally{S=me}},i.unstable_scheduleCallback=function(X,oe,me){var je=i.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?je+me:je):me=je,X){case 1:var x=-1;break;case 2:x=250;break;case 5:x=1073741823;break;case 4:x=1e4;break;default:x=5e3}return x=me+x,X={id:E++,callback:oe,priorityLevel:X,startTime:me,expirationTime:x,sortIndex:-1},me>je?(X.sortIndex=me,e(g,X),t(p)===null&&X===t(g)&&($?(Q(M),M=-1):$=!0,et(le,me-je))):(X.sortIndex=x,e(p,X),O||N||(O=!0,de||(de=!0,z()))),X},i.unstable_shouldYield=k,i.unstable_wrapCallback=function(X){var oe=S;return function(){var me=S;S=oe;try{return X.apply(this,arguments)}finally{S=me}}}}(mm)),mm}var Lv;function XS(){return Lv||(Lv=1,dm.exports=QS()),dm.exports}var pm={exports:{}},Yt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uv;function WS(){if(Uv)return Yt;Uv=1;var i=fp();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)g+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var s={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,E){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:A==null?null:""+A,children:p,containerInfo:g,implementation:E}}var h=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Yt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Yt.createPortal=function(p,g){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,E)},Yt.flushSync=function(p){var g=h.T,E=s.p;try{if(h.T=null,s.p=2,p)return p()}finally{h.T=g,s.p=E,s.d.f()}},Yt.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},Yt.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Yt.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var E=g.as,A=m(E,g.crossOrigin),S=typeof g.integrity=="string"?g.integrity:void 0,N=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;E==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:A,integrity:S,fetchPriority:N}):E==="script"&&s.d.X(p,{crossOrigin:A,integrity:S,fetchPriority:N,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Yt.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var E=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},Yt.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var E=g.as,A=m(E,g.crossOrigin);s.d.L(p,E,{crossOrigin:A,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Yt.preloadModule=function(p,g){if(typeof p=="string")if(g){var E=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},Yt.requestFormReset=function(p){s.d.r(p)},Yt.unstable_batchedUpdates=function(p,g){return p(g)},Yt.useFormState=function(p,g,E){return h.H.useFormState(p,g,E)},Yt.useFormStatus=function(){return h.H.useHostTransitionStatus()},Yt.version="19.1.0",Yt}var jv;function ZS(){if(jv)return pm.exports;jv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),pm.exports=WS(),pm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zv;function JS(){if(zv)return Vl;zv=1;var i=XS(),e=fp(),t=ZS();function s(n){var r="https://react.dev/errors/"+n;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+n+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function u(n){var r=n,a=n;if(n.alternate)for(;r.return;)r=r.return;else{n=r;do r=n,(r.flags&4098)!==0&&(a=r.return),n=r.return;while(n)}return r.tag===3?a:null}function h(n){if(n.tag===13){var r=n.memoizedState;if(r===null&&(n=n.alternate,n!==null&&(r=n.memoizedState)),r!==null)return r.dehydrated}return null}function m(n){if(u(n)!==n)throw Error(s(188))}function p(n){var r=n.alternate;if(!r){if(r=u(n),r===null)throw Error(s(188));return r!==n?null:n}for(var a=n,l=r;;){var f=a.return;if(f===null)break;var d=f.alternate;if(d===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===a)return m(f),n;if(d===l)return m(f),r;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=f,l=d;else{for(var _=!1,b=f.child;b;){if(b===a){_=!0,a=f,l=d;break}if(b===l){_=!0,l=f,a=d;break}b=b.sibling}if(!_){for(b=d.child;b;){if(b===a){_=!0,a=d,l=f;break}if(b===l){_=!0,l=d,a=f;break}b=b.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?n:r}function g(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n;for(n=n.child;n!==null;){if(r=g(n),r!==null)return r;n=n.sibling}return null}var E=Object.assign,A=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),N=Symbol.for("react.portal"),O=Symbol.for("react.fragment"),$=Symbol.for("react.strict_mode"),L=Symbol.for("react.profiler"),V=Symbol.for("react.provider"),Q=Symbol.for("react.consumer"),ie=Symbol.for("react.context"),ue=Symbol.for("react.forward_ref"),le=Symbol.for("react.suspense"),de=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),k=Symbol.for("react.memo_cache_sentinel"),U=Symbol.iterator;function z(n){return n===null||typeof n!="object"?null:(n=U&&n[U]||n["@@iterator"],typeof n=="function"?n:null)}var D=Symbol.for("react.client.reference");function nt(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===D?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case O:return"Fragment";case L:return"Profiler";case $:return"StrictMode";case le:return"Suspense";case de:return"SuspenseList";case I:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case N:return"Portal";case ie:return(n.displayName||"Context")+".Provider";case Q:return(n._context.displayName||"Context")+".Consumer";case ue:var r=n.render;return n=n.displayName,n||(n=r.displayName||r.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case M:return r=n.displayName||null,r!==null?r:nt(n.type)||"Memo";case R:r=n._payload,n=n._init;try{return nt(n(r))}catch{}}return null}var et=Array.isArray,X=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me={pending:!1,data:null,method:null,action:null},je=[],x=-1;function Z(n){return{current:n}}function ae(n){0>x||(n.current=je[x],je[x]=null,x--)}function re(n,r){x++,je[x]=n.current,n.current=r}var pe=Z(null),Ce=Z(null),we=Z(null),Dt=Z(null);function Ze(n,r){switch(re(we,r),re(Ce,n),re(pe,null),r.nodeType){case 9:case 11:n=(n=r.documentElement)&&(n=n.namespaceURI)?av(n):0;break;default:if(n=r.tagName,r=r.namespaceURI)r=av(r),n=ov(r,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}ae(pe),re(pe,n)}function Wn(){ae(pe),ae(Ce),ae(we)}function lr(n){n.memoizedState!==null&&re(Dt,n);var r=pe.current,a=ov(r,n.type);r!==a&&(re(Ce,n),re(pe,a))}function wi(n){Ce.current===n&&(ae(pe),ae(Ce)),Dt.current===n&&(ae(Dt),Cl._currentValue=me)}var as=Object.prototype.hasOwnProperty,os=i.unstable_scheduleCallback,ls=i.unstable_cancelCallback,Ro=i.unstable_shouldYield,Eu=i.unstable_requestPaint,wn=i.unstable_now,cf=i.unstable_getCurrentPriorityLevel,xo=i.unstable_ImmediatePriority,ua=i.unstable_UserBlockingPriority,us=i.unstable_NormalPriority,hf=i.unstable_LowPriority,ca=i.unstable_IdlePriority,Io=i.log,Tu=i.unstable_setDisableYieldValue,lt=null,Fe=null;function hn(n){if(typeof Io=="function"&&Tu(n),Fe&&typeof Fe.setStrictMode=="function")try{Fe.setStrictMode(lt,n)}catch{}}var $t=Math.clz32?Math.clz32:cs,bu=Math.log,ff=Math.LN2;function cs(n){return n>>>=0,n===0?32:31-(bu(n)/ff|0)|0}var hs=256,fs=4194304;function zn(n){var r=n&42;if(r!==0)return r;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function ha(n,r,a){var l=n.pendingLanes;if(l===0)return 0;var f=0,d=n.suspendedLanes,_=n.pingedLanes;n=n.warmLanes;var b=l&134217727;return b!==0?(l=b&~d,l!==0?f=zn(l):(_&=b,_!==0?f=zn(_):a||(a=b&~n,a!==0&&(f=zn(a))))):(b=l&~d,b!==0?f=zn(b):_!==0?f=zn(_):a||(a=l&~n,a!==0&&(f=zn(a)))),f===0?0:r!==0&&r!==f&&(r&d)===0&&(d=f&-f,a=r&-r,d>=a||d===32&&(a&4194048)!==0)?r:f}function ds(n,r){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&r)===0}function Co(n,r){switch(n){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Do(){var n=hs;return hs<<=1,(hs&4194048)===0&&(hs=256),n}function Oo(){var n=fs;return fs<<=1,(fs&62914560)===0&&(fs=4194304),n}function Si(n){for(var r=[],a=0;31>a;a++)r.push(n);return r}function Ai(n,r){n.pendingLanes|=r,r!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function No(n,r,a,l,f,d){var _=n.pendingLanes;n.pendingLanes=a,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=a,n.entangledLanes&=a,n.errorRecoveryDisabledLanes&=a,n.shellSuspendCounter=0;var b=n.entanglements,C=n.expirationTimes,F=n.hiddenUpdates;for(a=_&~a;0<a;){var W=31-$t(a),ee=1<<W;b[W]=0,C[W]=-1;var G=F[W];if(G!==null)for(F[W]=null,W=0;W<G.length;W++){var K=G[W];K!==null&&(K.lane&=-536870913)}a&=~ee}l!==0&&Zn(n,l,0),d!==0&&f===0&&n.tag!==0&&(n.suspendedLanes|=d&~(_&~r))}function Zn(n,r,a){n.pendingLanes|=r,n.suspendedLanes&=~r;var l=31-$t(r);n.entangledLanes|=r,n.entanglements[l]=n.entanglements[l]|1073741824|a&4194090}function ko(n,r){var a=n.entangledLanes|=r;for(n=n.entanglements;a;){var l=31-$t(a),f=1<<l;f&r|n[l]&r&&(n[l]|=r),a&=~f}}function ur(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function fa(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function cr(){var n=oe.p;return n!==0?n:(n=window.event,n===void 0?32:Rv(n.type))}function wu(n,r){var a=oe.p;try{return oe.p=n,r()}finally{oe.p=a}}var it=Math.random().toString(36).slice(2),wt="__reactFiber$"+it,yt="__reactProps$"+it,Sn="__reactContainer$"+it,Mo="__reactEvents$"+it,df="__reactListeners$"+it,hr="__reactHandles$"+it,Su="__reactResources$"+it,ms="__reactMarker$"+it;function fr(n){delete n[wt],delete n[yt],delete n[Mo],delete n[df],delete n[hr]}function Ri(n){var r=n[wt];if(r)return r;for(var a=n.parentNode;a;){if(r=a[Sn]||a[wt]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(n=hv(n);n!==null;){if(a=n[wt])return a;n=hv(n)}return r}n=a,a=n.parentNode}return null}function Jn(n){if(n=n[wt]||n[Sn]){var r=n.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return n}return null}function ei(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n.stateNode;throw Error(s(33))}function Jt(n){var r=n[Su];return r||(r=n[Su]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function dt(n){n[ms]=!0}var Vo=new Set,da={};function Bn(n,r){xi(n,r),xi(n+"Capture",r)}function xi(n,r){for(da[n]=r,n=0;n<r.length;n++)Vo.add(r[n])}var Au=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ru={},ps={};function xu(n){return as.call(ps,n)?!0:as.call(Ru,n)?!1:Au.test(n)?ps[n]=!0:(Ru[n]=!0,!1)}function dr(n,r,a){if(xu(r))if(a===null)n.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":n.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){n.removeAttribute(r);return}}n.setAttribute(r,""+a)}}function ti(n,r,a){if(a===null)n.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(r);return}n.setAttribute(r,""+a)}}function Ut(n,r,a,l){if(l===null)n.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttributeNS(r,a,""+l)}}var gs,Iu;function Ii(n){if(gs===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);gs=r&&r[1]||"",Iu=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+gs+n+Iu}var ma=!1;function pa(n,r){if(!n||ma)return"";ma=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var ee=function(){throw Error()};if(Object.defineProperty(ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ee,[])}catch(K){var G=K}Reflect.construct(n,[],ee)}else{try{ee.call()}catch(K){G=K}n.call(ee.prototype)}}else{try{throw Error()}catch(K){G=K}(ee=n())&&typeof ee.catch=="function"&&ee.catch(function(){})}}catch(K){if(K&&G&&typeof K.stack=="string")return[K.stack,G.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],b=d[1];if(_&&b){var C=_.split(`
`),F=b.split(`
`);for(f=l=0;l<C.length&&!C[l].includes("DetermineComponentFrameRoot");)l++;for(;f<F.length&&!F[f].includes("DetermineComponentFrameRoot");)f++;if(l===C.length||f===F.length)for(l=C.length-1,f=F.length-1;1<=l&&0<=f&&C[l]!==F[f];)f--;for(;1<=l&&0<=f;l--,f--)if(C[l]!==F[f]){if(l!==1||f!==1)do if(l--,f--,0>f||C[l]!==F[f]){var W=`
`+C[l].replace(" at new "," at ");return n.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",n.displayName)),W}while(1<=l&&0<=f);break}}}finally{ma=!1,Error.prepareStackTrace=a}return(a=n?n.displayName||n.name:"")?Ii(a):""}function Po(n){switch(n.tag){case 26:case 27:case 5:return Ii(n.type);case 16:return Ii("Lazy");case 13:return Ii("Suspense");case 19:return Ii("SuspenseList");case 0:case 15:return pa(n.type,!1);case 11:return pa(n.type.render,!1);case 1:return pa(n.type,!0);case 31:return Ii("Activity");default:return""}}function ga(n){try{var r="";do r+=Po(n),n=n.return;while(n);return r}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function en(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Lo(n){var r=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function mf(n){var r=Lo(n)?"checked":"value",a=Object.getOwnPropertyDescriptor(n.constructor.prototype,r),l=""+n[r];if(!n.hasOwnProperty(r)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,d=a.set;return Object.defineProperty(n,r,{configurable:!0,get:function(){return f.call(this)},set:function(_){l=""+_,d.call(this,_)}}),Object.defineProperty(n,r,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(_){l=""+_},stopTracking:function(){n._valueTracker=null,delete n[r]}}}}function ya(n){n._valueTracker||(n._valueTracker=mf(n))}function Uo(n){if(!n)return!1;var r=n._valueTracker;if(!r)return!0;var a=r.getValue(),l="";return n&&(l=Lo(n)?n.checked?"true":"false":n.value),n=l,n!==a?(r.setValue(n),!0):!1}function ys(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var pf=/[\n"\\]/g;function vt(n){return n.replace(pf,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function fn(n,r,a,l,f,d,_,b){n.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?n.type=_:n.removeAttribute("type"),r!=null?_==="number"?(r===0&&n.value===""||n.value!=r)&&(n.value=""+en(r)):n.value!==""+en(r)&&(n.value=""+en(r)):_!=="submit"&&_!=="reset"||n.removeAttribute("value"),r!=null?mr(n,_,en(r)):a!=null?mr(n,_,en(a)):l!=null&&n.removeAttribute("value"),f==null&&d!=null&&(n.defaultChecked=!!d),f!=null&&(n.checked=f&&typeof f!="function"&&typeof f!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?n.name=""+en(b):n.removeAttribute("name")}function vs(n,r,a,l,f,d,_,b){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(n.type=d),r!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||r!=null))return;a=a!=null?""+en(a):"",r=r!=null?""+en(r):a,b||r===n.value||(n.value=r),n.defaultValue=r}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,n.checked=b?n.checked:!!l,n.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(n.name=_)}function mr(n,r,a){r==="number"&&ys(n.ownerDocument)===n||n.defaultValue===""+a||(n.defaultValue=""+a)}function Ci(n,r,a,l){if(n=n.options,r){r={};for(var f=0;f<a.length;f++)r["$"+a[f]]=!0;for(a=0;a<n.length;a++)f=r.hasOwnProperty("$"+n[a].value),n[a].selected!==f&&(n[a].selected=f),f&&l&&(n[a].defaultSelected=!0)}else{for(a=""+en(a),r=null,f=0;f<n.length;f++){if(n[f].value===a){n[f].selected=!0,l&&(n[f].defaultSelected=!0);return}r!==null||n[f].disabled||(r=n[f])}r!==null&&(r.selected=!0)}}function Ke(n,r,a){if(r!=null&&(r=""+en(r),r!==n.value&&(n.value=r),a==null)){n.defaultValue!==r&&(n.defaultValue=r);return}n.defaultValue=a!=null?""+en(a):""}function _s(n,r,a,l){if(r==null){if(l!=null){if(a!=null)throw Error(s(92));if(et(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),r=a}a=en(r),n.defaultValue=a,l=n.textContent,l===a&&l!==""&&l!==null&&(n.value=l)}function An(n,r){if(r){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=r;return}}n.textContent=r}var Es=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Cu(n,r,a){var l=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?n.setProperty(r,""):r==="float"?n.cssFloat="":n[r]="":l?n.setProperty(r,a):typeof a!="number"||a===0||Es.has(r)?r==="float"?n.cssFloat=a:n[r]=(""+a).trim():n[r]=a+"px"}function jo(n,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(n=n.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?n.setProperty(l,""):l==="float"?n.cssFloat="":n[l]="");for(var f in r)l=r[f],r.hasOwnProperty(f)&&a[f]!==l&&Cu(n,f,l)}else for(var d in r)r.hasOwnProperty(d)&&Cu(n,d,r[d])}function zo(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var gf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),yf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function va(n){return yf.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var Di=null;function Rn(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Oi=null,Ni=null;function Bo(n){var r=Jn(n);if(r&&(n=r.stateNode)){var a=n[yt]||null;e:switch(n=r.stateNode,r.type){case"input":if(fn(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+vt(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var l=a[r];if(l!==n&&l.form===n.form){var f=l[yt]||null;if(!f)throw Error(s(90));fn(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<a.length;r++)l=a[r],l.form===n.form&&Uo(l)}break e;case"textarea":Ke(n,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&Ci(n,!!a.multiple,r,!1)}}}var ni=!1;function Du(n,r,a){if(ni)return n(r,a);ni=!0;try{var l=n(r);return l}finally{if(ni=!1,(Oi!==null||Ni!==null)&&(wc(),Oi&&(r=Oi,n=Ni,Ni=Oi=null,Bo(r),n)))for(r=0;r<n.length;r++)Bo(n[r])}}function Ts(n,r){var a=n.stateNode;if(a===null)return null;var l=a[yt]||null;if(l===null)return null;a=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(n=n.type,l=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!l;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var qn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),xn=!1;if(qn)try{var bs={};Object.defineProperty(bs,"passive",{get:function(){xn=!0}}),window.addEventListener("test",bs,bs),window.removeEventListener("test",bs,bs)}catch{xn=!1}var ii=null,pr=null,ki=null;function qo(){if(ki)return ki;var n,r=pr,a=r.length,l,f="value"in ii?ii.value:ii.textContent,d=f.length;for(n=0;n<a&&r[n]===f[n];n++);var _=a-n;for(l=1;l<=_&&r[a-l]===f[d-l];l++);return ki=f.slice(n,1<l?1-l:void 0)}function ri(n){var r=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&r===13&&(n=13)):n=r,n===10&&(n=13),32<=n||n===13?n:0}function si(){return!0}function Ho(){return!1}function Ot(n){function r(a,l,f,d,_){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var b in n)n.hasOwnProperty(b)&&(a=n[b],this[b]=a?a(d):d[b]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?si:Ho,this.isPropagationStopped=Ho,this}return E(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=si)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=si)},persist:function(){},isPersistent:si}),r}var qe={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_a=Ot(qe),ws=E({},qe,{view:0,detail:0}),Ou=Ot(ws),Ea,Ta,ai,Ss=E({},ws,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xs,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==ai&&(ai&&n.type==="mousemove"?(Ea=n.screenX-ai.screenX,Ta=n.screenY-ai.screenY):Ta=Ea=0,ai=n),Ea)},movementY:function(n){return"movementY"in n?n.movementY:Ta}}),In=Ot(Ss),Nu=E({},Ss,{dataTransfer:0}),vf=Ot(Nu),As=E({},ws,{relatedTarget:0}),ba=Ot(As),Fo=E({},qe,{animationName:0,elapsedTime:0,pseudoElement:0}),wa=Ot(Fo),ku=E({},qe,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Sa=Ot(ku),_f=E({},qe,{data:0}),Go=Ot(_f),Rs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Mu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Vu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $o(n){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(n):(n=Vu[n])?!!r[n]:!1}function xs(){return $o}var Pu=E({},ws,{key:function(n){if(n.key){var r=Rs[n.key]||n.key;if(r!=="Unidentified")return r}return n.type==="keypress"?(n=ri(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Mu[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xs,charCode:function(n){return n.type==="keypress"?ri(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?ri(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Aa=Ot(Pu),Lu=E({},Ss,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ko=Ot(Lu),Mi=E({},ws,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xs}),Uu=Ot(Mi),ju=E({},qe,{propertyName:0,elapsedTime:0,pseudoElement:0}),zu=Ot(ju),Bu=E({},Ss,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Ra=Ot(Bu),tn=E({},qe,{newState:0,oldState:0}),qu=Ot(tn),Hu=[9,13,27,32],oi=qn&&"CompositionEvent"in window,c=null;qn&&"documentMode"in document&&(c=document.documentMode);var y=qn&&"TextEvent"in window&&!c,v=qn&&(!oi||c&&8<c&&11>=c),w=" ",B=!1;function Y(n,r){switch(n){case"keyup":return Hu.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function se(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Ve=!1;function St(n,r){switch(n){case"compositionend":return se(r);case"keypress":return r.which!==32?null:(B=!0,w);case"textInput":return n=r.data,n===w&&B?null:n;default:return null}}function Pe(n,r){if(Ve)return n==="compositionend"||!oi&&Y(n,r)?(n=qo(),ki=pr=ii=null,Ve=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return v&&r.locale!=="ko"?null:r.data;default:return null}}var Nt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function At(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r==="input"?!!Nt[n.type]:r==="textarea"}function Vi(n,r,a,l){Oi?Ni?Ni.push(l):Ni=[l]:Oi=l,r=Cc(r,"onChange"),0<r.length&&(a=new _a("onChange","change",null,a,l),n.push({event:a,listeners:r}))}var jt=null,li=null;function Yo(n){tv(n,0)}function Fu(n){var r=ei(n);if(Uo(r))return n}function bg(n,r){if(n==="change")return r}var wg=!1;if(qn){var Ef;if(qn){var Tf="oninput"in document;if(!Tf){var Sg=document.createElement("div");Sg.setAttribute("oninput","return;"),Tf=typeof Sg.oninput=="function"}Ef=Tf}else Ef=!1;wg=Ef&&(!document.documentMode||9<document.documentMode)}function Ag(){jt&&(jt.detachEvent("onpropertychange",Rg),li=jt=null)}function Rg(n){if(n.propertyName==="value"&&Fu(li)){var r=[];Vi(r,li,n,Rn(n)),Du(Yo,r)}}function bw(n,r,a){n==="focusin"?(Ag(),jt=r,li=a,jt.attachEvent("onpropertychange",Rg)):n==="focusout"&&Ag()}function ww(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Fu(li)}function Sw(n,r){if(n==="click")return Fu(r)}function Aw(n,r){if(n==="input"||n==="change")return Fu(r)}function Rw(n,r){return n===r&&(n!==0||1/n===1/r)||n!==n&&r!==r}var dn=typeof Object.is=="function"?Object.is:Rw;function Qo(n,r){if(dn(n,r))return!0;if(typeof n!="object"||n===null||typeof r!="object"||r===null)return!1;var a=Object.keys(n),l=Object.keys(r);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!as.call(r,f)||!dn(n[f],r[f]))return!1}return!0}function xg(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Ig(n,r){var a=xg(n);n=0;for(var l;a;){if(a.nodeType===3){if(l=n+a.textContent.length,n<=r&&l>=r)return{node:a,offset:r-n};n=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=xg(a)}}function Cg(n,r){return n&&r?n===r?!0:n&&n.nodeType===3?!1:r&&r.nodeType===3?Cg(n,r.parentNode):"contains"in n?n.contains(r):n.compareDocumentPosition?!!(n.compareDocumentPosition(r)&16):!1:!1}function Dg(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var r=ys(n.document);r instanceof n.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)n=r.contentWindow;else break;r=ys(n.document)}return r}function bf(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r&&(r==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||r==="textarea"||n.contentEditable==="true")}var xw=qn&&"documentMode"in document&&11>=document.documentMode,xa=null,wf=null,Xo=null,Sf=!1;function Og(n,r,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Sf||xa==null||xa!==ys(l)||(l=xa,"selectionStart"in l&&bf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Xo&&Qo(Xo,l)||(Xo=l,l=Cc(wf,"onSelect"),0<l.length&&(r=new _a("onSelect","select",null,r,a),n.push({event:r,listeners:l}),r.target=xa)))}function Is(n,r){var a={};return a[n.toLowerCase()]=r.toLowerCase(),a["Webkit"+n]="webkit"+r,a["Moz"+n]="moz"+r,a}var Ia={animationend:Is("Animation","AnimationEnd"),animationiteration:Is("Animation","AnimationIteration"),animationstart:Is("Animation","AnimationStart"),transitionrun:Is("Transition","TransitionRun"),transitionstart:Is("Transition","TransitionStart"),transitioncancel:Is("Transition","TransitionCancel"),transitionend:Is("Transition","TransitionEnd")},Af={},Ng={};qn&&(Ng=document.createElement("div").style,"AnimationEvent"in window||(delete Ia.animationend.animation,delete Ia.animationiteration.animation,delete Ia.animationstart.animation),"TransitionEvent"in window||delete Ia.transitionend.transition);function Cs(n){if(Af[n])return Af[n];if(!Ia[n])return n;var r=Ia[n],a;for(a in r)if(r.hasOwnProperty(a)&&a in Ng)return Af[n]=r[a];return n}var kg=Cs("animationend"),Mg=Cs("animationiteration"),Vg=Cs("animationstart"),Iw=Cs("transitionrun"),Cw=Cs("transitionstart"),Dw=Cs("transitioncancel"),Pg=Cs("transitionend"),Lg=new Map,Rf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Rf.push("scrollEnd");function Hn(n,r){Lg.set(n,r),Bn(r,[n])}var Ug=new WeakMap;function Cn(n,r){if(typeof n=="object"&&n!==null){var a=Ug.get(n);return a!==void 0?a:(r={value:n,source:r,stack:ga(r)},Ug.set(n,r),r)}return{value:n,source:r,stack:ga(r)}}var Dn=[],Ca=0,xf=0;function Gu(){for(var n=Ca,r=xf=Ca=0;r<n;){var a=Dn[r];Dn[r++]=null;var l=Dn[r];Dn[r++]=null;var f=Dn[r];Dn[r++]=null;var d=Dn[r];if(Dn[r++]=null,l!==null&&f!==null){var _=l.pending;_===null?f.next=f:(f.next=_.next,_.next=f),l.pending=f}d!==0&&jg(a,f,d)}}function $u(n,r,a,l){Dn[Ca++]=n,Dn[Ca++]=r,Dn[Ca++]=a,Dn[Ca++]=l,xf|=l,n.lanes|=l,n=n.alternate,n!==null&&(n.lanes|=l)}function If(n,r,a,l){return $u(n,r,a,l),Ku(n)}function Da(n,r){return $u(n,null,null,r),Ku(n)}function jg(n,r,a){n.lanes|=a;var l=n.alternate;l!==null&&(l.lanes|=a);for(var f=!1,d=n.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(n=d.stateNode,n===null||n._visibility&1||(f=!0)),n=d,d=d.return;return n.tag===3?(d=n.stateNode,f&&r!==null&&(f=31-$t(a),n=d.hiddenUpdates,l=n[f],l===null?n[f]=[r]:l.push(r),r.lane=a|536870912),d):null}function Ku(n){if(50<Tl)throw Tl=0,Md=null,Error(s(185));for(var r=n.return;r!==null;)n=r,r=n.return;return n.tag===3?n.stateNode:null}var Oa={};function Ow(n,r,a,l){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mn(n,r,a,l){return new Ow(n,r,a,l)}function Cf(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Pi(n,r){var a=n.alternate;return a===null?(a=mn(n.tag,r,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=r,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&65011712,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,r=n.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a.refCleanup=n.refCleanup,a}function zg(n,r){n.flags&=65011714;var a=n.alternate;return a===null?(n.childLanes=0,n.lanes=r,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,r=a.dependencies,n.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),n}function Yu(n,r,a,l,f,d){var _=0;if(l=n,typeof n=="function")Cf(n)&&(_=1);else if(typeof n=="string")_=kS(n,a,pe.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case I:return n=mn(31,a,r,f),n.elementType=I,n.lanes=d,n;case O:return Ds(a.children,f,d,r);case $:_=8,f|=24;break;case L:return n=mn(12,a,r,f|2),n.elementType=L,n.lanes=d,n;case le:return n=mn(13,a,r,f),n.elementType=le,n.lanes=d,n;case de:return n=mn(19,a,r,f),n.elementType=de,n.lanes=d,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case V:case ie:_=10;break e;case Q:_=9;break e;case ue:_=11;break e;case M:_=14;break e;case R:_=16,l=null;break e}_=29,a=Error(s(130,n===null?"null":typeof n,"")),l=null}return r=mn(_,a,r,f),r.elementType=n,r.type=l,r.lanes=d,r}function Ds(n,r,a,l){return n=mn(7,n,l,r),n.lanes=a,n}function Df(n,r,a){return n=mn(6,n,null,r),n.lanes=a,n}function Of(n,r,a){return r=mn(4,n.children!==null?n.children:[],n.key,r),r.lanes=a,r.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},r}var Na=[],ka=0,Qu=null,Xu=0,On=[],Nn=0,Os=null,Li=1,Ui="";function Ns(n,r){Na[ka++]=Xu,Na[ka++]=Qu,Qu=n,Xu=r}function Bg(n,r,a){On[Nn++]=Li,On[Nn++]=Ui,On[Nn++]=Os,Os=n;var l=Li;n=Ui;var f=32-$t(l)-1;l&=~(1<<f),a+=1;var d=32-$t(r)+f;if(30<d){var _=f-f%5;d=(l&(1<<_)-1).toString(32),l>>=_,f-=_,Li=1<<32-$t(r)+f|a<<f|l,Ui=d+n}else Li=1<<d|a<<f|l,Ui=n}function Nf(n){n.return!==null&&(Ns(n,1),Bg(n,1,0))}function kf(n){for(;n===Qu;)Qu=Na[--ka],Na[ka]=null,Xu=Na[--ka],Na[ka]=null;for(;n===Os;)Os=On[--Nn],On[Nn]=null,Ui=On[--Nn],On[Nn]=null,Li=On[--Nn],On[Nn]=null}var nn=null,ut=null,Be=!1,ks=null,ui=!1,Mf=Error(s(519));function Ms(n){var r=Error(s(418,""));throw Jo(Cn(r,n)),Mf}function qg(n){var r=n.stateNode,a=n.type,l=n.memoizedProps;switch(r[wt]=n,r[yt]=l,a){case"dialog":Ne("cancel",r),Ne("close",r);break;case"iframe":case"object":case"embed":Ne("load",r);break;case"video":case"audio":for(a=0;a<wl.length;a++)Ne(wl[a],r);break;case"source":Ne("error",r);break;case"img":case"image":case"link":Ne("error",r),Ne("load",r);break;case"details":Ne("toggle",r);break;case"input":Ne("invalid",r),vs(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),ya(r);break;case"select":Ne("invalid",r);break;case"textarea":Ne("invalid",r),_s(r,l.value,l.defaultValue,l.children),ya(r)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||l.suppressHydrationWarning===!0||sv(r.textContent,a)?(l.popover!=null&&(Ne("beforetoggle",r),Ne("toggle",r)),l.onScroll!=null&&Ne("scroll",r),l.onScrollEnd!=null&&Ne("scrollend",r),l.onClick!=null&&(r.onclick=Dc),r=!0):r=!1,r||Ms(n)}function Hg(n){for(nn=n.return;nn;)switch(nn.tag){case 5:case 13:ui=!1;return;case 27:case 3:ui=!0;return;default:nn=nn.return}}function Wo(n){if(n!==nn)return!1;if(!Be)return Hg(n),Be=!0,!1;var r=n.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=n.type,a=!(a!=="form"&&a!=="button")||Xd(n.type,n.memoizedProps)),a=!a),a&&ut&&Ms(n),Hg(n),r===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));e:{for(n=n.nextSibling,r=0;n;){if(n.nodeType===8)if(a=n.data,a==="/$"){if(r===0){ut=Gn(n.nextSibling);break e}r--}else a!=="$"&&a!=="$!"&&a!=="$?"||r++;n=n.nextSibling}ut=null}}else r===27?(r=ut,Or(n.type)?(n=em,em=null,ut=n):ut=r):ut=nn?Gn(n.stateNode.nextSibling):null;return!0}function Zo(){ut=nn=null,Be=!1}function Fg(){var n=ks;return n!==null&&(on===null?on=n:on.push.apply(on,n),ks=null),n}function Jo(n){ks===null?ks=[n]:ks.push(n)}var Vf=Z(null),Vs=null,ji=null;function gr(n,r,a){re(Vf,r._currentValue),r._currentValue=a}function zi(n){n._currentValue=Vf.current,ae(Vf)}function Pf(n,r,a){for(;n!==null;){var l=n.alternate;if((n.childLanes&r)!==r?(n.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),n===a)break;n=n.return}}function Lf(n,r,a,l){var f=n.child;for(f!==null&&(f.return=n);f!==null;){var d=f.dependencies;if(d!==null){var _=f.child;d=d.firstContext;e:for(;d!==null;){var b=d;d=f;for(var C=0;C<r.length;C++)if(b.context===r[C]){d.lanes|=a,b=d.alternate,b!==null&&(b.lanes|=a),Pf(d.return,a,n),l||(_=null);break e}d=b.next}}else if(f.tag===18){if(_=f.return,_===null)throw Error(s(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),Pf(_,a,n),_=null}else _=f.child;if(_!==null)_.return=f;else for(_=f;_!==null;){if(_===n){_=null;break}if(f=_.sibling,f!==null){f.return=_.return,_=f;break}_=_.return}f=_}}function el(n,r,a,l){n=null;for(var f=r,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var _=f.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var b=f.type;dn(f.pendingProps.value,_.value)||(n!==null?n.push(b):n=[b])}}else if(f===Dt.current){if(_=f.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(n!==null?n.push(Cl):n=[Cl])}f=f.return}n!==null&&Lf(r,n,a,l),r.flags|=262144}function Wu(n){for(n=n.firstContext;n!==null;){if(!dn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function Ps(n){Vs=n,ji=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function Kt(n){return Gg(Vs,n)}function Zu(n,r){return Vs===null&&Ps(n),Gg(n,r)}function Gg(n,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},ji===null){if(n===null)throw Error(s(308));ji=r,n.dependencies={lanes:0,firstContext:r},n.flags|=524288}else ji=ji.next=r;return a}var Nw=typeof AbortController<"u"?AbortController:function(){var n=[],r=this.signal={aborted:!1,addEventListener:function(a,l){n.push(l)}};this.abort=function(){r.aborted=!0,n.forEach(function(a){return a()})}},kw=i.unstable_scheduleCallback,Mw=i.unstable_NormalPriority,Rt={$$typeof:ie,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Uf(){return{controller:new Nw,data:new Map,refCount:0}}function tl(n){n.refCount--,n.refCount===0&&kw(Mw,function(){n.controller.abort()})}var nl=null,jf=0,Ma=0,Va=null;function Vw(n,r){if(nl===null){var a=nl=[];jf=0,Ma=Bd(),Va={status:"pending",value:void 0,then:function(l){a.push(l)}}}return jf++,r.then($g,$g),r}function $g(){if(--jf===0&&nl!==null){Va!==null&&(Va.status="fulfilled");var n=nl;nl=null,Ma=0,Va=null;for(var r=0;r<n.length;r++)(0,n[r])()}}function Pw(n,r){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return n.then(function(){l.status="fulfilled",l.value=r;for(var f=0;f<a.length;f++)(0,a[f])(r)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var Kg=X.S;X.S=function(n,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&Vw(n,r),Kg!==null&&Kg(n,r)};var Ls=Z(null);function zf(){var n=Ls.current;return n!==null?n:Je.pooledCache}function Ju(n,r){r===null?re(Ls,Ls.current):re(Ls,r.pool)}function Yg(){var n=zf();return n===null?null:{parent:Rt._currentValue,pool:n}}var il=Error(s(460)),Qg=Error(s(474)),ec=Error(s(542)),Bf={then:function(){}};function Xg(n){return n=n.status,n==="fulfilled"||n==="rejected"}function tc(){}function Wg(n,r,a){switch(a=n[a],a===void 0?n.push(r):a!==r&&(r.then(tc,tc),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,Jg(n),n;default:if(typeof r.status=="string")r.then(tc,tc);else{if(n=Je,n!==null&&100<n.shellSuspendCounter)throw Error(s(482));n=r,n.status="pending",n.then(function(l){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=l}},function(l){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,Jg(n),n}throw rl=r,il}}var rl=null;function Zg(){if(rl===null)throw Error(s(459));var n=rl;return rl=null,n}function Jg(n){if(n===il||n===ec)throw Error(s(483))}var yr=!1;function qf(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Hf(n,r){n=n.updateQueue,r.updateQueue===n&&(r.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function vr(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function _r(n,r,a){var l=n.updateQueue;if(l===null)return null;if(l=l.shared,(Ge&2)!==0){var f=l.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),l.pending=r,r=Ku(n),jg(n,null,a),r}return $u(n,l,r,a),Ku(n)}function sl(n,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var l=r.lanes;l&=n.pendingLanes,a|=l,r.lanes=a,ko(n,a)}}function Ff(n,r){var a=n.updateQueue,l=n.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?f=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?f=d=r:d=d.next=r}else f=d=r;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=r:n.next=r,a.lastBaseUpdate=r}var Gf=!1;function al(){if(Gf){var n=Va;if(n!==null)throw n}}function ol(n,r,a,l){Gf=!1;var f=n.updateQueue;yr=!1;var d=f.firstBaseUpdate,_=f.lastBaseUpdate,b=f.shared.pending;if(b!==null){f.shared.pending=null;var C=b,F=C.next;C.next=null,_===null?d=F:_.next=F,_=C;var W=n.alternate;W!==null&&(W=W.updateQueue,b=W.lastBaseUpdate,b!==_&&(b===null?W.firstBaseUpdate=F:b.next=F,W.lastBaseUpdate=C))}if(d!==null){var ee=f.baseState;_=0,W=F=C=null,b=d;do{var G=b.lane&-536870913,K=G!==b.lane;if(K?(Le&G)===G:(l&G)===G){G!==0&&G===Ma&&(Gf=!0),W!==null&&(W=W.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var Te=n,ve=b;G=r;var Xe=a;switch(ve.tag){case 1:if(Te=ve.payload,typeof Te=="function"){ee=Te.call(Xe,ee,G);break e}ee=Te;break e;case 3:Te.flags=Te.flags&-65537|128;case 0:if(Te=ve.payload,G=typeof Te=="function"?Te.call(Xe,ee,G):Te,G==null)break e;ee=E({},ee,G);break e;case 2:yr=!0}}G=b.callback,G!==null&&(n.flags|=64,K&&(n.flags|=8192),K=f.callbacks,K===null?f.callbacks=[G]:K.push(G))}else K={lane:G,tag:b.tag,payload:b.payload,callback:b.callback,next:null},W===null?(F=W=K,C=ee):W=W.next=K,_|=G;if(b=b.next,b===null){if(b=f.shared.pending,b===null)break;K=b,b=K.next,K.next=null,f.lastBaseUpdate=K,f.shared.pending=null}}while(!0);W===null&&(C=ee),f.baseState=C,f.firstBaseUpdate=F,f.lastBaseUpdate=W,d===null&&(f.shared.lanes=0),xr|=_,n.lanes=_,n.memoizedState=ee}}function ey(n,r){if(typeof n!="function")throw Error(s(191,n));n.call(r)}function ty(n,r){var a=n.callbacks;if(a!==null)for(n.callbacks=null,n=0;n<a.length;n++)ey(a[n],r)}var Pa=Z(null),nc=Z(0);function ny(n,r){n=Ki,re(nc,n),re(Pa,r),Ki=n|r.baseLanes}function $f(){re(nc,Ki),re(Pa,Pa.current)}function Kf(){Ki=nc.current,ae(Pa),ae(nc)}var Er=0,xe=null,Ye=null,_t=null,ic=!1,La=!1,Us=!1,rc=0,ll=0,Ua=null,Lw=0;function mt(){throw Error(s(321))}function Yf(n,r){if(r===null)return!1;for(var a=0;a<r.length&&a<n.length;a++)if(!dn(n[a],r[a]))return!1;return!0}function Qf(n,r,a,l,f,d){return Er=d,xe=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,X.H=n===null||n.memoizedState===null?jy:zy,Us=!1,d=a(l,f),Us=!1,La&&(d=ry(r,a,l,f)),iy(n),d}function iy(n){X.H=cc;var r=Ye!==null&&Ye.next!==null;if(Er=0,_t=Ye=xe=null,ic=!1,ll=0,Ua=null,r)throw Error(s(300));n===null||kt||(n=n.dependencies,n!==null&&Wu(n)&&(kt=!0))}function ry(n,r,a,l){xe=n;var f=0;do{if(La&&(Ua=null),ll=0,La=!1,25<=f)throw Error(s(301));if(f+=1,_t=Ye=null,n.updateQueue!=null){var d=n.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}X.H=Fw,d=r(a,l)}while(La);return d}function Uw(){var n=X.H,r=n.useState()[0];return r=typeof r.then=="function"?ul(r):r,n=n.useState()[0],(Ye!==null?Ye.memoizedState:null)!==n&&(xe.flags|=1024),r}function Xf(){var n=rc!==0;return rc=0,n}function Wf(n,r,a){r.updateQueue=n.updateQueue,r.flags&=-2053,n.lanes&=~a}function Zf(n){if(ic){for(n=n.memoizedState;n!==null;){var r=n.queue;r!==null&&(r.pending=null),n=n.next}ic=!1}Er=0,_t=Ye=xe=null,La=!1,ll=rc=0,Ua=null}function sn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _t===null?xe.memoizedState=_t=n:_t=_t.next=n,_t}function Et(){if(Ye===null){var n=xe.alternate;n=n!==null?n.memoizedState:null}else n=Ye.next;var r=_t===null?xe.memoizedState:_t.next;if(r!==null)_t=r,Ye=n;else{if(n===null)throw xe.alternate===null?Error(s(467)):Error(s(310));Ye=n,n={memoizedState:Ye.memoizedState,baseState:Ye.baseState,baseQueue:Ye.baseQueue,queue:Ye.queue,next:null},_t===null?xe.memoizedState=_t=n:_t=_t.next=n}return _t}function Jf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ul(n){var r=ll;return ll+=1,Ua===null&&(Ua=[]),n=Wg(Ua,n,r),r=xe,(_t===null?r.memoizedState:_t.next)===null&&(r=r.alternate,X.H=r===null||r.memoizedState===null?jy:zy),n}function sc(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return ul(n);if(n.$$typeof===ie)return Kt(n)}throw Error(s(438,String(n)))}function ed(n){var r=null,a=xe.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var l=xe.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=Jf(),xe.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(n),l=0;l<n;l++)a[l]=k;return r.index++,a}function Bi(n,r){return typeof r=="function"?r(n):r}function ac(n){var r=Et();return td(r,Ye,n)}function td(n,r,a){var l=n.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var f=n.baseQueue,d=l.pending;if(d!==null){if(f!==null){var _=f.next;f.next=d.next,d.next=_}r.baseQueue=f=d,l.pending=null}if(d=n.baseState,f===null)n.memoizedState=d;else{r=f.next;var b=_=null,C=null,F=r,W=!1;do{var ee=F.lane&-536870913;if(ee!==F.lane?(Le&ee)===ee:(Er&ee)===ee){var G=F.revertLane;if(G===0)C!==null&&(C=C.next={lane:0,revertLane:0,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),ee===Ma&&(W=!0);else if((Er&G)===G){F=F.next,G===Ma&&(W=!0);continue}else ee={lane:0,revertLane:F.revertLane,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},C===null?(b=C=ee,_=d):C=C.next=ee,xe.lanes|=G,xr|=G;ee=F.action,Us&&a(d,ee),d=F.hasEagerState?F.eagerState:a(d,ee)}else G={lane:ee,revertLane:F.revertLane,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},C===null?(b=C=G,_=d):C=C.next=G,xe.lanes|=ee,xr|=ee;F=F.next}while(F!==null&&F!==r);if(C===null?_=d:C.next=b,!dn(d,n.memoizedState)&&(kt=!0,W&&(a=Va,a!==null)))throw a;n.memoizedState=d,n.baseState=_,n.baseQueue=C,l.lastRenderedState=d}return f===null&&(l.lanes=0),[n.memoizedState,l.dispatch]}function nd(n){var r=Et(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=n;var l=a.dispatch,f=a.pending,d=r.memoizedState;if(f!==null){a.pending=null;var _=f=f.next;do d=n(d,_.action),_=_.next;while(_!==f);dn(d,r.memoizedState)||(kt=!0),r.memoizedState=d,r.baseQueue===null&&(r.baseState=d),a.lastRenderedState=d}return[d,l]}function sy(n,r,a){var l=xe,f=Et(),d=Be;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=r();var _=!dn((Ye||f).memoizedState,a);_&&(f.memoizedState=a,kt=!0),f=f.queue;var b=ly.bind(null,l,f,n);if(cl(2048,8,b,[n]),f.getSnapshot!==r||_||_t!==null&&_t.memoizedState.tag&1){if(l.flags|=2048,ja(9,oc(),oy.bind(null,l,f,a,r),null),Je===null)throw Error(s(349));d||(Er&124)!==0||ay(l,r,a)}return a}function ay(n,r,a){n.flags|=16384,n={getSnapshot:r,value:a},r=xe.updateQueue,r===null?(r=Jf(),xe.updateQueue=r,r.stores=[n]):(a=r.stores,a===null?r.stores=[n]:a.push(n))}function oy(n,r,a,l){r.value=a,r.getSnapshot=l,uy(r)&&cy(n)}function ly(n,r,a){return a(function(){uy(r)&&cy(n)})}function uy(n){var r=n.getSnapshot;n=n.value;try{var a=r();return!dn(n,a)}catch{return!0}}function cy(n){var r=Da(n,2);r!==null&&_n(r,n,2)}function id(n){var r=sn();if(typeof n=="function"){var a=n;if(n=a(),Us){hn(!0);try{a()}finally{hn(!1)}}}return r.memoizedState=r.baseState=n,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bi,lastRenderedState:n},r}function hy(n,r,a,l){return n.baseState=a,td(n,Ye,typeof l=="function"?l:Bi)}function jw(n,r,a,l,f){if(uc(n))throw Error(s(485));if(n=r.action,n!==null){var d={payload:f,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};X.T!==null?a(!0):d.isTransition=!1,l(d),a=r.pending,a===null?(d.next=r.pending=d,fy(r,d)):(d.next=a.next,r.pending=a.next=d)}}function fy(n,r){var a=r.action,l=r.payload,f=n.state;if(r.isTransition){var d=X.T,_={};X.T=_;try{var b=a(f,l),C=X.S;C!==null&&C(_,b),dy(n,r,b)}catch(F){rd(n,r,F)}finally{X.T=d}}else try{d=a(f,l),dy(n,r,d)}catch(F){rd(n,r,F)}}function dy(n,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){my(n,r,l)},function(l){return rd(n,r,l)}):my(n,r,a)}function my(n,r,a){r.status="fulfilled",r.value=a,py(r),n.state=a,r=n.pending,r!==null&&(a=r.next,a===r?n.pending=null:(a=a.next,r.next=a,fy(n,a)))}function rd(n,r,a){var l=n.pending;if(n.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=a,py(r),r=r.next;while(r!==l)}n.action=null}function py(n){n=n.listeners;for(var r=0;r<n.length;r++)(0,n[r])()}function gy(n,r){return r}function yy(n,r){if(Be){var a=Je.formState;if(a!==null){e:{var l=xe;if(Be){if(ut){t:{for(var f=ut,d=ui;f.nodeType!==8;){if(!d){f=null;break t}if(f=Gn(f.nextSibling),f===null){f=null;break t}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){ut=Gn(f.nextSibling),l=f.data==="F!";break e}}Ms(l)}l=!1}l&&(r=a[0])}}return a=sn(),a.memoizedState=a.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:gy,lastRenderedState:r},a.queue=l,a=Py.bind(null,xe,l),l.dispatch=a,l=id(!1),d=ud.bind(null,xe,!1,l.queue),l=sn(),f={state:r,dispatch:null,action:n,pending:null},l.queue=f,a=jw.bind(null,xe,f,d,a),f.dispatch=a,l.memoizedState=n,[r,a,!1]}function vy(n){var r=Et();return _y(r,Ye,n)}function _y(n,r,a){if(r=td(n,r,gy)[0],n=ac(Bi)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=ul(r)}catch(_){throw _===il?ec:_}else l=r;r=Et();var f=r.queue,d=f.dispatch;return a!==r.memoizedState&&(xe.flags|=2048,ja(9,oc(),zw.bind(null,f,a),null)),[l,d,n]}function zw(n,r){n.action=r}function Ey(n){var r=Et(),a=Ye;if(a!==null)return _y(r,a,n);Et(),r=r.memoizedState,a=Et();var l=a.queue.dispatch;return a.memoizedState=n,[r,l,!1]}function ja(n,r,a,l){return n={tag:n,create:a,deps:l,inst:r,next:null},r=xe.updateQueue,r===null&&(r=Jf(),xe.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=n.next=n:(l=a.next,a.next=n,n.next=l,r.lastEffect=n),n}function oc(){return{destroy:void 0,resource:void 0}}function Ty(){return Et().memoizedState}function lc(n,r,a,l){var f=sn();l=l===void 0?null:l,xe.flags|=n,f.memoizedState=ja(1|r,oc(),a,l)}function cl(n,r,a,l){var f=Et();l=l===void 0?null:l;var d=f.memoizedState.inst;Ye!==null&&l!==null&&Yf(l,Ye.memoizedState.deps)?f.memoizedState=ja(r,d,a,l):(xe.flags|=n,f.memoizedState=ja(1|r,d,a,l))}function by(n,r){lc(8390656,8,n,r)}function wy(n,r){cl(2048,8,n,r)}function Sy(n,r){return cl(4,2,n,r)}function Ay(n,r){return cl(4,4,n,r)}function Ry(n,r){if(typeof r=="function"){n=n();var a=r(n);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return n=n(),r.current=n,function(){r.current=null}}function xy(n,r,a){a=a!=null?a.concat([n]):null,cl(4,4,Ry.bind(null,r,n),a)}function sd(){}function Iy(n,r){var a=Et();r=r===void 0?null:r;var l=a.memoizedState;return r!==null&&Yf(r,l[1])?l[0]:(a.memoizedState=[n,r],n)}function Cy(n,r){var a=Et();r=r===void 0?null:r;var l=a.memoizedState;if(r!==null&&Yf(r,l[1]))return l[0];if(l=n(),Us){hn(!0);try{n()}finally{hn(!1)}}return a.memoizedState=[l,r],l}function ad(n,r,a){return a===void 0||(Er&1073741824)!==0?n.memoizedState=r:(n.memoizedState=a,n=N0(),xe.lanes|=n,xr|=n,a)}function Dy(n,r,a,l){return dn(a,r)?a:Pa.current!==null?(n=ad(n,a,l),dn(n,r)||(kt=!0),n):(Er&42)===0?(kt=!0,n.memoizedState=a):(n=N0(),xe.lanes|=n,xr|=n,r)}function Oy(n,r,a,l,f){var d=oe.p;oe.p=d!==0&&8>d?d:8;var _=X.T,b={};X.T=b,ud(n,!1,r,a);try{var C=f(),F=X.S;if(F!==null&&F(b,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var W=Pw(C,l);hl(n,r,W,vn(n))}else hl(n,r,l,vn(n))}catch(ee){hl(n,r,{then:function(){},status:"rejected",reason:ee},vn())}finally{oe.p=d,X.T=_}}function Bw(){}function od(n,r,a,l){if(n.tag!==5)throw Error(s(476));var f=Ny(n).queue;Oy(n,f,r,me,a===null?Bw:function(){return ky(n),a(l)})}function Ny(n){var r=n.memoizedState;if(r!==null)return r;r={memoizedState:me,baseState:me,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bi,lastRenderedState:me},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bi,lastRenderedState:a},next:null},n.memoizedState=r,n=n.alternate,n!==null&&(n.memoizedState=r),r}function ky(n){var r=Ny(n).next.queue;hl(n,r,{},vn())}function ld(){return Kt(Cl)}function My(){return Et().memoizedState}function Vy(){return Et().memoizedState}function qw(n){for(var r=n.return;r!==null;){switch(r.tag){case 24:case 3:var a=vn();n=vr(a);var l=_r(r,n,a);l!==null&&(_n(l,r,a),sl(l,r,a)),r={cache:Uf()},n.payload=r;return}r=r.return}}function Hw(n,r,a){var l=vn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},uc(n)?Ly(r,a):(a=If(n,r,a,l),a!==null&&(_n(a,n,l),Uy(a,r,l)))}function Py(n,r,a){var l=vn();hl(n,r,a,l)}function hl(n,r,a,l){var f={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(uc(n))Ly(r,f);else{var d=n.alternate;if(n.lanes===0&&(d===null||d.lanes===0)&&(d=r.lastRenderedReducer,d!==null))try{var _=r.lastRenderedState,b=d(_,a);if(f.hasEagerState=!0,f.eagerState=b,dn(b,_))return $u(n,r,f,0),Je===null&&Gu(),!1}catch{}finally{}if(a=If(n,r,f,l),a!==null)return _n(a,n,l),Uy(a,r,l),!0}return!1}function ud(n,r,a,l){if(l={lane:2,revertLane:Bd(),action:l,hasEagerState:!1,eagerState:null,next:null},uc(n)){if(r)throw Error(s(479))}else r=If(n,a,l,2),r!==null&&_n(r,n,2)}function uc(n){var r=n.alternate;return n===xe||r!==null&&r===xe}function Ly(n,r){La=ic=!0;var a=n.pending;a===null?r.next=r:(r.next=a.next,a.next=r),n.pending=r}function Uy(n,r,a){if((a&4194048)!==0){var l=r.lanes;l&=n.pendingLanes,a|=l,r.lanes=a,ko(n,a)}}var cc={readContext:Kt,use:sc,useCallback:mt,useContext:mt,useEffect:mt,useImperativeHandle:mt,useLayoutEffect:mt,useInsertionEffect:mt,useMemo:mt,useReducer:mt,useRef:mt,useState:mt,useDebugValue:mt,useDeferredValue:mt,useTransition:mt,useSyncExternalStore:mt,useId:mt,useHostTransitionStatus:mt,useFormState:mt,useActionState:mt,useOptimistic:mt,useMemoCache:mt,useCacheRefresh:mt},jy={readContext:Kt,use:sc,useCallback:function(n,r){return sn().memoizedState=[n,r===void 0?null:r],n},useContext:Kt,useEffect:by,useImperativeHandle:function(n,r,a){a=a!=null?a.concat([n]):null,lc(4194308,4,Ry.bind(null,r,n),a)},useLayoutEffect:function(n,r){return lc(4194308,4,n,r)},useInsertionEffect:function(n,r){lc(4,2,n,r)},useMemo:function(n,r){var a=sn();r=r===void 0?null:r;var l=n();if(Us){hn(!0);try{n()}finally{hn(!1)}}return a.memoizedState=[l,r],l},useReducer:function(n,r,a){var l=sn();if(a!==void 0){var f=a(r);if(Us){hn(!0);try{a(r)}finally{hn(!1)}}}else f=r;return l.memoizedState=l.baseState=f,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:f},l.queue=n,n=n.dispatch=Hw.bind(null,xe,n),[l.memoizedState,n]},useRef:function(n){var r=sn();return n={current:n},r.memoizedState=n},useState:function(n){n=id(n);var r=n.queue,a=Py.bind(null,xe,r);return r.dispatch=a,[n.memoizedState,a]},useDebugValue:sd,useDeferredValue:function(n,r){var a=sn();return ad(a,n,r)},useTransition:function(){var n=id(!1);return n=Oy.bind(null,xe,n.queue,!0,!1),sn().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,r,a){var l=xe,f=sn();if(Be){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),Je===null)throw Error(s(349));(Le&124)!==0||ay(l,r,a)}f.memoizedState=a;var d={value:a,getSnapshot:r};return f.queue=d,by(ly.bind(null,l,d,n),[n]),l.flags|=2048,ja(9,oc(),oy.bind(null,l,d,a,r),null),a},useId:function(){var n=sn(),r=Je.identifierPrefix;if(Be){var a=Ui,l=Li;a=(l&~(1<<32-$t(l)-1)).toString(32)+a,r=""+r+"R"+a,a=rc++,0<a&&(r+="H"+a.toString(32)),r+=""}else a=Lw++,r=""+r+"r"+a.toString(32)+"";return n.memoizedState=r},useHostTransitionStatus:ld,useFormState:yy,useActionState:yy,useOptimistic:function(n){var r=sn();r.memoizedState=r.baseState=n;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=ud.bind(null,xe,!0,a),a.dispatch=r,[n,r]},useMemoCache:ed,useCacheRefresh:function(){return sn().memoizedState=qw.bind(null,xe)}},zy={readContext:Kt,use:sc,useCallback:Iy,useContext:Kt,useEffect:wy,useImperativeHandle:xy,useInsertionEffect:Sy,useLayoutEffect:Ay,useMemo:Cy,useReducer:ac,useRef:Ty,useState:function(){return ac(Bi)},useDebugValue:sd,useDeferredValue:function(n,r){var a=Et();return Dy(a,Ye.memoizedState,n,r)},useTransition:function(){var n=ac(Bi)[0],r=Et().memoizedState;return[typeof n=="boolean"?n:ul(n),r]},useSyncExternalStore:sy,useId:My,useHostTransitionStatus:ld,useFormState:vy,useActionState:vy,useOptimistic:function(n,r){var a=Et();return hy(a,Ye,n,r)},useMemoCache:ed,useCacheRefresh:Vy},Fw={readContext:Kt,use:sc,useCallback:Iy,useContext:Kt,useEffect:wy,useImperativeHandle:xy,useInsertionEffect:Sy,useLayoutEffect:Ay,useMemo:Cy,useReducer:nd,useRef:Ty,useState:function(){return nd(Bi)},useDebugValue:sd,useDeferredValue:function(n,r){var a=Et();return Ye===null?ad(a,n,r):Dy(a,Ye.memoizedState,n,r)},useTransition:function(){var n=nd(Bi)[0],r=Et().memoizedState;return[typeof n=="boolean"?n:ul(n),r]},useSyncExternalStore:sy,useId:My,useHostTransitionStatus:ld,useFormState:Ey,useActionState:Ey,useOptimistic:function(n,r){var a=Et();return Ye!==null?hy(a,Ye,n,r):(a.baseState=n,[n,a.queue.dispatch])},useMemoCache:ed,useCacheRefresh:Vy},za=null,fl=0;function hc(n){var r=fl;return fl+=1,za===null&&(za=[]),Wg(za,n,r)}function dl(n,r){r=r.props.ref,n.ref=r!==void 0?r:null}function fc(n,r){throw r.$$typeof===A?Error(s(525)):(n=Object.prototype.toString.call(r),Error(s(31,n==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":n)))}function By(n){var r=n._init;return r(n._payload)}function qy(n){function r(j,P){if(n){var H=j.deletions;H===null?(j.deletions=[P],j.flags|=16):H.push(P)}}function a(j,P){if(!n)return null;for(;P!==null;)r(j,P),P=P.sibling;return null}function l(j){for(var P=new Map;j!==null;)j.key!==null?P.set(j.key,j):P.set(j.index,j),j=j.sibling;return P}function f(j,P){return j=Pi(j,P),j.index=0,j.sibling=null,j}function d(j,P,H){return j.index=H,n?(H=j.alternate,H!==null?(H=H.index,H<P?(j.flags|=67108866,P):H):(j.flags|=67108866,P)):(j.flags|=1048576,P)}function _(j){return n&&j.alternate===null&&(j.flags|=67108866),j}function b(j,P,H,J){return P===null||P.tag!==6?(P=Df(H,j.mode,J),P.return=j,P):(P=f(P,H),P.return=j,P)}function C(j,P,H,J){var fe=H.type;return fe===O?W(j,P,H.props.children,J,H.key):P!==null&&(P.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===R&&By(fe)===P.type)?(P=f(P,H.props),dl(P,H),P.return=j,P):(P=Yu(H.type,H.key,H.props,null,j.mode,J),dl(P,H),P.return=j,P)}function F(j,P,H,J){return P===null||P.tag!==4||P.stateNode.containerInfo!==H.containerInfo||P.stateNode.implementation!==H.implementation?(P=Of(H,j.mode,J),P.return=j,P):(P=f(P,H.children||[]),P.return=j,P)}function W(j,P,H,J,fe){return P===null||P.tag!==7?(P=Ds(H,j.mode,J,fe),P.return=j,P):(P=f(P,H),P.return=j,P)}function ee(j,P,H){if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return P=Df(""+P,j.mode,H),P.return=j,P;if(typeof P=="object"&&P!==null){switch(P.$$typeof){case S:return H=Yu(P.type,P.key,P.props,null,j.mode,H),dl(H,P),H.return=j,H;case N:return P=Of(P,j.mode,H),P.return=j,P;case R:var J=P._init;return P=J(P._payload),ee(j,P,H)}if(et(P)||z(P))return P=Ds(P,j.mode,H,null),P.return=j,P;if(typeof P.then=="function")return ee(j,hc(P),H);if(P.$$typeof===ie)return ee(j,Zu(j,P),H);fc(j,P)}return null}function G(j,P,H,J){var fe=P!==null?P.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return fe!==null?null:b(j,P,""+H,J);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case S:return H.key===fe?C(j,P,H,J):null;case N:return H.key===fe?F(j,P,H,J):null;case R:return fe=H._init,H=fe(H._payload),G(j,P,H,J)}if(et(H)||z(H))return fe!==null?null:W(j,P,H,J,null);if(typeof H.then=="function")return G(j,P,hc(H),J);if(H.$$typeof===ie)return G(j,P,Zu(j,H),J);fc(j,H)}return null}function K(j,P,H,J,fe){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return j=j.get(H)||null,b(P,j,""+J,fe);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case S:return j=j.get(J.key===null?H:J.key)||null,C(P,j,J,fe);case N:return j=j.get(J.key===null?H:J.key)||null,F(P,j,J,fe);case R:var De=J._init;return J=De(J._payload),K(j,P,H,J,fe)}if(et(J)||z(J))return j=j.get(H)||null,W(P,j,J,fe,null);if(typeof J.then=="function")return K(j,P,H,hc(J),fe);if(J.$$typeof===ie)return K(j,P,H,Zu(P,J),fe);fc(P,J)}return null}function Te(j,P,H,J){for(var fe=null,De=null,ge=P,_e=P=0,Vt=null;ge!==null&&_e<H.length;_e++){ge.index>_e?(Vt=ge,ge=null):Vt=ge.sibling;var ze=G(j,ge,H[_e],J);if(ze===null){ge===null&&(ge=Vt);break}n&&ge&&ze.alternate===null&&r(j,ge),P=d(ze,P,_e),De===null?fe=ze:De.sibling=ze,De=ze,ge=Vt}if(_e===H.length)return a(j,ge),Be&&Ns(j,_e),fe;if(ge===null){for(;_e<H.length;_e++)ge=ee(j,H[_e],J),ge!==null&&(P=d(ge,P,_e),De===null?fe=ge:De.sibling=ge,De=ge);return Be&&Ns(j,_e),fe}for(ge=l(ge);_e<H.length;_e++)Vt=K(ge,j,_e,H[_e],J),Vt!==null&&(n&&Vt.alternate!==null&&ge.delete(Vt.key===null?_e:Vt.key),P=d(Vt,P,_e),De===null?fe=Vt:De.sibling=Vt,De=Vt);return n&&ge.forEach(function(Pr){return r(j,Pr)}),Be&&Ns(j,_e),fe}function ve(j,P,H,J){if(H==null)throw Error(s(151));for(var fe=null,De=null,ge=P,_e=P=0,Vt=null,ze=H.next();ge!==null&&!ze.done;_e++,ze=H.next()){ge.index>_e?(Vt=ge,ge=null):Vt=ge.sibling;var Pr=G(j,ge,ze.value,J);if(Pr===null){ge===null&&(ge=Vt);break}n&&ge&&Pr.alternate===null&&r(j,ge),P=d(Pr,P,_e),De===null?fe=Pr:De.sibling=Pr,De=Pr,ge=Vt}if(ze.done)return a(j,ge),Be&&Ns(j,_e),fe;if(ge===null){for(;!ze.done;_e++,ze=H.next())ze=ee(j,ze.value,J),ze!==null&&(P=d(ze,P,_e),De===null?fe=ze:De.sibling=ze,De=ze);return Be&&Ns(j,_e),fe}for(ge=l(ge);!ze.done;_e++,ze=H.next())ze=K(ge,j,_e,ze.value,J),ze!==null&&(n&&ze.alternate!==null&&ge.delete(ze.key===null?_e:ze.key),P=d(ze,P,_e),De===null?fe=ze:De.sibling=ze,De=ze);return n&&ge.forEach(function(GS){return r(j,GS)}),Be&&Ns(j,_e),fe}function Xe(j,P,H,J){if(typeof H=="object"&&H!==null&&H.type===O&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case S:e:{for(var fe=H.key;P!==null;){if(P.key===fe){if(fe=H.type,fe===O){if(P.tag===7){a(j,P.sibling),J=f(P,H.props.children),J.return=j,j=J;break e}}else if(P.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===R&&By(fe)===P.type){a(j,P.sibling),J=f(P,H.props),dl(J,H),J.return=j,j=J;break e}a(j,P);break}else r(j,P);P=P.sibling}H.type===O?(J=Ds(H.props.children,j.mode,J,H.key),J.return=j,j=J):(J=Yu(H.type,H.key,H.props,null,j.mode,J),dl(J,H),J.return=j,j=J)}return _(j);case N:e:{for(fe=H.key;P!==null;){if(P.key===fe)if(P.tag===4&&P.stateNode.containerInfo===H.containerInfo&&P.stateNode.implementation===H.implementation){a(j,P.sibling),J=f(P,H.children||[]),J.return=j,j=J;break e}else{a(j,P);break}else r(j,P);P=P.sibling}J=Of(H,j.mode,J),J.return=j,j=J}return _(j);case R:return fe=H._init,H=fe(H._payload),Xe(j,P,H,J)}if(et(H))return Te(j,P,H,J);if(z(H)){if(fe=z(H),typeof fe!="function")throw Error(s(150));return H=fe.call(H),ve(j,P,H,J)}if(typeof H.then=="function")return Xe(j,P,hc(H),J);if(H.$$typeof===ie)return Xe(j,P,Zu(j,H),J);fc(j,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,P!==null&&P.tag===6?(a(j,P.sibling),J=f(P,H),J.return=j,j=J):(a(j,P),J=Df(H,j.mode,J),J.return=j,j=J),_(j)):a(j,P)}return function(j,P,H,J){try{fl=0;var fe=Xe(j,P,H,J);return za=null,fe}catch(ge){if(ge===il||ge===ec)throw ge;var De=mn(29,ge,null,j.mode);return De.lanes=J,De.return=j,De}finally{}}}var Ba=qy(!0),Hy=qy(!1),kn=Z(null),ci=null;function Tr(n){var r=n.alternate;re(xt,xt.current&1),re(kn,n),ci===null&&(r===null||Pa.current!==null||r.memoizedState!==null)&&(ci=n)}function Fy(n){if(n.tag===22){if(re(xt,xt.current),re(kn,n),ci===null){var r=n.alternate;r!==null&&r.memoizedState!==null&&(ci=n)}}else br()}function br(){re(xt,xt.current),re(kn,kn.current)}function qi(n){ae(kn),ci===n&&(ci=null),ae(xt)}var xt=Z(0);function dc(n){for(var r=n;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Jd(a)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function cd(n,r,a,l){r=n.memoizedState,a=a(l,r),a=a==null?r:E({},r,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var hd={enqueueSetState:function(n,r,a){n=n._reactInternals;var l=vn(),f=vr(l);f.payload=r,a!=null&&(f.callback=a),r=_r(n,f,l),r!==null&&(_n(r,n,l),sl(r,n,l))},enqueueReplaceState:function(n,r,a){n=n._reactInternals;var l=vn(),f=vr(l);f.tag=1,f.payload=r,a!=null&&(f.callback=a),r=_r(n,f,l),r!==null&&(_n(r,n,l),sl(r,n,l))},enqueueForceUpdate:function(n,r){n=n._reactInternals;var a=vn(),l=vr(a);l.tag=2,r!=null&&(l.callback=r),r=_r(n,l,a),r!==null&&(_n(r,n,a),sl(r,n,a))}};function Gy(n,r,a,l,f,d,_){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(l,d,_):r.prototype&&r.prototype.isPureReactComponent?!Qo(a,l)||!Qo(f,d):!0}function $y(n,r,a,l){n=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,l),r.state!==n&&hd.enqueueReplaceState(r,r.state,null)}function js(n,r){var a=r;if("ref"in r){a={};for(var l in r)l!=="ref"&&(a[l]=r[l])}if(n=n.defaultProps){a===r&&(a=E({},a));for(var f in n)a[f]===void 0&&(a[f]=n[f])}return a}var mc=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function Ky(n){mc(n)}function Yy(n){console.error(n)}function Qy(n){mc(n)}function pc(n,r){try{var a=n.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function Xy(n,r,a){try{var l=n.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function fd(n,r,a){return a=vr(a),a.tag=3,a.payload={element:null},a.callback=function(){pc(n,r)},a}function Wy(n){return n=vr(n),n.tag=3,n}function Zy(n,r,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var d=l.value;n.payload=function(){return f(d)},n.callback=function(){Xy(r,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(n.callback=function(){Xy(r,a,l),typeof f!="function"&&(Ir===null?Ir=new Set([this]):Ir.add(this));var b=l.stack;this.componentDidCatch(l.value,{componentStack:b!==null?b:""})})}function Gw(n,r,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=a.alternate,r!==null&&el(r,a,f,!0),a=kn.current,a!==null){switch(a.tag){case 13:return ci===null?Pd():a.alternate===null&&ct===0&&(ct=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===Bf?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([l]):r.add(l),Ud(n,l,f)),!1;case 22:return a.flags|=65536,l===Bf?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([l]):a.add(l)),Ud(n,l,f)),!1}throw Error(s(435,a.tag))}return Ud(n,l,f),Pd(),!1}if(Be)return r=kn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=f,l!==Mf&&(n=Error(s(422),{cause:l}),Jo(Cn(n,a)))):(l!==Mf&&(r=Error(s(423),{cause:l}),Jo(Cn(r,a))),n=n.current.alternate,n.flags|=65536,f&=-f,n.lanes|=f,l=Cn(l,a),f=fd(n.stateNode,l,f),Ff(n,f),ct!==4&&(ct=2)),!1;var d=Error(s(520),{cause:l});if(d=Cn(d,a),El===null?El=[d]:El.push(d),ct!==4&&(ct=2),r===null)return!0;l=Cn(l,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,n=f&-f,a.lanes|=n,n=fd(a.stateNode,l,n),Ff(a,n),!1;case 1:if(r=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Ir===null||!Ir.has(d))))return a.flags|=65536,f&=-f,a.lanes|=f,f=Wy(f),Zy(f,n,a,l),Ff(a,f),!1}a=a.return}while(a!==null);return!1}var Jy=Error(s(461)),kt=!1;function zt(n,r,a,l){r.child=n===null?Hy(r,null,a,l):Ba(r,n.child,a,l)}function e0(n,r,a,l,f){a=a.render;var d=r.ref;if("ref"in l){var _={};for(var b in l)b!=="ref"&&(_[b]=l[b])}else _=l;return Ps(r),l=Qf(n,r,a,_,d,f),b=Xf(),n!==null&&!kt?(Wf(n,r,f),Hi(n,r,f)):(Be&&b&&Nf(r),r.flags|=1,zt(n,r,l,f),r.child)}function t0(n,r,a,l,f){if(n===null){var d=a.type;return typeof d=="function"&&!Cf(d)&&d.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=d,n0(n,r,d,l,f)):(n=Yu(a.type,null,l,r,r.mode,f),n.ref=r.ref,n.return=r,r.child=n)}if(d=n.child,!Ed(n,f)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:Qo,a(_,l)&&n.ref===r.ref)return Hi(n,r,f)}return r.flags|=1,n=Pi(d,l),n.ref=r.ref,n.return=r,r.child=n}function n0(n,r,a,l,f){if(n!==null){var d=n.memoizedProps;if(Qo(d,l)&&n.ref===r.ref)if(kt=!1,r.pendingProps=l=d,Ed(n,f))(n.flags&131072)!==0&&(kt=!0);else return r.lanes=n.lanes,Hi(n,r,f)}return dd(n,r,a,l,f)}function i0(n,r,a){var l=r.pendingProps,f=l.children,d=n!==null?n.memoizedState:null;if(l.mode==="hidden"){if((r.flags&128)!==0){if(l=d!==null?d.baseLanes|a:a,n!==null){for(f=r.child=n.child,d=0;f!==null;)d=d|f.lanes|f.childLanes,f=f.sibling;r.childLanes=d&~l}else r.childLanes=0,r.child=null;return r0(n,r,l,a)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},n!==null&&Ju(r,d!==null?d.cachePool:null),d!==null?ny(r,d):$f(),Fy(r);else return r.lanes=r.childLanes=536870912,r0(n,r,d!==null?d.baseLanes|a:a,a)}else d!==null?(Ju(r,d.cachePool),ny(r,d),br(),r.memoizedState=null):(n!==null&&Ju(r,null),$f(),br());return zt(n,r,f,a),r.child}function r0(n,r,a,l){var f=zf();return f=f===null?null:{parent:Rt._currentValue,pool:f},r.memoizedState={baseLanes:a,cachePool:f},n!==null&&Ju(r,null),$f(),Fy(r),n!==null&&el(n,r,l,!0),null}function gc(n,r){var a=r.ref;if(a===null)n!==null&&n.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(n===null||n.ref!==a)&&(r.flags|=4194816)}}function dd(n,r,a,l,f){return Ps(r),a=Qf(n,r,a,l,void 0,f),l=Xf(),n!==null&&!kt?(Wf(n,r,f),Hi(n,r,f)):(Be&&l&&Nf(r),r.flags|=1,zt(n,r,a,f),r.child)}function s0(n,r,a,l,f,d){return Ps(r),r.updateQueue=null,a=ry(r,l,a,f),iy(n),l=Xf(),n!==null&&!kt?(Wf(n,r,d),Hi(n,r,d)):(Be&&l&&Nf(r),r.flags|=1,zt(n,r,a,d),r.child)}function a0(n,r,a,l,f){if(Ps(r),r.stateNode===null){var d=Oa,_=a.contextType;typeof _=="object"&&_!==null&&(d=Kt(_)),d=new a(l,d),r.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=hd,r.stateNode=d,d._reactInternals=r,d=r.stateNode,d.props=l,d.state=r.memoizedState,d.refs={},qf(r),_=a.contextType,d.context=typeof _=="object"&&_!==null?Kt(_):Oa,d.state=r.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(cd(r,a,_,l),d.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&hd.enqueueReplaceState(d,d.state,null),ol(r,l,d,f),al(),d.state=r.memoizedState),typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(n===null){d=r.stateNode;var b=r.memoizedProps,C=js(a,b);d.props=C;var F=d.context,W=a.contextType;_=Oa,typeof W=="object"&&W!==null&&(_=Kt(W));var ee=a.getDerivedStateFromProps;W=typeof ee=="function"||typeof d.getSnapshotBeforeUpdate=="function",b=r.pendingProps!==b,W||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(b||F!==_)&&$y(r,d,l,_),yr=!1;var G=r.memoizedState;d.state=G,ol(r,l,d,f),al(),F=r.memoizedState,b||G!==F||yr?(typeof ee=="function"&&(cd(r,a,ee,l),F=r.memoizedState),(C=yr||Gy(r,a,C,l,G,F,_))?(W||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(r.flags|=4194308)):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=F),d.props=l,d.state=F,d.context=_,l=C):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{d=r.stateNode,Hf(n,r),_=r.memoizedProps,W=js(a,_),d.props=W,ee=r.pendingProps,G=d.context,F=a.contextType,C=Oa,typeof F=="object"&&F!==null&&(C=Kt(F)),b=a.getDerivedStateFromProps,(F=typeof b=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==ee||G!==C)&&$y(r,d,l,C),yr=!1,G=r.memoizedState,d.state=G,ol(r,l,d,f),al();var K=r.memoizedState;_!==ee||G!==K||yr||n!==null&&n.dependencies!==null&&Wu(n.dependencies)?(typeof b=="function"&&(cd(r,a,b,l),K=r.memoizedState),(W=yr||Gy(r,a,W,l,G,K,C)||n!==null&&n.dependencies!==null&&Wu(n.dependencies))?(F||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,K,C),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,K,C)),typeof d.componentDidUpdate=="function"&&(r.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===n.memoizedProps&&G===n.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===n.memoizedProps&&G===n.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=K),d.props=l,d.state=K,d.context=C,l=W):(typeof d.componentDidUpdate!="function"||_===n.memoizedProps&&G===n.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===n.memoizedProps&&G===n.memoizedState||(r.flags|=1024),l=!1)}return d=l,gc(n,r),l=(r.flags&128)!==0,d||l?(d=r.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),r.flags|=1,n!==null&&l?(r.child=Ba(r,n.child,null,f),r.child=Ba(r,null,a,f)):zt(n,r,a,f),r.memoizedState=d.state,n=r.child):n=Hi(n,r,f),n}function o0(n,r,a,l){return Zo(),r.flags|=256,zt(n,r,a,l),r.child}var md={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function pd(n){return{baseLanes:n,cachePool:Yg()}}function gd(n,r,a){return n=n!==null?n.childLanes&~a:0,r&&(n|=Mn),n}function l0(n,r,a){var l=r.pendingProps,f=!1,d=(r.flags&128)!==0,_;if((_=d)||(_=n!==null&&n.memoizedState===null?!1:(xt.current&2)!==0),_&&(f=!0,r.flags&=-129),_=(r.flags&32)!==0,r.flags&=-33,n===null){if(Be){if(f?Tr(r):br(),Be){var b=ut,C;if(C=b){e:{for(C=b,b=ui;C.nodeType!==8;){if(!b){b=null;break e}if(C=Gn(C.nextSibling),C===null){b=null;break e}}b=C}b!==null?(r.memoizedState={dehydrated:b,treeContext:Os!==null?{id:Li,overflow:Ui}:null,retryLane:536870912,hydrationErrors:null},C=mn(18,null,null,0),C.stateNode=b,C.return=r,r.child=C,nn=r,ut=null,C=!0):C=!1}C||Ms(r)}if(b=r.memoizedState,b!==null&&(b=b.dehydrated,b!==null))return Jd(b)?r.lanes=32:r.lanes=536870912,null;qi(r)}return b=l.children,l=l.fallback,f?(br(),f=r.mode,b=yc({mode:"hidden",children:b},f),l=Ds(l,f,a,null),b.return=r,l.return=r,b.sibling=l,r.child=b,f=r.child,f.memoizedState=pd(a),f.childLanes=gd(n,_,a),r.memoizedState=md,l):(Tr(r),yd(r,b))}if(C=n.memoizedState,C!==null&&(b=C.dehydrated,b!==null)){if(d)r.flags&256?(Tr(r),r.flags&=-257,r=vd(n,r,a)):r.memoizedState!==null?(br(),r.child=n.child,r.flags|=128,r=null):(br(),f=l.fallback,b=r.mode,l=yc({mode:"visible",children:l.children},b),f=Ds(f,b,a,null),f.flags|=2,l.return=r,f.return=r,l.sibling=f,r.child=l,Ba(r,n.child,null,a),l=r.child,l.memoizedState=pd(a),l.childLanes=gd(n,_,a),r.memoizedState=md,r=f);else if(Tr(r),Jd(b)){if(_=b.nextSibling&&b.nextSibling.dataset,_)var F=_.dgst;_=F,l=Error(s(419)),l.stack="",l.digest=_,Jo({value:l,source:null,stack:null}),r=vd(n,r,a)}else if(kt||el(n,r,a,!1),_=(a&n.childLanes)!==0,kt||_){if(_=Je,_!==null&&(l=a&-a,l=(l&42)!==0?1:ur(l),l=(l&(_.suspendedLanes|a))!==0?0:l,l!==0&&l!==C.retryLane))throw C.retryLane=l,Da(n,l),_n(_,n,l),Jy;b.data==="$?"||Pd(),r=vd(n,r,a)}else b.data==="$?"?(r.flags|=192,r.child=n.child,r=null):(n=C.treeContext,ut=Gn(b.nextSibling),nn=r,Be=!0,ks=null,ui=!1,n!==null&&(On[Nn++]=Li,On[Nn++]=Ui,On[Nn++]=Os,Li=n.id,Ui=n.overflow,Os=r),r=yd(r,l.children),r.flags|=4096);return r}return f?(br(),f=l.fallback,b=r.mode,C=n.child,F=C.sibling,l=Pi(C,{mode:"hidden",children:l.children}),l.subtreeFlags=C.subtreeFlags&65011712,F!==null?f=Pi(F,f):(f=Ds(f,b,a,null),f.flags|=2),f.return=r,l.return=r,l.sibling=f,r.child=l,l=f,f=r.child,b=n.child.memoizedState,b===null?b=pd(a):(C=b.cachePool,C!==null?(F=Rt._currentValue,C=C.parent!==F?{parent:F,pool:F}:C):C=Yg(),b={baseLanes:b.baseLanes|a,cachePool:C}),f.memoizedState=b,f.childLanes=gd(n,_,a),r.memoizedState=md,l):(Tr(r),a=n.child,n=a.sibling,a=Pi(a,{mode:"visible",children:l.children}),a.return=r,a.sibling=null,n!==null&&(_=r.deletions,_===null?(r.deletions=[n],r.flags|=16):_.push(n)),r.child=a,r.memoizedState=null,a)}function yd(n,r){return r=yc({mode:"visible",children:r},n.mode),r.return=n,n.child=r}function yc(n,r){return n=mn(22,n,null,r),n.lanes=0,n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},n}function vd(n,r,a){return Ba(r,n.child,null,a),n=yd(r,r.pendingProps.children),n.flags|=2,r.memoizedState=null,n}function u0(n,r,a){n.lanes|=r;var l=n.alternate;l!==null&&(l.lanes|=r),Pf(n.return,r,a)}function _d(n,r,a,l,f){var d=n.memoizedState;d===null?n.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f}:(d.isBackwards=r,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=f)}function c0(n,r,a){var l=r.pendingProps,f=l.revealOrder,d=l.tail;if(zt(n,r,l.children,a),l=xt.current,(l&2)!==0)l=l&1|2,r.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=r.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&u0(n,a,r);else if(n.tag===19)u0(n,a,r);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===r)break e;for(;n.sibling===null;){if(n.return===null||n.return===r)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}l&=1}switch(re(xt,l),f){case"forwards":for(a=r.child,f=null;a!==null;)n=a.alternate,n!==null&&dc(n)===null&&(f=a),a=a.sibling;a=f,a===null?(f=r.child,r.child=null):(f=a.sibling,a.sibling=null),_d(r,!1,f,a,d);break;case"backwards":for(a=null,f=r.child,r.child=null;f!==null;){if(n=f.alternate,n!==null&&dc(n)===null){r.child=f;break}n=f.sibling,f.sibling=a,a=f,f=n}_d(r,!0,a,null,d);break;case"together":_d(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function Hi(n,r,a){if(n!==null&&(r.dependencies=n.dependencies),xr|=r.lanes,(a&r.childLanes)===0)if(n!==null){if(el(n,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(n!==null&&r.child!==n.child)throw Error(s(153));if(r.child!==null){for(n=r.child,a=Pi(n,n.pendingProps),r.child=a,a.return=r;n.sibling!==null;)n=n.sibling,a=a.sibling=Pi(n,n.pendingProps),a.return=r;a.sibling=null}return r.child}function Ed(n,r){return(n.lanes&r)!==0?!0:(n=n.dependencies,!!(n!==null&&Wu(n)))}function $w(n,r,a){switch(r.tag){case 3:Ze(r,r.stateNode.containerInfo),gr(r,Rt,n.memoizedState.cache),Zo();break;case 27:case 5:lr(r);break;case 4:Ze(r,r.stateNode.containerInfo);break;case 10:gr(r,r.type,r.memoizedProps.value);break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(Tr(r),r.flags|=128,null):(a&r.child.childLanes)!==0?l0(n,r,a):(Tr(r),n=Hi(n,r,a),n!==null?n.sibling:null);Tr(r);break;case 19:var f=(n.flags&128)!==0;if(l=(a&r.childLanes)!==0,l||(el(n,r,a,!1),l=(a&r.childLanes)!==0),f){if(l)return c0(n,r,a);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),re(xt,xt.current),l)break;return null;case 22:case 23:return r.lanes=0,i0(n,r,a);case 24:gr(r,Rt,n.memoizedState.cache)}return Hi(n,r,a)}function h0(n,r,a){if(n!==null)if(n.memoizedProps!==r.pendingProps)kt=!0;else{if(!Ed(n,a)&&(r.flags&128)===0)return kt=!1,$w(n,r,a);kt=(n.flags&131072)!==0}else kt=!1,Be&&(r.flags&1048576)!==0&&Bg(r,Xu,r.index);switch(r.lanes=0,r.tag){case 16:e:{n=r.pendingProps;var l=r.elementType,f=l._init;if(l=f(l._payload),r.type=l,typeof l=="function")Cf(l)?(n=js(l,n),r.tag=1,r=a0(null,r,l,n,a)):(r.tag=0,r=dd(null,r,l,n,a));else{if(l!=null){if(f=l.$$typeof,f===ue){r.tag=11,r=e0(null,r,l,n,a);break e}else if(f===M){r.tag=14,r=t0(null,r,l,n,a);break e}}throw r=nt(l)||l,Error(s(306,r,""))}}return r;case 0:return dd(n,r,r.type,r.pendingProps,a);case 1:return l=r.type,f=js(l,r.pendingProps),a0(n,r,l,f,a);case 3:e:{if(Ze(r,r.stateNode.containerInfo),n===null)throw Error(s(387));l=r.pendingProps;var d=r.memoizedState;f=d.element,Hf(n,r),ol(r,l,null,a);var _=r.memoizedState;if(l=_.cache,gr(r,Rt,l),l!==d.cache&&Lf(r,[Rt],a,!0),al(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},r.updateQueue.baseState=d,r.memoizedState=d,r.flags&256){r=o0(n,r,l,a);break e}else if(l!==f){f=Cn(Error(s(424)),r),Jo(f),r=o0(n,r,l,a);break e}else{switch(n=r.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(ut=Gn(n.firstChild),nn=r,Be=!0,ks=null,ui=!0,a=Hy(r,null,l,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Zo(),l===f){r=Hi(n,r,a);break e}zt(n,r,l,a)}r=r.child}return r;case 26:return gc(n,r),n===null?(a=pv(r.type,null,r.pendingProps,null))?r.memoizedState=a:Be||(a=r.type,n=r.pendingProps,l=Oc(we.current).createElement(a),l[wt]=r,l[yt]=n,qt(l,a,n),dt(l),r.stateNode=l):r.memoizedState=pv(r.type,n.memoizedProps,r.pendingProps,n.memoizedState),null;case 27:return lr(r),n===null&&Be&&(l=r.stateNode=fv(r.type,r.pendingProps,we.current),nn=r,ui=!0,f=ut,Or(r.type)?(em=f,ut=Gn(l.firstChild)):ut=f),zt(n,r,r.pendingProps.children,a),gc(n,r),n===null&&(r.flags|=4194304),r.child;case 5:return n===null&&Be&&((f=l=ut)&&(l=ES(l,r.type,r.pendingProps,ui),l!==null?(r.stateNode=l,nn=r,ut=Gn(l.firstChild),ui=!1,f=!0):f=!1),f||Ms(r)),lr(r),f=r.type,d=r.pendingProps,_=n!==null?n.memoizedProps:null,l=d.children,Xd(f,d)?l=null:_!==null&&Xd(f,_)&&(r.flags|=32),r.memoizedState!==null&&(f=Qf(n,r,Uw,null,null,a),Cl._currentValue=f),gc(n,r),zt(n,r,l,a),r.child;case 6:return n===null&&Be&&((n=a=ut)&&(a=TS(a,r.pendingProps,ui),a!==null?(r.stateNode=a,nn=r,ut=null,n=!0):n=!1),n||Ms(r)),null;case 13:return l0(n,r,a);case 4:return Ze(r,r.stateNode.containerInfo),l=r.pendingProps,n===null?r.child=Ba(r,null,l,a):zt(n,r,l,a),r.child;case 11:return e0(n,r,r.type,r.pendingProps,a);case 7:return zt(n,r,r.pendingProps,a),r.child;case 8:return zt(n,r,r.pendingProps.children,a),r.child;case 12:return zt(n,r,r.pendingProps.children,a),r.child;case 10:return l=r.pendingProps,gr(r,r.type,l.value),zt(n,r,l.children,a),r.child;case 9:return f=r.type._context,l=r.pendingProps.children,Ps(r),f=Kt(f),l=l(f),r.flags|=1,zt(n,r,l,a),r.child;case 14:return t0(n,r,r.type,r.pendingProps,a);case 15:return n0(n,r,r.type,r.pendingProps,a);case 19:return c0(n,r,a);case 31:return l=r.pendingProps,a=r.mode,l={mode:l.mode,children:l.children},n===null?(a=yc(l,a),a.ref=r.ref,r.child=a,a.return=r,r=a):(a=Pi(n.child,l),a.ref=r.ref,r.child=a,a.return=r,r=a),r;case 22:return i0(n,r,a);case 24:return Ps(r),l=Kt(Rt),n===null?(f=zf(),f===null&&(f=Je,d=Uf(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=a),f=d),r.memoizedState={parent:l,cache:f},qf(r),gr(r,Rt,f)):((n.lanes&a)!==0&&(Hf(n,r),ol(r,null,null,a),al()),f=n.memoizedState,d=r.memoizedState,f.parent!==l?(f={parent:l,cache:l},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),gr(r,Rt,l)):(l=d.cache,gr(r,Rt,l),l!==f.cache&&Lf(r,[Rt],a,!0))),zt(n,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function Fi(n){n.flags|=4}function f0(n,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!Ev(r)){if(r=kn.current,r!==null&&((Le&4194048)===Le?ci!==null:(Le&62914560)!==Le&&(Le&536870912)===0||r!==ci))throw rl=Bf,Qg;n.flags|=8192}}function vc(n,r){r!==null&&(n.flags|=4),n.flags&16384&&(r=n.tag!==22?Oo():536870912,n.lanes|=r,Ga|=r)}function ml(n,r){if(!Be)switch(n.tailMode){case"hidden":r=n.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r||n.tail===null?n.tail=null:n.tail.sibling=null:l.sibling=null}}function st(n){var r=n.alternate!==null&&n.alternate.child===n.child,a=0,l=0;if(r)for(var f=n.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=l,n.childLanes=a,r}function Kw(n,r,a){var l=r.pendingProps;switch(kf(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return st(r),null;case 1:return st(r),null;case 3:return a=r.stateNode,l=null,n!==null&&(l=n.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),zi(Rt),Wn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(n===null||n.child===null)&&(Wo(r)?Fi(r):n===null||n.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Fg())),st(r),null;case 26:return a=r.memoizedState,n===null?(Fi(r),a!==null?(st(r),f0(r,a)):(st(r),r.flags&=-16777217)):a?a!==n.memoizedState?(Fi(r),st(r),f0(r,a)):(st(r),r.flags&=-16777217):(n.memoizedProps!==l&&Fi(r),st(r),r.flags&=-16777217),null;case 27:wi(r),a=we.current;var f=r.type;if(n!==null&&r.stateNode!=null)n.memoizedProps!==l&&Fi(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return st(r),null}n=pe.current,Wo(r)?qg(r):(n=fv(f,l,a),r.stateNode=n,Fi(r))}return st(r),null;case 5:if(wi(r),a=r.type,n!==null&&r.stateNode!=null)n.memoizedProps!==l&&Fi(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return st(r),null}if(n=pe.current,Wo(r))qg(r);else{switch(f=Oc(we.current),n){case 1:n=f.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:n=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":n=f.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":n=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":n=f.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof l.is=="string"?f.createElement("select",{is:l.is}):f.createElement("select"),l.multiple?n.multiple=!0:l.size&&(n.size=l.size);break;default:n=typeof l.is=="string"?f.createElement(a,{is:l.is}):f.createElement(a)}}n[wt]=r,n[yt]=l;e:for(f=r.child;f!==null;){if(f.tag===5||f.tag===6)n.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===r)break e;for(;f.sibling===null;){if(f.return===null||f.return===r)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}r.stateNode=n;e:switch(qt(n,a,l),a){case"button":case"input":case"select":case"textarea":n=!!l.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&Fi(r)}}return st(r),r.flags&=-16777217,null;case 6:if(n&&r.stateNode!=null)n.memoizedProps!==l&&Fi(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(s(166));if(n=we.current,Wo(r)){if(n=r.stateNode,a=r.memoizedProps,l=null,f=nn,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}n[wt]=r,n=!!(n.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||sv(n.nodeValue,a)),n||Ms(r)}else n=Oc(n).createTextNode(l),n[wt]=r,r.stateNode=n}return st(r),null;case 13:if(l=r.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(f=Wo(r),l!==null&&l.dehydrated!==null){if(n===null){if(!f)throw Error(s(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[wt]=r}else Zo(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;st(r),f=!1}else f=Fg(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=f),f=!0;if(!f)return r.flags&256?(qi(r),r):(qi(r),null)}if(qi(r),(r.flags&128)!==0)return r.lanes=a,r;if(a=l!==null,n=n!==null&&n.memoizedState!==null,a){l=r.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==f&&(l.flags|=2048)}return a!==n&&a&&(r.child.flags|=8192),vc(r,r.updateQueue),st(r),null;case 4:return Wn(),n===null&&Gd(r.stateNode.containerInfo),st(r),null;case 10:return zi(r.type),st(r),null;case 19:if(ae(xt),f=r.memoizedState,f===null)return st(r),null;if(l=(r.flags&128)!==0,d=f.rendering,d===null)if(l)ml(f,!1);else{if(ct!==0||n!==null&&(n.flags&128)!==0)for(n=r.child;n!==null;){if(d=dc(n),d!==null){for(r.flags|=128,ml(f,!1),n=d.updateQueue,r.updateQueue=n,vc(r,n),r.subtreeFlags=0,n=a,a=r.child;a!==null;)zg(a,n),a=a.sibling;return re(xt,xt.current&1|2),r.child}n=n.sibling}f.tail!==null&&wn()>Tc&&(r.flags|=128,l=!0,ml(f,!1),r.lanes=4194304)}else{if(!l)if(n=dc(d),n!==null){if(r.flags|=128,l=!0,n=n.updateQueue,r.updateQueue=n,vc(r,n),ml(f,!0),f.tail===null&&f.tailMode==="hidden"&&!d.alternate&&!Be)return st(r),null}else 2*wn()-f.renderingStartTime>Tc&&a!==536870912&&(r.flags|=128,l=!0,ml(f,!1),r.lanes=4194304);f.isBackwards?(d.sibling=r.child,r.child=d):(n=f.last,n!==null?n.sibling=d:r.child=d,f.last=d)}return f.tail!==null?(r=f.tail,f.rendering=r,f.tail=r.sibling,f.renderingStartTime=wn(),r.sibling=null,n=xt.current,re(xt,l?n&1|2:n&1),r):(st(r),null);case 22:case 23:return qi(r),Kf(),l=r.memoizedState!==null,n!==null?n.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(a&536870912)!==0&&(r.flags&128)===0&&(st(r),r.subtreeFlags&6&&(r.flags|=8192)):st(r),a=r.updateQueue,a!==null&&vc(r,a.retryQueue),a=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048),n!==null&&ae(Ls),null;case 24:return a=null,n!==null&&(a=n.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),zi(Rt),st(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function Yw(n,r){switch(kf(r),r.tag){case 1:return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 3:return zi(Rt),Wn(),n=r.flags,(n&65536)!==0&&(n&128)===0?(r.flags=n&-65537|128,r):null;case 26:case 27:case 5:return wi(r),null;case 13:if(qi(r),n=r.memoizedState,n!==null&&n.dehydrated!==null){if(r.alternate===null)throw Error(s(340));Zo()}return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 19:return ae(xt),null;case 4:return Wn(),null;case 10:return zi(r.type),null;case 22:case 23:return qi(r),Kf(),n!==null&&ae(Ls),n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 24:return zi(Rt),null;case 25:return null;default:return null}}function d0(n,r){switch(kf(r),r.tag){case 3:zi(Rt),Wn();break;case 26:case 27:case 5:wi(r);break;case 4:Wn();break;case 13:qi(r);break;case 19:ae(xt);break;case 10:zi(r.type);break;case 22:case 23:qi(r),Kf(),n!==null&&ae(Ls);break;case 24:zi(Rt)}}function pl(n,r){try{var a=r.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&n)===n){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==f)}}catch(b){We(r,r.return,b)}}function wr(n,r,a){try{var l=r.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var d=f.next;l=d;do{if((l.tag&n)===n){var _=l.inst,b=_.destroy;if(b!==void 0){_.destroy=void 0,f=r;var C=a,F=b;try{F()}catch(W){We(f,C,W)}}}l=l.next}while(l!==d)}}catch(W){We(r,r.return,W)}}function m0(n){var r=n.updateQueue;if(r!==null){var a=n.stateNode;try{ty(r,a)}catch(l){We(n,n.return,l)}}}function p0(n,r,a){a.props=js(n.type,n.memoizedProps),a.state=n.memoizedState;try{a.componentWillUnmount()}catch(l){We(n,r,l)}}function gl(n,r){try{var a=n.ref;if(a!==null){switch(n.tag){case 26:case 27:case 5:var l=n.stateNode;break;case 30:l=n.stateNode;break;default:l=n.stateNode}typeof a=="function"?n.refCleanup=a(l):a.current=l}}catch(f){We(n,r,f)}}function hi(n,r){var a=n.ref,l=n.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){We(n,r,f)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){We(n,r,f)}else a.current=null}function g0(n){var r=n.type,a=n.memoizedProps,l=n.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){We(n,n.return,f)}}function Td(n,r,a){try{var l=n.stateNode;pS(l,n.type,a,r),l[yt]=r}catch(f){We(n,n.return,f)}}function y0(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&Or(n.type)||n.tag===4}function bd(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||y0(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&Or(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function wd(n,r,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(n,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(n),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=Dc));else if(l!==4&&(l===27&&Or(n.type)&&(a=n.stateNode,r=null),n=n.child,n!==null))for(wd(n,r,a),n=n.sibling;n!==null;)wd(n,r,a),n=n.sibling}function _c(n,r,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,r?a.insertBefore(n,r):a.appendChild(n);else if(l!==4&&(l===27&&Or(n.type)&&(a=n.stateNode),n=n.child,n!==null))for(_c(n,r,a),n=n.sibling;n!==null;)_c(n,r,a),n=n.sibling}function v0(n){var r=n.stateNode,a=n.memoizedProps;try{for(var l=n.type,f=r.attributes;f.length;)r.removeAttributeNode(f[0]);qt(r,l,a),r[wt]=n,r[yt]=a}catch(d){We(n,n.return,d)}}var Gi=!1,pt=!1,Sd=!1,_0=typeof WeakSet=="function"?WeakSet:Set,Mt=null;function Qw(n,r){if(n=n.containerInfo,Yd=Lc,n=Dg(n),bf(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var _=0,b=-1,C=-1,F=0,W=0,ee=n,G=null;t:for(;;){for(var K;ee!==a||f!==0&&ee.nodeType!==3||(b=_+f),ee!==d||l!==0&&ee.nodeType!==3||(C=_+l),ee.nodeType===3&&(_+=ee.nodeValue.length),(K=ee.firstChild)!==null;)G=ee,ee=K;for(;;){if(ee===n)break t;if(G===a&&++F===f&&(b=_),G===d&&++W===l&&(C=_),(K=ee.nextSibling)!==null)break;ee=G,G=ee.parentNode}ee=K}a=b===-1||C===-1?null:{start:b,end:C}}else a=null}a=a||{start:0,end:0}}else a=null;for(Qd={focusedElem:n,selectionRange:a},Lc=!1,Mt=r;Mt!==null;)if(r=Mt,n=r.child,(r.subtreeFlags&1024)!==0&&n!==null)n.return=r,Mt=n;else for(;Mt!==null;){switch(r=Mt,d=r.alternate,n=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&d!==null){n=void 0,a=r,f=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var Te=js(a.type,f,a.elementType===a.type);n=l.getSnapshotBeforeUpdate(Te,d),l.__reactInternalSnapshotBeforeUpdate=n}catch(ve){We(a,a.return,ve)}}break;case 3:if((n&1024)!==0){if(n=r.stateNode.containerInfo,a=n.nodeType,a===9)Zd(n);else if(a===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":Zd(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(s(163))}if(n=r.sibling,n!==null){n.return=r.return,Mt=n;break}Mt=r.return}}function E0(n,r,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Sr(n,a),l&4&&pl(5,a);break;case 1:if(Sr(n,a),l&4)if(n=a.stateNode,r===null)try{n.componentDidMount()}catch(_){We(a,a.return,_)}else{var f=js(a.type,r.memoizedProps);r=r.memoizedState;try{n.componentDidUpdate(f,r,n.__reactInternalSnapshotBeforeUpdate)}catch(_){We(a,a.return,_)}}l&64&&m0(a),l&512&&gl(a,a.return);break;case 3:if(Sr(n,a),l&64&&(n=a.updateQueue,n!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{ty(n,r)}catch(_){We(a,a.return,_)}}break;case 27:r===null&&l&4&&v0(a);case 26:case 5:Sr(n,a),r===null&&l&4&&g0(a),l&512&&gl(a,a.return);break;case 12:Sr(n,a);break;case 13:Sr(n,a),l&4&&w0(n,a),l&64&&(n=a.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(a=rS.bind(null,a),bS(n,a))));break;case 22:if(l=a.memoizedState!==null||Gi,!l){r=r!==null&&r.memoizedState!==null||pt,f=Gi;var d=pt;Gi=l,(pt=r)&&!d?Ar(n,a,(a.subtreeFlags&8772)!==0):Sr(n,a),Gi=f,pt=d}break;case 30:break;default:Sr(n,a)}}function T0(n){var r=n.alternate;r!==null&&(n.alternate=null,T0(r)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(r=n.stateNode,r!==null&&fr(r)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var rt=null,an=!1;function $i(n,r,a){for(a=a.child;a!==null;)b0(n,r,a),a=a.sibling}function b0(n,r,a){if(Fe&&typeof Fe.onCommitFiberUnmount=="function")try{Fe.onCommitFiberUnmount(lt,a)}catch{}switch(a.tag){case 26:pt||hi(a,r),$i(n,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:pt||hi(a,r);var l=rt,f=an;Or(a.type)&&(rt=a.stateNode,an=!1),$i(n,r,a),Al(a.stateNode),rt=l,an=f;break;case 5:pt||hi(a,r);case 6:if(l=rt,f=an,rt=null,$i(n,r,a),rt=l,an=f,rt!==null)if(an)try{(rt.nodeType===9?rt.body:rt.nodeName==="HTML"?rt.ownerDocument.body:rt).removeChild(a.stateNode)}catch(d){We(a,r,d)}else try{rt.removeChild(a.stateNode)}catch(d){We(a,r,d)}break;case 18:rt!==null&&(an?(n=rt,cv(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,a.stateNode),kl(n)):cv(rt,a.stateNode));break;case 4:l=rt,f=an,rt=a.stateNode.containerInfo,an=!0,$i(n,r,a),rt=l,an=f;break;case 0:case 11:case 14:case 15:pt||wr(2,a,r),pt||wr(4,a,r),$i(n,r,a);break;case 1:pt||(hi(a,r),l=a.stateNode,typeof l.componentWillUnmount=="function"&&p0(a,r,l)),$i(n,r,a);break;case 21:$i(n,r,a);break;case 22:pt=(l=pt)||a.memoizedState!==null,$i(n,r,a),pt=l;break;default:$i(n,r,a)}}function w0(n,r){if(r.memoizedState===null&&(n=r.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{kl(n)}catch(a){We(r,r.return,a)}}function Xw(n){switch(n.tag){case 13:case 19:var r=n.stateNode;return r===null&&(r=n.stateNode=new _0),r;case 22:return n=n.stateNode,r=n._retryCache,r===null&&(r=n._retryCache=new _0),r;default:throw Error(s(435,n.tag))}}function Ad(n,r){var a=Xw(n);r.forEach(function(l){var f=sS.bind(null,n,l);a.has(l)||(a.add(l),l.then(f,f))})}function pn(n,r){var a=r.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],d=n,_=r,b=_;e:for(;b!==null;){switch(b.tag){case 27:if(Or(b.type)){rt=b.stateNode,an=!1;break e}break;case 5:rt=b.stateNode,an=!1;break e;case 3:case 4:rt=b.stateNode.containerInfo,an=!0;break e}b=b.return}if(rt===null)throw Error(s(160));b0(d,_,f),rt=null,an=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)S0(r,n),r=r.sibling}var Fn=null;function S0(n,r){var a=n.alternate,l=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:pn(r,n),gn(n),l&4&&(wr(3,n,n.return),pl(3,n),wr(5,n,n.return));break;case 1:pn(r,n),gn(n),l&512&&(pt||a===null||hi(a,a.return)),l&64&&Gi&&(n=n.updateQueue,n!==null&&(l=n.callbacks,l!==null&&(a=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=Fn;if(pn(r,n),gn(n),l&512&&(pt||a===null||hi(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=n.memoizedState,a===null)if(l===null)if(n.stateNode===null){e:{l=n.type,a=n.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":d=f.getElementsByTagName("title")[0],(!d||d[ms]||d[wt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(l),f.head.insertBefore(d,f.querySelector("head > title"))),qt(d,l,a),d[wt]=n,dt(d),l=d;break e;case"link":var _=vv("link","href",f).get(l+(a.href||""));if(_){for(var b=0;b<_.length;b++)if(d=_[b],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(b,1);break t}}d=f.createElement(l),qt(d,l,a),f.head.appendChild(d);break;case"meta":if(_=vv("meta","content",f).get(l+(a.content||""))){for(b=0;b<_.length;b++)if(d=_[b],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(b,1);break t}}d=f.createElement(l),qt(d,l,a),f.head.appendChild(d);break;default:throw Error(s(468,l))}d[wt]=n,dt(d),l=d}n.stateNode=l}else _v(f,n.type,n.stateNode);else n.stateNode=yv(f,l,n.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?_v(f,n.type,n.stateNode):yv(f,l,n.memoizedProps)):l===null&&n.stateNode!==null&&Td(n,n.memoizedProps,a.memoizedProps)}break;case 27:pn(r,n),gn(n),l&512&&(pt||a===null||hi(a,a.return)),a!==null&&l&4&&Td(n,n.memoizedProps,a.memoizedProps);break;case 5:if(pn(r,n),gn(n),l&512&&(pt||a===null||hi(a,a.return)),n.flags&32){f=n.stateNode;try{An(f,"")}catch(K){We(n,n.return,K)}}l&4&&n.stateNode!=null&&(f=n.memoizedProps,Td(n,f,a!==null?a.memoizedProps:f)),l&1024&&(Sd=!0);break;case 6:if(pn(r,n),gn(n),l&4){if(n.stateNode===null)throw Error(s(162));l=n.memoizedProps,a=n.stateNode;try{a.nodeValue=l}catch(K){We(n,n.return,K)}}break;case 3:if(Mc=null,f=Fn,Fn=Nc(r.containerInfo),pn(r,n),Fn=f,gn(n),l&4&&a!==null&&a.memoizedState.isDehydrated)try{kl(r.containerInfo)}catch(K){We(n,n.return,K)}Sd&&(Sd=!1,A0(n));break;case 4:l=Fn,Fn=Nc(n.stateNode.containerInfo),pn(r,n),gn(n),Fn=l;break;case 12:pn(r,n),gn(n);break;case 13:pn(r,n),gn(n),n.child.flags&8192&&n.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Od=wn()),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,Ad(n,l)));break;case 22:f=n.memoizedState!==null;var C=a!==null&&a.memoizedState!==null,F=Gi,W=pt;if(Gi=F||f,pt=W||C,pn(r,n),pt=W,Gi=F,gn(n),l&8192)e:for(r=n.stateNode,r._visibility=f?r._visibility&-2:r._visibility|1,f&&(a===null||C||Gi||pt||zs(n)),a=null,r=n;;){if(r.tag===5||r.tag===26){if(a===null){C=a=r;try{if(d=C.stateNode,f)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{b=C.stateNode;var ee=C.memoizedProps.style,G=ee!=null&&ee.hasOwnProperty("display")?ee.display:null;b.style.display=G==null||typeof G=="boolean"?"":(""+G).trim()}}catch(K){We(C,C.return,K)}}}else if(r.tag===6){if(a===null){C=r;try{C.stateNode.nodeValue=f?"":C.memoizedProps}catch(K){We(C,C.return,K)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===n)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break e;for(;r.sibling===null;){if(r.return===null||r.return===n)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=n.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Ad(n,a))));break;case 19:pn(r,n),gn(n),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,Ad(n,l)));break;case 30:break;case 21:break;default:pn(r,n),gn(n)}}function gn(n){var r=n.flags;if(r&2){try{for(var a,l=n.return;l!==null;){if(y0(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var f=a.stateNode,d=bd(n);_c(n,d,f);break;case 5:var _=a.stateNode;a.flags&32&&(An(_,""),a.flags&=-33);var b=bd(n);_c(n,b,_);break;case 3:case 4:var C=a.stateNode.containerInfo,F=bd(n);wd(n,F,C);break;default:throw Error(s(161))}}catch(W){We(n,n.return,W)}n.flags&=-3}r&4096&&(n.flags&=-4097)}function A0(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var r=n;A0(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),n=n.sibling}}function Sr(n,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)E0(n,r.alternate,r),r=r.sibling}function zs(n){for(n=n.child;n!==null;){var r=n;switch(r.tag){case 0:case 11:case 14:case 15:wr(4,r,r.return),zs(r);break;case 1:hi(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&p0(r,r.return,a),zs(r);break;case 27:Al(r.stateNode);case 26:case 5:hi(r,r.return),zs(r);break;case 22:r.memoizedState===null&&zs(r);break;case 30:zs(r);break;default:zs(r)}n=n.sibling}}function Ar(n,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,f=n,d=r,_=d.flags;switch(d.tag){case 0:case 11:case 15:Ar(f,d,a),pl(4,d);break;case 1:if(Ar(f,d,a),l=d,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(F){We(l,l.return,F)}if(l=d,f=l.updateQueue,f!==null){var b=l.stateNode;try{var C=f.shared.hiddenCallbacks;if(C!==null)for(f.shared.hiddenCallbacks=null,f=0;f<C.length;f++)ey(C[f],b)}catch(F){We(l,l.return,F)}}a&&_&64&&m0(d),gl(d,d.return);break;case 27:v0(d);case 26:case 5:Ar(f,d,a),a&&l===null&&_&4&&g0(d),gl(d,d.return);break;case 12:Ar(f,d,a);break;case 13:Ar(f,d,a),a&&_&4&&w0(f,d);break;case 22:d.memoizedState===null&&Ar(f,d,a),gl(d,d.return);break;case 30:break;default:Ar(f,d,a)}r=r.sibling}}function Rd(n,r){var a=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),n=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(n=r.memoizedState.cachePool.pool),n!==a&&(n!=null&&n.refCount++,a!=null&&tl(a))}function xd(n,r){n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&tl(n))}function fi(n,r,a,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)R0(n,r,a,l),r=r.sibling}function R0(n,r,a,l){var f=r.flags;switch(r.tag){case 0:case 11:case 15:fi(n,r,a,l),f&2048&&pl(9,r);break;case 1:fi(n,r,a,l);break;case 3:fi(n,r,a,l),f&2048&&(n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&tl(n)));break;case 12:if(f&2048){fi(n,r,a,l),n=r.stateNode;try{var d=r.memoizedProps,_=d.id,b=d.onPostCommit;typeof b=="function"&&b(_,r.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(C){We(r,r.return,C)}}else fi(n,r,a,l);break;case 13:fi(n,r,a,l);break;case 23:break;case 22:d=r.stateNode,_=r.alternate,r.memoizedState!==null?d._visibility&2?fi(n,r,a,l):yl(n,r):d._visibility&2?fi(n,r,a,l):(d._visibility|=2,qa(n,r,a,l,(r.subtreeFlags&10256)!==0)),f&2048&&Rd(_,r);break;case 24:fi(n,r,a,l),f&2048&&xd(r.alternate,r);break;default:fi(n,r,a,l)}}function qa(n,r,a,l,f){for(f=f&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var d=n,_=r,b=a,C=l,F=_.flags;switch(_.tag){case 0:case 11:case 15:qa(d,_,b,C,f),pl(8,_);break;case 23:break;case 22:var W=_.stateNode;_.memoizedState!==null?W._visibility&2?qa(d,_,b,C,f):yl(d,_):(W._visibility|=2,qa(d,_,b,C,f)),f&&F&2048&&Rd(_.alternate,_);break;case 24:qa(d,_,b,C,f),f&&F&2048&&xd(_.alternate,_);break;default:qa(d,_,b,C,f)}r=r.sibling}}function yl(n,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=n,l=r,f=l.flags;switch(l.tag){case 22:yl(a,l),f&2048&&Rd(l.alternate,l);break;case 24:yl(a,l),f&2048&&xd(l.alternate,l);break;default:yl(a,l)}r=r.sibling}}var vl=8192;function Ha(n){if(n.subtreeFlags&vl)for(n=n.child;n!==null;)x0(n),n=n.sibling}function x0(n){switch(n.tag){case 26:Ha(n),n.flags&vl&&n.memoizedState!==null&&VS(Fn,n.memoizedState,n.memoizedProps);break;case 5:Ha(n);break;case 3:case 4:var r=Fn;Fn=Nc(n.stateNode.containerInfo),Ha(n),Fn=r;break;case 22:n.memoizedState===null&&(r=n.alternate,r!==null&&r.memoizedState!==null?(r=vl,vl=16777216,Ha(n),vl=r):Ha(n));break;default:Ha(n)}}function I0(n){var r=n.alternate;if(r!==null&&(n=r.child,n!==null)){r.child=null;do r=n.sibling,n.sibling=null,n=r;while(n!==null)}}function _l(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Mt=l,D0(l,n)}I0(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)C0(n),n=n.sibling}function C0(n){switch(n.tag){case 0:case 11:case 15:_l(n),n.flags&2048&&wr(9,n,n.return);break;case 3:_l(n);break;case 12:_l(n);break;case 22:var r=n.stateNode;n.memoizedState!==null&&r._visibility&2&&(n.return===null||n.return.tag!==13)?(r._visibility&=-3,Ec(n)):_l(n);break;default:_l(n)}}function Ec(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Mt=l,D0(l,n)}I0(n)}for(n=n.child;n!==null;){switch(r=n,r.tag){case 0:case 11:case 15:wr(8,r,r.return),Ec(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,Ec(r));break;default:Ec(r)}n=n.sibling}}function D0(n,r){for(;Mt!==null;){var a=Mt;switch(a.tag){case 0:case 11:case 15:wr(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:tl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Mt=l;else e:for(a=n;Mt!==null;){l=Mt;var f=l.sibling,d=l.return;if(T0(l),l===a){Mt=null;break e}if(f!==null){f.return=d,Mt=f;break e}Mt=d}}}var Ww={getCacheForType:function(n){var r=Kt(Rt),a=r.data.get(n);return a===void 0&&(a=n(),r.data.set(n,a)),a}},Zw=typeof WeakMap=="function"?WeakMap:Map,Ge=0,Je=null,Oe=null,Le=0,$e=0,yn=null,Rr=!1,Fa=!1,Id=!1,Ki=0,ct=0,xr=0,Bs=0,Cd=0,Mn=0,Ga=0,El=null,on=null,Dd=!1,Od=0,Tc=1/0,bc=null,Ir=null,Bt=0,Cr=null,$a=null,Ka=0,Nd=0,kd=null,O0=null,Tl=0,Md=null;function vn(){if((Ge&2)!==0&&Le!==0)return Le&-Le;if(X.T!==null){var n=Ma;return n!==0?n:Bd()}return cr()}function N0(){Mn===0&&(Mn=(Le&536870912)===0||Be?Do():536870912);var n=kn.current;return n!==null&&(n.flags|=32),Mn}function _n(n,r,a){(n===Je&&($e===2||$e===9)||n.cancelPendingCommit!==null)&&(Ya(n,0),Dr(n,Le,Mn,!1)),Ai(n,a),((Ge&2)===0||n!==Je)&&(n===Je&&((Ge&2)===0&&(Bs|=a),ct===4&&Dr(n,Le,Mn,!1)),di(n))}function k0(n,r,a){if((Ge&6)!==0)throw Error(s(327));var l=!a&&(r&124)===0&&(r&n.expiredLanes)===0||ds(n,r),f=l?tS(n,r):Ld(n,r,!0),d=l;do{if(f===0){Fa&&!l&&Dr(n,r,0,!1);break}else{if(a=n.current.alternate,d&&!Jw(a)){f=Ld(n,r,!1),d=!1;continue}if(f===2){if(d=r,n.errorRecoveryDisabledLanes&d)var _=0;else _=n.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){r=_;e:{var b=n;f=El;var C=b.current.memoizedState.isDehydrated;if(C&&(Ya(b,_).flags|=256),_=Ld(b,_,!1),_!==2){if(Id&&!C){b.errorRecoveryDisabledLanes|=d,Bs|=d,f=4;break e}d=on,on=f,d!==null&&(on===null?on=d:on.push.apply(on,d))}f=_}if(d=!1,f!==2)continue}}if(f===1){Ya(n,0),Dr(n,r,0,!0);break}e:{switch(l=n,d=f,d){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:Dr(l,r,Mn,!Rr);break e;case 2:on=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(f=Od+300-wn(),10<f)){if(Dr(l,r,Mn,!Rr),ha(l,0,!0)!==0)break e;l.timeoutHandle=lv(M0.bind(null,l,a,on,bc,Dd,r,Mn,Bs,Ga,Rr,d,2,-0,0),f);break e}M0(l,a,on,bc,Dd,r,Mn,Bs,Ga,Rr,d,0,-0,0)}}break}while(!0);di(n)}function M0(n,r,a,l,f,d,_,b,C,F,W,ee,G,K){if(n.timeoutHandle=-1,ee=r.subtreeFlags,(ee&8192||(ee&16785408)===16785408)&&(Il={stylesheets:null,count:0,unsuspend:MS},x0(r),ee=PS(),ee!==null)){n.cancelPendingCommit=ee(B0.bind(null,n,r,d,a,l,f,_,b,C,W,1,G,K)),Dr(n,d,_,!F);return}B0(n,r,d,a,l,f,_,b,C)}function Jw(n){for(var r=n;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],d=f.getSnapshot;f=f.value;try{if(!dn(d(),f))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Dr(n,r,a,l){r&=~Cd,r&=~Bs,n.suspendedLanes|=r,n.pingedLanes&=~r,l&&(n.warmLanes|=r),l=n.expirationTimes;for(var f=r;0<f;){var d=31-$t(f),_=1<<d;l[d]=-1,f&=~_}a!==0&&Zn(n,a,r)}function wc(){return(Ge&6)===0?(bl(0),!1):!0}function Vd(){if(Oe!==null){if($e===0)var n=Oe.return;else n=Oe,ji=Vs=null,Zf(n),za=null,fl=0,n=Oe;for(;n!==null;)d0(n.alternate,n),n=n.return;Oe=null}}function Ya(n,r){var a=n.timeoutHandle;a!==-1&&(n.timeoutHandle=-1,yS(a)),a=n.cancelPendingCommit,a!==null&&(n.cancelPendingCommit=null,a()),Vd(),Je=n,Oe=a=Pi(n.current,null),Le=r,$e=0,yn=null,Rr=!1,Fa=ds(n,r),Id=!1,Ga=Mn=Cd=Bs=xr=ct=0,on=El=null,Dd=!1,(r&8)!==0&&(r|=r&32);var l=n.entangledLanes;if(l!==0)for(n=n.entanglements,l&=r;0<l;){var f=31-$t(l),d=1<<f;r|=n[f],l&=~d}return Ki=r,Gu(),a}function V0(n,r){xe=null,X.H=cc,r===il||r===ec?(r=Zg(),$e=3):r===Qg?(r=Zg(),$e=4):$e=r===Jy?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,yn=r,Oe===null&&(ct=1,pc(n,Cn(r,n.current)))}function P0(){var n=X.H;return X.H=cc,n===null?cc:n}function L0(){var n=X.A;return X.A=Ww,n}function Pd(){ct=4,Rr||(Le&4194048)!==Le&&kn.current!==null||(Fa=!0),(xr&134217727)===0&&(Bs&134217727)===0||Je===null||Dr(Je,Le,Mn,!1)}function Ld(n,r,a){var l=Ge;Ge|=2;var f=P0(),d=L0();(Je!==n||Le!==r)&&(bc=null,Ya(n,r)),r=!1;var _=ct;e:do try{if($e!==0&&Oe!==null){var b=Oe,C=yn;switch($e){case 8:Vd(),_=6;break e;case 3:case 2:case 9:case 6:kn.current===null&&(r=!0);var F=$e;if($e=0,yn=null,Qa(n,b,C,F),a&&Fa){_=0;break e}break;default:F=$e,$e=0,yn=null,Qa(n,b,C,F)}}eS(),_=ct;break}catch(W){V0(n,W)}while(!0);return r&&n.shellSuspendCounter++,ji=Vs=null,Ge=l,X.H=f,X.A=d,Oe===null&&(Je=null,Le=0,Gu()),_}function eS(){for(;Oe!==null;)U0(Oe)}function tS(n,r){var a=Ge;Ge|=2;var l=P0(),f=L0();Je!==n||Le!==r?(bc=null,Tc=wn()+500,Ya(n,r)):Fa=ds(n,r);e:do try{if($e!==0&&Oe!==null){r=Oe;var d=yn;t:switch($e){case 1:$e=0,yn=null,Qa(n,r,d,1);break;case 2:case 9:if(Xg(d)){$e=0,yn=null,j0(r);break}r=function(){$e!==2&&$e!==9||Je!==n||($e=7),di(n)},d.then(r,r);break e;case 3:$e=7;break e;case 4:$e=5;break e;case 7:Xg(d)?($e=0,yn=null,j0(r)):($e=0,yn=null,Qa(n,r,d,7));break;case 5:var _=null;switch(Oe.tag){case 26:_=Oe.memoizedState;case 5:case 27:var b=Oe;if(!_||Ev(_)){$e=0,yn=null;var C=b.sibling;if(C!==null)Oe=C;else{var F=b.return;F!==null?(Oe=F,Sc(F)):Oe=null}break t}}$e=0,yn=null,Qa(n,r,d,5);break;case 6:$e=0,yn=null,Qa(n,r,d,6);break;case 8:Vd(),ct=6;break e;default:throw Error(s(462))}}nS();break}catch(W){V0(n,W)}while(!0);return ji=Vs=null,X.H=l,X.A=f,Ge=a,Oe!==null?0:(Je=null,Le=0,Gu(),ct)}function nS(){for(;Oe!==null&&!Ro();)U0(Oe)}function U0(n){var r=h0(n.alternate,n,Ki);n.memoizedProps=n.pendingProps,r===null?Sc(n):Oe=r}function j0(n){var r=n,a=r.alternate;switch(r.tag){case 15:case 0:r=s0(a,r,r.pendingProps,r.type,void 0,Le);break;case 11:r=s0(a,r,r.pendingProps,r.type.render,r.ref,Le);break;case 5:Zf(r);default:d0(a,r),r=Oe=zg(r,Ki),r=h0(a,r,Ki)}n.memoizedProps=n.pendingProps,r===null?Sc(n):Oe=r}function Qa(n,r,a,l){ji=Vs=null,Zf(r),za=null,fl=0;var f=r.return;try{if(Gw(n,f,r,a,Le)){ct=1,pc(n,Cn(a,n.current)),Oe=null;return}}catch(d){if(f!==null)throw Oe=f,d;ct=1,pc(n,Cn(a,n.current)),Oe=null;return}r.flags&32768?(Be||l===1?n=!0:Fa||(Le&536870912)!==0?n=!1:(Rr=n=!0,(l===2||l===9||l===3||l===6)&&(l=kn.current,l!==null&&l.tag===13&&(l.flags|=16384))),z0(r,n)):Sc(r)}function Sc(n){var r=n;do{if((r.flags&32768)!==0){z0(r,Rr);return}n=r.return;var a=Kw(r.alternate,r,Ki);if(a!==null){Oe=a;return}if(r=r.sibling,r!==null){Oe=r;return}Oe=r=n}while(r!==null);ct===0&&(ct=5)}function z0(n,r){do{var a=Yw(n.alternate,n);if(a!==null){a.flags&=32767,Oe=a;return}if(a=n.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(n=n.sibling,n!==null)){Oe=n;return}Oe=n=a}while(n!==null);ct=6,Oe=null}function B0(n,r,a,l,f,d,_,b,C){n.cancelPendingCommit=null;do Ac();while(Bt!==0);if((Ge&6)!==0)throw Error(s(327));if(r!==null){if(r===n.current)throw Error(s(177));if(d=r.lanes|r.childLanes,d|=xf,No(n,a,d,_,b,C),n===Je&&(Oe=Je=null,Le=0),$a=r,Cr=n,Ka=a,Nd=d,kd=f,O0=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,aS(us,function(){return $0(),null})):(n.callbackNode=null,n.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=X.T,X.T=null,f=oe.p,oe.p=2,_=Ge,Ge|=4;try{Qw(n,r,a)}finally{Ge=_,oe.p=f,X.T=l}}Bt=1,q0(),H0(),F0()}}function q0(){if(Bt===1){Bt=0;var n=Cr,r=$a,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=X.T,X.T=null;var l=oe.p;oe.p=2;var f=Ge;Ge|=4;try{S0(r,n);var d=Qd,_=Dg(n.containerInfo),b=d.focusedElem,C=d.selectionRange;if(_!==b&&b&&b.ownerDocument&&Cg(b.ownerDocument.documentElement,b)){if(C!==null&&bf(b)){var F=C.start,W=C.end;if(W===void 0&&(W=F),"selectionStart"in b)b.selectionStart=F,b.selectionEnd=Math.min(W,b.value.length);else{var ee=b.ownerDocument||document,G=ee&&ee.defaultView||window;if(G.getSelection){var K=G.getSelection(),Te=b.textContent.length,ve=Math.min(C.start,Te),Xe=C.end===void 0?ve:Math.min(C.end,Te);!K.extend&&ve>Xe&&(_=Xe,Xe=ve,ve=_);var j=Ig(b,ve),P=Ig(b,Xe);if(j&&P&&(K.rangeCount!==1||K.anchorNode!==j.node||K.anchorOffset!==j.offset||K.focusNode!==P.node||K.focusOffset!==P.offset)){var H=ee.createRange();H.setStart(j.node,j.offset),K.removeAllRanges(),ve>Xe?(K.addRange(H),K.extend(P.node,P.offset)):(H.setEnd(P.node,P.offset),K.addRange(H))}}}}for(ee=[],K=b;K=K.parentNode;)K.nodeType===1&&ee.push({element:K,left:K.scrollLeft,top:K.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<ee.length;b++){var J=ee[b];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}Lc=!!Yd,Qd=Yd=null}finally{Ge=f,oe.p=l,X.T=a}}n.current=r,Bt=2}}function H0(){if(Bt===2){Bt=0;var n=Cr,r=$a,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=X.T,X.T=null;var l=oe.p;oe.p=2;var f=Ge;Ge|=4;try{E0(n,r.alternate,r)}finally{Ge=f,oe.p=l,X.T=a}}Bt=3}}function F0(){if(Bt===4||Bt===3){Bt=0,Eu();var n=Cr,r=$a,a=Ka,l=O0;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Bt=5:(Bt=0,$a=Cr=null,G0(n,n.pendingLanes));var f=n.pendingLanes;if(f===0&&(Ir=null),fa(a),r=r.stateNode,Fe&&typeof Fe.onCommitFiberRoot=="function")try{Fe.onCommitFiberRoot(lt,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=X.T,f=oe.p,oe.p=2,X.T=null;try{for(var d=n.onRecoverableError,_=0;_<l.length;_++){var b=l[_];d(b.value,{componentStack:b.stack})}}finally{X.T=r,oe.p=f}}(Ka&3)!==0&&Ac(),di(n),f=n.pendingLanes,(a&4194090)!==0&&(f&42)!==0?n===Md?Tl++:(Tl=0,Md=n):Tl=0,bl(0)}}function G0(n,r){(n.pooledCacheLanes&=r)===0&&(r=n.pooledCache,r!=null&&(n.pooledCache=null,tl(r)))}function Ac(n){return q0(),H0(),F0(),$0()}function $0(){if(Bt!==5)return!1;var n=Cr,r=Nd;Nd=0;var a=fa(Ka),l=X.T,f=oe.p;try{oe.p=32>a?32:a,X.T=null,a=kd,kd=null;var d=Cr,_=Ka;if(Bt=0,$a=Cr=null,Ka=0,(Ge&6)!==0)throw Error(s(331));var b=Ge;if(Ge|=4,C0(d.current),R0(d,d.current,_,a),Ge=b,bl(0,!1),Fe&&typeof Fe.onPostCommitFiberRoot=="function")try{Fe.onPostCommitFiberRoot(lt,d)}catch{}return!0}finally{oe.p=f,X.T=l,G0(n,r)}}function K0(n,r,a){r=Cn(a,r),r=fd(n.stateNode,r,2),n=_r(n,r,2),n!==null&&(Ai(n,2),di(n))}function We(n,r,a){if(n.tag===3)K0(n,n,a);else for(;r!==null;){if(r.tag===3){K0(r,n,a);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ir===null||!Ir.has(l))){n=Cn(a,n),a=Wy(2),l=_r(r,a,2),l!==null&&(Zy(a,l,r,n),Ai(l,2),di(l));break}}r=r.return}}function Ud(n,r,a){var l=n.pingCache;if(l===null){l=n.pingCache=new Zw;var f=new Set;l.set(r,f)}else f=l.get(r),f===void 0&&(f=new Set,l.set(r,f));f.has(a)||(Id=!0,f.add(a),n=iS.bind(null,n,r,a),r.then(n,n))}function iS(n,r,a){var l=n.pingCache;l!==null&&l.delete(r),n.pingedLanes|=n.suspendedLanes&a,n.warmLanes&=~a,Je===n&&(Le&a)===a&&(ct===4||ct===3&&(Le&62914560)===Le&&300>wn()-Od?(Ge&2)===0&&Ya(n,0):Cd|=a,Ga===Le&&(Ga=0)),di(n)}function Y0(n,r){r===0&&(r=Oo()),n=Da(n,r),n!==null&&(Ai(n,r),di(n))}function rS(n){var r=n.memoizedState,a=0;r!==null&&(a=r.retryLane),Y0(n,a)}function sS(n,r){var a=0;switch(n.tag){case 13:var l=n.stateNode,f=n.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=n.stateNode;break;case 22:l=n.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(r),Y0(n,a)}function aS(n,r){return os(n,r)}var Rc=null,Xa=null,jd=!1,xc=!1,zd=!1,qs=0;function di(n){n!==Xa&&n.next===null&&(Xa===null?Rc=Xa=n:Xa=Xa.next=n),xc=!0,jd||(jd=!0,lS())}function bl(n,r){if(!zd&&xc){zd=!0;do for(var a=!1,l=Rc;l!==null;){if(n!==0){var f=l.pendingLanes;if(f===0)var d=0;else{var _=l.suspendedLanes,b=l.pingedLanes;d=(1<<31-$t(42|n)+1)-1,d&=f&~(_&~b),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,Z0(l,d))}else d=Le,d=ha(l,l===Je?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||ds(l,d)||(a=!0,Z0(l,d));l=l.next}while(a);zd=!1}}function oS(){Q0()}function Q0(){xc=jd=!1;var n=0;qs!==0&&(gS()&&(n=qs),qs=0);for(var r=wn(),a=null,l=Rc;l!==null;){var f=l.next,d=X0(l,r);d===0?(l.next=null,a===null?Rc=f:a.next=f,f===null&&(Xa=a)):(a=l,(n!==0||(d&3)!==0)&&(xc=!0)),l=f}bl(n)}function X0(n,r){for(var a=n.suspendedLanes,l=n.pingedLanes,f=n.expirationTimes,d=n.pendingLanes&-62914561;0<d;){var _=31-$t(d),b=1<<_,C=f[_];C===-1?((b&a)===0||(b&l)!==0)&&(f[_]=Co(b,r)):C<=r&&(n.expiredLanes|=b),d&=~b}if(r=Je,a=Le,a=ha(n,n===r?a:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l=n.callbackNode,a===0||n===r&&($e===2||$e===9)||n.cancelPendingCommit!==null)return l!==null&&l!==null&&ls(l),n.callbackNode=null,n.callbackPriority=0;if((a&3)===0||ds(n,a)){if(r=a&-a,r===n.callbackPriority)return r;switch(l!==null&&ls(l),fa(a)){case 2:case 8:a=ua;break;case 32:a=us;break;case 268435456:a=ca;break;default:a=us}return l=W0.bind(null,n),a=os(a,l),n.callbackPriority=r,n.callbackNode=a,r}return l!==null&&l!==null&&ls(l),n.callbackPriority=2,n.callbackNode=null,2}function W0(n,r){if(Bt!==0&&Bt!==5)return n.callbackNode=null,n.callbackPriority=0,null;var a=n.callbackNode;if(Ac()&&n.callbackNode!==a)return null;var l=Le;return l=ha(n,n===Je?l:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l===0?null:(k0(n,l,r),X0(n,wn()),n.callbackNode!=null&&n.callbackNode===a?W0.bind(null,n):null)}function Z0(n,r){if(Ac())return null;k0(n,r,!0)}function lS(){vS(function(){(Ge&6)!==0?os(xo,oS):Q0()})}function Bd(){return qs===0&&(qs=Do()),qs}function J0(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:va(""+n)}function ev(n,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,n.id&&a.setAttribute("form",n.id),r.parentNode.insertBefore(a,r),n=new FormData(n),a.parentNode.removeChild(a),n}function uS(n,r,a,l,f){if(r==="submit"&&a&&a.stateNode===f){var d=J0((f[yt]||null).action),_=l.submitter;_&&(r=(r=_[yt]||null)?J0(r.formAction):_.getAttribute("formAction"),r!==null&&(d=r,_=null));var b=new _a("action","action",null,l,f);n.push({event:b,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(qs!==0){var C=_?ev(f,_):new FormData(f);od(a,{pending:!0,data:C,method:f.method,action:d},null,C)}}else typeof d=="function"&&(b.preventDefault(),C=_?ev(f,_):new FormData(f),od(a,{pending:!0,data:C,method:f.method,action:d},d,C))},currentTarget:f}]})}}for(var qd=0;qd<Rf.length;qd++){var Hd=Rf[qd],cS=Hd.toLowerCase(),hS=Hd[0].toUpperCase()+Hd.slice(1);Hn(cS,"on"+hS)}Hn(kg,"onAnimationEnd"),Hn(Mg,"onAnimationIteration"),Hn(Vg,"onAnimationStart"),Hn("dblclick","onDoubleClick"),Hn("focusin","onFocus"),Hn("focusout","onBlur"),Hn(Iw,"onTransitionRun"),Hn(Cw,"onTransitionStart"),Hn(Dw,"onTransitionCancel"),Hn(Pg,"onTransitionEnd"),xi("onMouseEnter",["mouseout","mouseover"]),xi("onMouseLeave",["mouseout","mouseover"]),xi("onPointerEnter",["pointerout","pointerover"]),xi("onPointerLeave",["pointerout","pointerover"]),Bn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Bn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Bn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Bn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Bn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Bn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),fS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(wl));function tv(n,r){r=(r&4)!==0;for(var a=0;a<n.length;a++){var l=n[a],f=l.event;l=l.listeners;e:{var d=void 0;if(r)for(var _=l.length-1;0<=_;_--){var b=l[_],C=b.instance,F=b.currentTarget;if(b=b.listener,C!==d&&f.isPropagationStopped())break e;d=b,f.currentTarget=F;try{d(f)}catch(W){mc(W)}f.currentTarget=null,d=C}else for(_=0;_<l.length;_++){if(b=l[_],C=b.instance,F=b.currentTarget,b=b.listener,C!==d&&f.isPropagationStopped())break e;d=b,f.currentTarget=F;try{d(f)}catch(W){mc(W)}f.currentTarget=null,d=C}}}}function Ne(n,r){var a=r[Mo];a===void 0&&(a=r[Mo]=new Set);var l=n+"__bubble";a.has(l)||(nv(r,n,2,!1),a.add(l))}function Fd(n,r,a){var l=0;r&&(l|=4),nv(a,n,l,r)}var Ic="_reactListening"+Math.random().toString(36).slice(2);function Gd(n){if(!n[Ic]){n[Ic]=!0,Vo.forEach(function(a){a!=="selectionchange"&&(fS.has(a)||Fd(a,!1,n),Fd(a,!0,n))});var r=n.nodeType===9?n:n.ownerDocument;r===null||r[Ic]||(r[Ic]=!0,Fd("selectionchange",!1,r))}}function nv(n,r,a,l){switch(Rv(r)){case 2:var f=jS;break;case 8:f=zS;break;default:f=sm}a=f.bind(null,r,a,n),f=void 0,!xn||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),l?f!==void 0?n.addEventListener(r,a,{capture:!0,passive:f}):n.addEventListener(r,a,!0):f!==void 0?n.addEventListener(r,a,{passive:f}):n.addEventListener(r,a,!1)}function $d(n,r,a,l,f){var d=l;if((r&1)===0&&(r&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var b=l.stateNode.containerInfo;if(b===f)break;if(_===4)for(_=l.return;_!==null;){var C=_.tag;if((C===3||C===4)&&_.stateNode.containerInfo===f)return;_=_.return}for(;b!==null;){if(_=Ri(b),_===null)return;if(C=_.tag,C===5||C===6||C===26||C===27){l=d=_;continue e}b=b.parentNode}}l=l.return}Du(function(){var F=d,W=Rn(a),ee=[];e:{var G=Lg.get(n);if(G!==void 0){var K=_a,Te=n;switch(n){case"keypress":if(ri(a)===0)break e;case"keydown":case"keyup":K=Aa;break;case"focusin":Te="focus",K=ba;break;case"focusout":Te="blur",K=ba;break;case"beforeblur":case"afterblur":K=ba;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=In;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=vf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=Uu;break;case kg:case Mg:case Vg:K=wa;break;case Pg:K=zu;break;case"scroll":case"scrollend":K=Ou;break;case"wheel":K=Ra;break;case"copy":case"cut":case"paste":K=Sa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=Ko;break;case"toggle":case"beforetoggle":K=qu}var ve=(r&4)!==0,Xe=!ve&&(n==="scroll"||n==="scrollend"),j=ve?G!==null?G+"Capture":null:G;ve=[];for(var P=F,H;P!==null;){var J=P;if(H=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||H===null||j===null||(J=Ts(P,j),J!=null&&ve.push(Sl(P,J,H))),Xe)break;P=P.return}0<ve.length&&(G=new K(G,Te,null,a,W),ee.push({event:G,listeners:ve}))}}if((r&7)===0){e:{if(G=n==="mouseover"||n==="pointerover",K=n==="mouseout"||n==="pointerout",G&&a!==Di&&(Te=a.relatedTarget||a.fromElement)&&(Ri(Te)||Te[Sn]))break e;if((K||G)&&(G=W.window===W?W:(G=W.ownerDocument)?G.defaultView||G.parentWindow:window,K?(Te=a.relatedTarget||a.toElement,K=F,Te=Te?Ri(Te):null,Te!==null&&(Xe=u(Te),ve=Te.tag,Te!==Xe||ve!==5&&ve!==27&&ve!==6)&&(Te=null)):(K=null,Te=F),K!==Te)){if(ve=In,J="onMouseLeave",j="onMouseEnter",P="mouse",(n==="pointerout"||n==="pointerover")&&(ve=Ko,J="onPointerLeave",j="onPointerEnter",P="pointer"),Xe=K==null?G:ei(K),H=Te==null?G:ei(Te),G=new ve(J,P+"leave",K,a,W),G.target=Xe,G.relatedTarget=H,J=null,Ri(W)===F&&(ve=new ve(j,P+"enter",Te,a,W),ve.target=H,ve.relatedTarget=Xe,J=ve),Xe=J,K&&Te)t:{for(ve=K,j=Te,P=0,H=ve;H;H=Wa(H))P++;for(H=0,J=j;J;J=Wa(J))H++;for(;0<P-H;)ve=Wa(ve),P--;for(;0<H-P;)j=Wa(j),H--;for(;P--;){if(ve===j||j!==null&&ve===j.alternate)break t;ve=Wa(ve),j=Wa(j)}ve=null}else ve=null;K!==null&&iv(ee,G,K,ve,!1),Te!==null&&Xe!==null&&iv(ee,Xe,Te,ve,!0)}}e:{if(G=F?ei(F):window,K=G.nodeName&&G.nodeName.toLowerCase(),K==="select"||K==="input"&&G.type==="file")var fe=bg;else if(At(G))if(wg)fe=Aw;else{fe=ww;var De=bw}else K=G.nodeName,!K||K.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?F&&zo(F.elementType)&&(fe=bg):fe=Sw;if(fe&&(fe=fe(n,F))){Vi(ee,fe,a,W);break e}De&&De(n,G,F),n==="focusout"&&F&&G.type==="number"&&F.memoizedProps.value!=null&&mr(G,"number",G.value)}switch(De=F?ei(F):window,n){case"focusin":(At(De)||De.contentEditable==="true")&&(xa=De,wf=F,Xo=null);break;case"focusout":Xo=wf=xa=null;break;case"mousedown":Sf=!0;break;case"contextmenu":case"mouseup":case"dragend":Sf=!1,Og(ee,a,W);break;case"selectionchange":if(xw)break;case"keydown":case"keyup":Og(ee,a,W)}var ge;if(oi)e:{switch(n){case"compositionstart":var _e="onCompositionStart";break e;case"compositionend":_e="onCompositionEnd";break e;case"compositionupdate":_e="onCompositionUpdate";break e}_e=void 0}else Ve?Y(n,a)&&(_e="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(_e="onCompositionStart");_e&&(v&&a.locale!=="ko"&&(Ve||_e!=="onCompositionStart"?_e==="onCompositionEnd"&&Ve&&(ge=qo()):(ii=W,pr="value"in ii?ii.value:ii.textContent,Ve=!0)),De=Cc(F,_e),0<De.length&&(_e=new Go(_e,n,null,a,W),ee.push({event:_e,listeners:De}),ge?_e.data=ge:(ge=se(a),ge!==null&&(_e.data=ge)))),(ge=y?St(n,a):Pe(n,a))&&(_e=Cc(F,"onBeforeInput"),0<_e.length&&(De=new Go("onBeforeInput","beforeinput",null,a,W),ee.push({event:De,listeners:_e}),De.data=ge)),uS(ee,n,F,a,W)}tv(ee,r)})}function Sl(n,r,a){return{instance:n,listener:r,currentTarget:a}}function Cc(n,r){for(var a=r+"Capture",l=[];n!==null;){var f=n,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=Ts(n,a),f!=null&&l.unshift(Sl(n,f,d)),f=Ts(n,r),f!=null&&l.push(Sl(n,f,d))),n.tag===3)return l;n=n.return}return[]}function Wa(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function iv(n,r,a,l,f){for(var d=r._reactName,_=[];a!==null&&a!==l;){var b=a,C=b.alternate,F=b.stateNode;if(b=b.tag,C!==null&&C===l)break;b!==5&&b!==26&&b!==27||F===null||(C=F,f?(F=Ts(a,d),F!=null&&_.unshift(Sl(a,F,C))):f||(F=Ts(a,d),F!=null&&_.push(Sl(a,F,C)))),a=a.return}_.length!==0&&n.push({event:r,listeners:_})}var dS=/\r\n?/g,mS=/\u0000|\uFFFD/g;function rv(n){return(typeof n=="string"?n:""+n).replace(dS,`
`).replace(mS,"")}function sv(n,r){return r=rv(r),rv(n)===r}function Dc(){}function Qe(n,r,a,l,f,d){switch(a){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||An(n,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&An(n,""+l);break;case"className":ti(n,"class",l);break;case"tabIndex":ti(n,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":ti(n,a,l);break;case"style":jo(n,l,d);break;case"data":if(r!=="object"){ti(n,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||a!=="href")){n.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=va(""+l),n.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){n.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(r!=="input"&&Qe(n,r,"name",f.name,f,null),Qe(n,r,"formEncType",f.formEncType,f,null),Qe(n,r,"formMethod",f.formMethod,f,null),Qe(n,r,"formTarget",f.formTarget,f,null)):(Qe(n,r,"encType",f.encType,f,null),Qe(n,r,"method",f.method,f,null),Qe(n,r,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=va(""+l),n.setAttribute(a,l);break;case"onClick":l!=null&&(n.onclick=Dc);break;case"onScroll":l!=null&&Ne("scroll",n);break;case"onScrollEnd":l!=null&&Ne("scrollend",n);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"multiple":n.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":n.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){n.removeAttribute("xlink:href");break}a=va(""+l),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""+l):n.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""):n.removeAttribute(a);break;case"capture":case"download":l===!0?n.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,l):n.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?n.setAttribute(a,l):n.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?n.removeAttribute(a):n.setAttribute(a,l);break;case"popover":Ne("beforetoggle",n),Ne("toggle",n),dr(n,"popover",l);break;case"xlinkActuate":Ut(n,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ut(n,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ut(n,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ut(n,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ut(n,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ut(n,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ut(n,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ut(n,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ut(n,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":dr(n,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=gf.get(a)||a,dr(n,a,l))}}function Kd(n,r,a,l,f,d){switch(a){case"style":jo(n,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"children":typeof l=="string"?An(n,l):(typeof l=="number"||typeof l=="bigint")&&An(n,""+l);break;case"onScroll":l!=null&&Ne("scroll",n);break;case"onScrollEnd":l!=null&&Ne("scrollend",n);break;case"onClick":l!=null&&(n.onclick=Dc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!da.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),r=a.slice(2,f?a.length-7:void 0),d=n[yt]||null,d=d!=null?d[a]:null,typeof d=="function"&&n.removeEventListener(r,d,f),typeof l=="function")){typeof d!="function"&&d!==null&&(a in n?n[a]=null:n.hasAttribute(a)&&n.removeAttribute(a)),n.addEventListener(r,l,f);break e}a in n?n[a]=l:l===!0?n.setAttribute(a,""):dr(n,a,l)}}}function qt(n,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ne("error",n),Ne("load",n);var l=!1,f=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Qe(n,r,d,_,a,null)}}f&&Qe(n,r,"srcSet",a.srcSet,a,null),l&&Qe(n,r,"src",a.src,a,null);return;case"input":Ne("invalid",n);var b=d=_=f=null,C=null,F=null;for(l in a)if(a.hasOwnProperty(l)){var W=a[l];if(W!=null)switch(l){case"name":f=W;break;case"type":_=W;break;case"checked":C=W;break;case"defaultChecked":F=W;break;case"value":d=W;break;case"defaultValue":b=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(s(137,r));break;default:Qe(n,r,l,W,a,null)}}vs(n,d,b,C,F,_,f,!1),ya(n);return;case"select":Ne("invalid",n),l=_=d=null;for(f in a)if(a.hasOwnProperty(f)&&(b=a[f],b!=null))switch(f){case"value":d=b;break;case"defaultValue":_=b;break;case"multiple":l=b;default:Qe(n,r,f,b,a,null)}r=d,a=_,n.multiple=!!l,r!=null?Ci(n,!!l,r,!1):a!=null&&Ci(n,!!l,a,!0);return;case"textarea":Ne("invalid",n),d=f=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(b=a[_],b!=null))switch(_){case"value":l=b;break;case"defaultValue":f=b;break;case"children":d=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(s(91));break;default:Qe(n,r,_,b,a,null)}_s(n,l,f,d),ya(n);return;case"option":for(C in a)if(a.hasOwnProperty(C)&&(l=a[C],l!=null))switch(C){case"selected":n.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Qe(n,r,C,l,a,null)}return;case"dialog":Ne("beforetoggle",n),Ne("toggle",n),Ne("cancel",n),Ne("close",n);break;case"iframe":case"object":Ne("load",n);break;case"video":case"audio":for(l=0;l<wl.length;l++)Ne(wl[l],n);break;case"image":Ne("error",n),Ne("load",n);break;case"details":Ne("toggle",n);break;case"embed":case"source":case"link":Ne("error",n),Ne("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(F in a)if(a.hasOwnProperty(F)&&(l=a[F],l!=null))switch(F){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Qe(n,r,F,l,a,null)}return;default:if(zo(r)){for(W in a)a.hasOwnProperty(W)&&(l=a[W],l!==void 0&&Kd(n,r,W,l,a,void 0));return}}for(b in a)a.hasOwnProperty(b)&&(l=a[b],l!=null&&Qe(n,r,b,l,a,null))}function pS(n,r,a,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,_=null,b=null,C=null,F=null,W=null;for(K in a){var ee=a[K];if(a.hasOwnProperty(K)&&ee!=null)switch(K){case"checked":break;case"value":break;case"defaultValue":C=ee;default:l.hasOwnProperty(K)||Qe(n,r,K,null,l,ee)}}for(var G in l){var K=l[G];if(ee=a[G],l.hasOwnProperty(G)&&(K!=null||ee!=null))switch(G){case"type":d=K;break;case"name":f=K;break;case"checked":F=K;break;case"defaultChecked":W=K;break;case"value":_=K;break;case"defaultValue":b=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,r));break;default:K!==ee&&Qe(n,r,G,K,l,ee)}}fn(n,_,b,C,F,W,d,f);return;case"select":K=_=b=G=null;for(d in a)if(C=a[d],a.hasOwnProperty(d)&&C!=null)switch(d){case"value":break;case"multiple":K=C;default:l.hasOwnProperty(d)||Qe(n,r,d,null,l,C)}for(f in l)if(d=l[f],C=a[f],l.hasOwnProperty(f)&&(d!=null||C!=null))switch(f){case"value":G=d;break;case"defaultValue":b=d;break;case"multiple":_=d;default:d!==C&&Qe(n,r,f,d,l,C)}r=b,a=_,l=K,G!=null?Ci(n,!!a,G,!1):!!l!=!!a&&(r!=null?Ci(n,!!a,r,!0):Ci(n,!!a,a?[]:"",!1));return;case"textarea":K=G=null;for(b in a)if(f=a[b],a.hasOwnProperty(b)&&f!=null&&!l.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:Qe(n,r,b,null,l,f)}for(_ in l)if(f=l[_],d=a[_],l.hasOwnProperty(_)&&(f!=null||d!=null))switch(_){case"value":G=f;break;case"defaultValue":K=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==d&&Qe(n,r,_,f,l,d)}Ke(n,G,K);return;case"option":for(var Te in a)if(G=a[Te],a.hasOwnProperty(Te)&&G!=null&&!l.hasOwnProperty(Te))switch(Te){case"selected":n.selected=!1;break;default:Qe(n,r,Te,null,l,G)}for(C in l)if(G=l[C],K=a[C],l.hasOwnProperty(C)&&G!==K&&(G!=null||K!=null))switch(C){case"selected":n.selected=G&&typeof G!="function"&&typeof G!="symbol";break;default:Qe(n,r,C,G,l,K)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ve in a)G=a[ve],a.hasOwnProperty(ve)&&G!=null&&!l.hasOwnProperty(ve)&&Qe(n,r,ve,null,l,G);for(F in l)if(G=l[F],K=a[F],l.hasOwnProperty(F)&&G!==K&&(G!=null||K!=null))switch(F){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,r));break;default:Qe(n,r,F,G,l,K)}return;default:if(zo(r)){for(var Xe in a)G=a[Xe],a.hasOwnProperty(Xe)&&G!==void 0&&!l.hasOwnProperty(Xe)&&Kd(n,r,Xe,void 0,l,G);for(W in l)G=l[W],K=a[W],!l.hasOwnProperty(W)||G===K||G===void 0&&K===void 0||Kd(n,r,W,G,l,K);return}}for(var j in a)G=a[j],a.hasOwnProperty(j)&&G!=null&&!l.hasOwnProperty(j)&&Qe(n,r,j,null,l,G);for(ee in l)G=l[ee],K=a[ee],!l.hasOwnProperty(ee)||G===K||G==null&&K==null||Qe(n,r,ee,G,l,K)}var Yd=null,Qd=null;function Oc(n){return n.nodeType===9?n:n.ownerDocument}function av(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ov(n,r){if(n===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&r==="foreignObject"?0:n}function Xd(n,r){return n==="textarea"||n==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Wd=null;function gS(){var n=window.event;return n&&n.type==="popstate"?n===Wd?!1:(Wd=n,!0):(Wd=null,!1)}var lv=typeof setTimeout=="function"?setTimeout:void 0,yS=typeof clearTimeout=="function"?clearTimeout:void 0,uv=typeof Promise=="function"?Promise:void 0,vS=typeof queueMicrotask=="function"?queueMicrotask:typeof uv<"u"?function(n){return uv.resolve(null).then(n).catch(_S)}:lv;function _S(n){setTimeout(function(){throw n})}function Or(n){return n==="head"}function cv(n,r){var a=r,l=0,f=0;do{var d=a.nextSibling;if(n.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<l&&8>l){a=l;var _=n.ownerDocument;if(a&1&&Al(_.documentElement),a&2&&Al(_.body),a&4)for(a=_.head,Al(a),_=a.firstChild;_;){var b=_.nextSibling,C=_.nodeName;_[ms]||C==="SCRIPT"||C==="STYLE"||C==="LINK"&&_.rel.toLowerCase()==="stylesheet"||a.removeChild(_),_=b}}if(f===0){n.removeChild(d),kl(r);return}f--}else a==="$"||a==="$?"||a==="$!"?f++:l=a.charCodeAt(0)-48;else l=0;a=d}while(a);kl(r)}function Zd(n){var r=n.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Zd(a),fr(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}n.removeChild(a)}}function ES(n,r,a,l){for(;n.nodeType===1;){var f=a;if(n.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(l){if(!n[ms])switch(r){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(d=n.getAttribute("rel"),d==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(d!==f.rel||n.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||n.getAttribute("title")!==(f.title==null?null:f.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(d=n.getAttribute("src"),(d!==(f.src==null?null:f.src)||n.getAttribute("type")!==(f.type==null?null:f.type)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(r==="input"&&n.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&n.getAttribute("name")===d)return n}else return n;if(n=Gn(n.nextSibling),n===null)break}return null}function TS(n,r,a){if(r==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=Gn(n.nextSibling),n===null))return null;return n}function Jd(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState==="complete"}function bS(n,r){var a=n.ownerDocument;if(n.data!=="$?"||a.readyState==="complete")r();else{var l=function(){r(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),n._reactRetry=l}}function Gn(n){for(;n!=null;n=n.nextSibling){var r=n.nodeType;if(r===1||r===3)break;if(r===8){if(r=n.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return n}var em=null;function hv(n){n=n.previousSibling;for(var r=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"){if(r===0)return n;r--}else a==="/$"&&r++}n=n.previousSibling}return null}function fv(n,r,a){switch(r=Oc(a),n){case"html":if(n=r.documentElement,!n)throw Error(s(452));return n;case"head":if(n=r.head,!n)throw Error(s(453));return n;case"body":if(n=r.body,!n)throw Error(s(454));return n;default:throw Error(s(451))}}function Al(n){for(var r=n.attributes;r.length;)n.removeAttributeNode(r[0]);fr(n)}var Vn=new Map,dv=new Set;function Nc(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var Yi=oe.d;oe.d={f:wS,r:SS,D:AS,C:RS,L:xS,m:IS,X:DS,S:CS,M:OS};function wS(){var n=Yi.f(),r=wc();return n||r}function SS(n){var r=Jn(n);r!==null&&r.tag===5&&r.type==="form"?ky(r):Yi.r(n)}var Za=typeof document>"u"?null:document;function mv(n,r,a){var l=Za;if(l&&typeof r=="string"&&r){var f=vt(r);f='link[rel="'+n+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),dv.has(f)||(dv.add(f),n={rel:n,crossOrigin:a,href:r},l.querySelector(f)===null&&(r=l.createElement("link"),qt(r,"link",n),dt(r),l.head.appendChild(r)))}}function AS(n){Yi.D(n),mv("dns-prefetch",n,null)}function RS(n,r){Yi.C(n,r),mv("preconnect",n,r)}function xS(n,r,a){Yi.L(n,r,a);var l=Za;if(l&&n&&r){var f='link[rel="preload"][as="'+vt(r)+'"]';r==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+vt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+vt(a.imageSizes)+'"]')):f+='[href="'+vt(n)+'"]';var d=f;switch(r){case"style":d=Ja(n);break;case"script":d=eo(n)}Vn.has(d)||(n=E({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:n,as:r},a),Vn.set(d,n),l.querySelector(f)!==null||r==="style"&&l.querySelector(Rl(d))||r==="script"&&l.querySelector(xl(d))||(r=l.createElement("link"),qt(r,"link",n),dt(r),l.head.appendChild(r)))}}function IS(n,r){Yi.m(n,r);var a=Za;if(a&&n){var l=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+vt(l)+'"][href="'+vt(n)+'"]',d=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=eo(n)}if(!Vn.has(d)&&(n=E({rel:"modulepreload",href:n},r),Vn.set(d,n),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(xl(d)))return}l=a.createElement("link"),qt(l,"link",n),dt(l),a.head.appendChild(l)}}}function CS(n,r,a){Yi.S(n,r,a);var l=Za;if(l&&n){var f=Jt(l).hoistableStyles,d=Ja(n);r=r||"default";var _=f.get(d);if(!_){var b={loading:0,preload:null};if(_=l.querySelector(Rl(d)))b.loading=5;else{n=E({rel:"stylesheet",href:n,"data-precedence":r},a),(a=Vn.get(d))&&tm(n,a);var C=_=l.createElement("link");dt(C),qt(C,"link",n),C._p=new Promise(function(F,W){C.onload=F,C.onerror=W}),C.addEventListener("load",function(){b.loading|=1}),C.addEventListener("error",function(){b.loading|=2}),b.loading|=4,kc(_,r,l)}_={type:"stylesheet",instance:_,count:1,state:b},f.set(d,_)}}}function DS(n,r){Yi.X(n,r);var a=Za;if(a&&n){var l=Jt(a).hoistableScripts,f=eo(n),d=l.get(f);d||(d=a.querySelector(xl(f)),d||(n=E({src:n,async:!0},r),(r=Vn.get(f))&&nm(n,r),d=a.createElement("script"),dt(d),qt(d,"link",n),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function OS(n,r){Yi.M(n,r);var a=Za;if(a&&n){var l=Jt(a).hoistableScripts,f=eo(n),d=l.get(f);d||(d=a.querySelector(xl(f)),d||(n=E({src:n,async:!0,type:"module"},r),(r=Vn.get(f))&&nm(n,r),d=a.createElement("script"),dt(d),qt(d,"link",n),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function pv(n,r,a,l){var f=(f=we.current)?Nc(f):null;if(!f)throw Error(s(446));switch(n){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=Ja(a.href),a=Jt(f).hoistableStyles,l=a.get(r),l||(l={type:"style",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){n=Ja(a.href);var d=Jt(f).hoistableStyles,_=d.get(n);if(_||(f=f.ownerDocument||f,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(n,_),(d=f.querySelector(Rl(n)))&&!d._p&&(_.instance=d,_.state.loading=5),Vn.has(n)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Vn.set(n,a),d||NS(f,n,a,_.state))),r&&l===null)throw Error(s(528,""));return _}if(r&&l!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=eo(a),a=Jt(f).hoistableScripts,l=a.get(r),l||(l={type:"script",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,n))}}function Ja(n){return'href="'+vt(n)+'"'}function Rl(n){return'link[rel="stylesheet"]['+n+"]"}function gv(n){return E({},n,{"data-precedence":n.precedence,precedence:null})}function NS(n,r,a,l){n.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=n.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),qt(r,"link",a),dt(r),n.head.appendChild(r))}function eo(n){return'[src="'+vt(n)+'"]'}function xl(n){return"script[async]"+n}function yv(n,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var l=n.querySelector('style[data-href~="'+vt(a.href)+'"]');if(l)return r.instance=l,dt(l),l;var f=E({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(n.ownerDocument||n).createElement("style"),dt(l),qt(l,"style",f),kc(l,a.precedence,n),r.instance=l;case"stylesheet":f=Ja(a.href);var d=n.querySelector(Rl(f));if(d)return r.state.loading|=4,r.instance=d,dt(d),d;l=gv(a),(f=Vn.get(f))&&tm(l,f),d=(n.ownerDocument||n).createElement("link"),dt(d);var _=d;return _._p=new Promise(function(b,C){_.onload=b,_.onerror=C}),qt(d,"link",l),r.state.loading|=4,kc(d,a.precedence,n),r.instance=d;case"script":return d=eo(a.src),(f=n.querySelector(xl(d)))?(r.instance=f,dt(f),f):(l=a,(f=Vn.get(d))&&(l=E({},a),nm(l,f)),n=n.ownerDocument||n,f=n.createElement("script"),dt(f),qt(f,"link",l),n.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,kc(l,a.precedence,n));return r.instance}function kc(n,r,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,d=f,_=0;_<l.length;_++){var b=l[_];if(b.dataset.precedence===r)d=b;else if(d!==f)break}d?d.parentNode.insertBefore(n,d.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(n,r.firstChild))}function tm(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.title==null&&(n.title=r.title)}function nm(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.integrity==null&&(n.integrity=r.integrity)}var Mc=null;function vv(n,r,a){if(Mc===null){var l=new Map,f=Mc=new Map;f.set(a,l)}else f=Mc,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(n))return l;for(l.set(n,null),a=a.getElementsByTagName(n),f=0;f<a.length;f++){var d=a[f];if(!(d[ms]||d[wt]||n==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(r)||"";_=n+_;var b=l.get(_);b?b.push(d):l.set(_,[d])}}return l}function _v(n,r,a){n=n.ownerDocument||n,n.head.insertBefore(a,r==="title"?n.querySelector("head > title"):null)}function kS(n,r,a){if(a===1||r.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return n=r.disabled,typeof r.precedence=="string"&&n==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function Ev(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var Il=null;function MS(){}function VS(n,r,a){if(Il===null)throw Error(s(475));var l=Il;if(r.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var f=Ja(a.href),d=n.querySelector(Rl(f));if(d){n=d._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(l.count++,l=Vc.bind(l),n.then(l,l)),r.state.loading|=4,r.instance=d,dt(d);return}d=n.ownerDocument||n,a=gv(a),(f=Vn.get(f))&&tm(a,f),d=d.createElement("link"),dt(d);var _=d;_._p=new Promise(function(b,C){_.onload=b,_.onerror=C}),qt(d,"link",a),r.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(l.count++,r=Vc.bind(l),n.addEventListener("load",r),n.addEventListener("error",r))}}function PS(){if(Il===null)throw Error(s(475));var n=Il;return n.stylesheets&&n.count===0&&im(n,n.stylesheets),0<n.count?function(r){var a=setTimeout(function(){if(n.stylesheets&&im(n,n.stylesheets),n.unsuspend){var l=n.unsuspend;n.unsuspend=null,l()}},6e4);return n.unsuspend=r,function(){n.unsuspend=null,clearTimeout(a)}}:null}function Vc(){if(this.count--,this.count===0){if(this.stylesheets)im(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var Pc=null;function im(n,r){n.stylesheets=null,n.unsuspend!==null&&(n.count++,Pc=new Map,r.forEach(LS,n),Pc=null,Vc.call(n))}function LS(n,r){if(!(r.state.loading&4)){var a=Pc.get(n);if(a)var l=a.get(null);else{a=new Map,Pc.set(n,a);for(var f=n.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var _=f[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}f=r.instance,_=f.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,f),a.set(_,f),this.count++,l=Vc.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),d?d.parentNode.insertBefore(f,d.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(f,n.firstChild)),r.state.loading|=4}}var Cl={$$typeof:ie,Provider:null,Consumer:null,_currentValue:me,_currentValue2:me,_threadCount:0};function US(n,r,a,l,f,d,_,b){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Si(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Si(0),this.hiddenUpdates=Si(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=b,this.incompleteTransitions=new Map}function Tv(n,r,a,l,f,d,_,b,C,F,W,ee){return n=new US(n,r,a,_,b,C,F,ee),r=1,d===!0&&(r|=24),d=mn(3,null,null,r),n.current=d,d.stateNode=n,r=Uf(),r.refCount++,n.pooledCache=r,r.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:r},qf(d),n}function bv(n){return n?(n=Oa,n):Oa}function wv(n,r,a,l,f,d){f=bv(f),l.context===null?l.context=f:l.pendingContext=f,l=vr(r),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=_r(n,l,r),a!==null&&(_n(a,n,r),sl(a,n,r))}function Sv(n,r){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<r?a:r}}function rm(n,r){Sv(n,r),(n=n.alternate)&&Sv(n,r)}function Av(n){if(n.tag===13){var r=Da(n,67108864);r!==null&&_n(r,n,67108864),rm(n,67108864)}}var Lc=!0;function jS(n,r,a,l){var f=X.T;X.T=null;var d=oe.p;try{oe.p=2,sm(n,r,a,l)}finally{oe.p=d,X.T=f}}function zS(n,r,a,l){var f=X.T;X.T=null;var d=oe.p;try{oe.p=8,sm(n,r,a,l)}finally{oe.p=d,X.T=f}}function sm(n,r,a,l){if(Lc){var f=am(l);if(f===null)$d(n,r,l,Uc,a),xv(n,l);else if(qS(f,n,r,a,l))l.stopPropagation();else if(xv(n,l),r&4&&-1<BS.indexOf(n)){for(;f!==null;){var d=Jn(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=zn(d.pendingLanes);if(_!==0){var b=d;for(b.pendingLanes|=2,b.entangledLanes|=2;_;){var C=1<<31-$t(_);b.entanglements[1]|=C,_&=~C}di(d),(Ge&6)===0&&(Tc=wn()+500,bl(0))}}break;case 13:b=Da(d,2),b!==null&&_n(b,d,2),wc(),rm(d,2)}if(d=am(l),d===null&&$d(n,r,l,Uc,a),d===f)break;f=d}f!==null&&l.stopPropagation()}else $d(n,r,l,null,a)}}function am(n){return n=Rn(n),om(n)}var Uc=null;function om(n){if(Uc=null,n=Ri(n),n!==null){var r=u(n);if(r===null)n=null;else{var a=r.tag;if(a===13){if(n=h(r),n!==null)return n;n=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;n=null}else r!==n&&(n=null)}}return Uc=n,null}function Rv(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(cf()){case xo:return 2;case ua:return 8;case us:case hf:return 32;case ca:return 268435456;default:return 32}default:return 32}}var lm=!1,Nr=null,kr=null,Mr=null,Dl=new Map,Ol=new Map,Vr=[],BS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function xv(n,r){switch(n){case"focusin":case"focusout":Nr=null;break;case"dragenter":case"dragleave":kr=null;break;case"mouseover":case"mouseout":Mr=null;break;case"pointerover":case"pointerout":Dl.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ol.delete(r.pointerId)}}function Nl(n,r,a,l,f,d){return n===null||n.nativeEvent!==d?(n={blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[f]},r!==null&&(r=Jn(r),r!==null&&Av(r)),n):(n.eventSystemFlags|=l,r=n.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),n)}function qS(n,r,a,l,f){switch(r){case"focusin":return Nr=Nl(Nr,n,r,a,l,f),!0;case"dragenter":return kr=Nl(kr,n,r,a,l,f),!0;case"mouseover":return Mr=Nl(Mr,n,r,a,l,f),!0;case"pointerover":var d=f.pointerId;return Dl.set(d,Nl(Dl.get(d)||null,n,r,a,l,f)),!0;case"gotpointercapture":return d=f.pointerId,Ol.set(d,Nl(Ol.get(d)||null,n,r,a,l,f)),!0}return!1}function Iv(n){var r=Ri(n.target);if(r!==null){var a=u(r);if(a!==null){if(r=a.tag,r===13){if(r=h(a),r!==null){n.blockedOn=r,wu(n.priority,function(){if(a.tag===13){var l=vn();l=ur(l);var f=Da(a,l);f!==null&&_n(f,a,l),rm(a,l)}});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function jc(n){if(n.blockedOn!==null)return!1;for(var r=n.targetContainers;0<r.length;){var a=am(n.nativeEvent);if(a===null){a=n.nativeEvent;var l=new a.constructor(a.type,a);Di=l,a.target.dispatchEvent(l),Di=null}else return r=Jn(a),r!==null&&Av(r),n.blockedOn=a,!1;r.shift()}return!0}function Cv(n,r,a){jc(n)&&a.delete(r)}function HS(){lm=!1,Nr!==null&&jc(Nr)&&(Nr=null),kr!==null&&jc(kr)&&(kr=null),Mr!==null&&jc(Mr)&&(Mr=null),Dl.forEach(Cv),Ol.forEach(Cv)}function zc(n,r){n.blockedOn===r&&(n.blockedOn=null,lm||(lm=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,HS)))}var Bc=null;function Dv(n){Bc!==n&&(Bc=n,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Bc===n&&(Bc=null);for(var r=0;r<n.length;r+=3){var a=n[r],l=n[r+1],f=n[r+2];if(typeof l!="function"){if(om(l||a)===null)continue;break}var d=Jn(a);d!==null&&(n.splice(r,3),r-=3,od(d,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function kl(n){function r(C){return zc(C,n)}Nr!==null&&zc(Nr,n),kr!==null&&zc(kr,n),Mr!==null&&zc(Mr,n),Dl.forEach(r),Ol.forEach(r);for(var a=0;a<Vr.length;a++){var l=Vr[a];l.blockedOn===n&&(l.blockedOn=null)}for(;0<Vr.length&&(a=Vr[0],a.blockedOn===null);)Iv(a),a.blockedOn===null&&Vr.shift();if(a=(n.ownerDocument||n).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],d=a[l+1],_=f[yt]||null;if(typeof d=="function")_||Dv(a);else if(_){var b=null;if(d&&d.hasAttribute("formAction")){if(f=d,_=d[yt]||null)b=_.formAction;else if(om(f)!==null)continue}else b=_.action;typeof b=="function"?a[l+1]=b:(a.splice(l,3),l-=3),Dv(a)}}}function um(n){this._internalRoot=n}qc.prototype.render=um.prototype.render=function(n){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,l=vn();wv(a,l,n,r,null,null)},qc.prototype.unmount=um.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var r=n.containerInfo;wv(n.current,2,null,n,null,null),wc(),r[Sn]=null}};function qc(n){this._internalRoot=n}qc.prototype.unstable_scheduleHydration=function(n){if(n){var r=cr();n={blockedOn:null,target:n,priority:r};for(var a=0;a<Vr.length&&r!==0&&r<Vr[a].priority;a++);Vr.splice(a,0,n),a===0&&Iv(n)}};var Ov=e.version;if(Ov!=="19.1.0")throw Error(s(527,Ov,"19.1.0"));oe.findDOMNode=function(n){var r=n._reactInternals;if(r===void 0)throw typeof n.render=="function"?Error(s(188)):(n=Object.keys(n).join(","),Error(s(268,n)));return n=p(r),n=n!==null?g(n):null,n=n===null?null:n.stateNode,n};var FS={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Hc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Hc.isDisabled&&Hc.supportsFiber)try{lt=Hc.inject(FS),Fe=Hc}catch{}}return Vl.createRoot=function(n,r){if(!o(n))throw Error(s(299));var a=!1,l="",f=Ky,d=Yy,_=Qy,b=null;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(d=r.onCaughtError),r.onRecoverableError!==void 0&&(_=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(b=r.unstable_transitionCallbacks)),r=Tv(n,1,!1,null,null,a,l,f,d,_,b,null),n[Sn]=r.current,Gd(n),new um(r)},Vl.hydrateRoot=function(n,r,a){if(!o(n))throw Error(s(299));var l=!1,f="",d=Ky,_=Yy,b=Qy,C=null,F=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(b=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(C=a.unstable_transitionCallbacks),a.formState!==void 0&&(F=a.formState)),r=Tv(n,1,!0,r,a??null,l,f,d,_,b,C,F),r.context=bv(null),a=r.current,l=vn(),l=ur(l),f=vr(l),f.callback=null,_r(a,f,l),a=l,r.current.lanes=a,Ai(r,a),di(r),n[Sn]=r.current,Gd(n),new qc(r)},Vl.version="19.1.0",Vl}var Bv;function eA(){if(Bv)return fm.exports;Bv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),fm.exports=JS(),fm.exports}var tA=eA(),Pl={},qv;function nA(){if(qv)return Pl;qv=1,Object.defineProperty(Pl,"__esModule",{value:!0}),Pl.parse=h,Pl.serialize=g;const i=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const S=function(){};return S.prototype=Object.create(null),S})();function h(S,N){const O=new u,$=S.length;if($<2)return O;const L=N?.decode||E;let V=0;do{const Q=S.indexOf("=",V);if(Q===-1)break;const ie=S.indexOf(";",V),ue=ie===-1?$:ie;if(Q>ue){V=S.lastIndexOf(";",Q-1)+1;continue}const le=m(S,V,Q),de=p(S,Q,le),M=S.slice(le,de);if(O[M]===void 0){let R=m(S,Q+1,ue),I=p(S,ue,R);const k=L(S.slice(R,I));O[M]=k}V=ue+1}while(V<$);return O}function m(S,N,O){do{const $=S.charCodeAt(N);if($!==32&&$!==9)return N}while(++N<O);return O}function p(S,N,O){for(;N>O;){const $=S.charCodeAt(--N);if($!==32&&$!==9)return N+1}return O}function g(S,N,O){const $=O?.encode||encodeURIComponent;if(!i.test(S))throw new TypeError(`argument name is invalid: ${S}`);const L=$(N);if(!e.test(L))throw new TypeError(`argument val is invalid: ${N}`);let V=S+"="+L;if(!O)return V;if(O.maxAge!==void 0){if(!Number.isInteger(O.maxAge))throw new TypeError(`option maxAge is invalid: ${O.maxAge}`);V+="; Max-Age="+O.maxAge}if(O.domain){if(!t.test(O.domain))throw new TypeError(`option domain is invalid: ${O.domain}`);V+="; Domain="+O.domain}if(O.path){if(!s.test(O.path))throw new TypeError(`option path is invalid: ${O.path}`);V+="; Path="+O.path}if(O.expires){if(!A(O.expires)||!Number.isFinite(O.expires.valueOf()))throw new TypeError(`option expires is invalid: ${O.expires}`);V+="; Expires="+O.expires.toUTCString()}if(O.httpOnly&&(V+="; HttpOnly"),O.secure&&(V+="; Secure"),O.partitioned&&(V+="; Partitioned"),O.priority)switch(typeof O.priority=="string"?O.priority.toLowerCase():void 0){case"low":V+="; Priority=Low";break;case"medium":V+="; Priority=Medium";break;case"high":V+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${O.priority}`)}if(O.sameSite)switch(typeof O.sameSite=="string"?O.sameSite.toLowerCase():O.sameSite){case!0:case"strict":V+="; SameSite=Strict";break;case"lax":V+="; SameSite=Lax";break;case"none":V+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${O.sameSite}`)}return V}function E(S){if(S.indexOf("%")===-1)return S;try{return decodeURIComponent(S)}catch{return S}}function A(S){return o.call(S)==="[object Date]"}return Pl}nA();var Hv="popstate";function iA(i={}){function e(o,u){let{pathname:h="/",search:m="",hash:p=""}=ea(o.location.hash.substring(1));return!h.startsWith("/")&&!h.startsWith(".")&&(h="/"+h),Vm("",{pathname:h,search:m,hash:p},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function t(o,u){let h=o.document.querySelector("base"),m="";if(h&&h.getAttribute("href")){let p=o.location.href,g=p.indexOf("#");m=g===-1?p:p.slice(0,g)}return m+"#"+(typeof u=="string"?u:Jl(u))}function s(o,u){Ln(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return sA(e,t,s,i)}function at(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function Ln(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function rA(){return Math.random().toString(36).substring(2,10)}function Fv(i,e){return{usr:i.state,key:i.key,idx:e}}function Vm(i,e,t=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?ea(e):e,state:t,key:e&&e.key||s||rA()}}function Jl({pathname:i="/",search:e="",hash:t=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(i+=t.charAt(0)==="#"?t:"#"+t),i}function ea(i){let e={};if(i){let t=i.indexOf("#");t>=0&&(e.hash=i.substring(t),i=i.substring(0,t));let s=i.indexOf("?");s>=0&&(e.search=i.substring(s),i=i.substring(0,s)),i&&(e.pathname=i)}return e}function sA(i,e,t,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,h=o.history,m="POP",p=null,g=E();g==null&&(g=0,h.replaceState({...h.state,idx:g},""));function E(){return(h.state||{idx:null}).idx}function A(){m="POP";let L=E(),V=L==null?null:L-g;g=L,p&&p({action:m,location:$.location,delta:V})}function S(L,V){m="PUSH";let Q=Vm($.location,L,V);t&&t(Q,L),g=E()+1;let ie=Fv(Q,g),ue=$.createHref(Q);try{h.pushState(ie,"",ue)}catch(le){if(le instanceof DOMException&&le.name==="DataCloneError")throw le;o.location.assign(ue)}u&&p&&p({action:m,location:$.location,delta:1})}function N(L,V){m="REPLACE";let Q=Vm($.location,L,V);t&&t(Q,L),g=E();let ie=Fv(Q,g),ue=$.createHref(Q);h.replaceState(ie,"",ue),u&&p&&p({action:m,location:$.location,delta:0})}function O(L){return aA(L)}let $={get action(){return m},get location(){return i(o,h)},listen(L){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(Hv,A),p=L,()=>{o.removeEventListener(Hv,A),p=null}},createHref(L){return e(o,L)},createURL:O,encodeLocation(L){let V=O(L);return{pathname:V.pathname,search:V.search,hash:V.hash}},push:S,replace:N,go(L){return h.go(L)}};return $}function aA(i,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),at(t,"No window.location.(origin|href) available to create URL");let s=typeof i=="string"?i:Jl(i);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=t+s),new URL(s,t)}function z1(i,e,t="/"){return oA(i,e,t,!1)}function oA(i,e,t,s){let o=typeof e=="string"?ea(e):e,u=tr(o.pathname||"/",t);if(u==null)return null;let h=B1(i);lA(h);let m=null;for(let p=0;m==null&&p<h.length;++p){let g=_A(u);m=yA(h[p],g,s)}return m}function B1(i,e=[],t=[],s=""){let o=(u,h,m)=>{let p={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};p.relativePath.startsWith("/")&&(at(p.relativePath.startsWith(s),`Absolute route path "${p.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(s.length));let g=Zi([s,p.relativePath]),E=t.concat(p);u.children&&u.children.length>0&&(at(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),B1(u.children,e,E,g)),!(u.path==null&&!u.index)&&e.push({path:g,score:pA(g,u.index),routesMeta:E})};return i.forEach((u,h)=>{if(u.path===""||!u.path?.includes("?"))o(u,h);else for(let m of q1(u.path))o(u,h,m)}),e}function q1(i){let e=i.split("/");if(e.length===0)return[];let[t,...s]=e,o=t.endsWith("?"),u=t.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let h=q1(s.join("/")),m=[];return m.push(...h.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...h),m.map(p=>i.startsWith("/")&&p===""?"/":p)}function lA(i){i.sort((e,t)=>e.score!==t.score?t.score-e.score:gA(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}var uA=/^:[\w-]+$/,cA=3,hA=2,fA=1,dA=10,mA=-2,Gv=i=>i==="*";function pA(i,e){let t=i.split("/"),s=t.length;return t.some(Gv)&&(s+=mA),e&&(s+=hA),t.filter(o=>!Gv(o)).reduce((o,u)=>o+(uA.test(u)?cA:u===""?fA:dA),s)}function gA(i,e){return i.length===e.length&&i.slice(0,-1).every((s,o)=>s===e[o])?i[i.length-1]-e[e.length-1]:0}function yA(i,e,t=!1){let{routesMeta:s}=i,o={},u="/",h=[];for(let m=0;m<s.length;++m){let p=s[m],g=m===s.length-1,E=u==="/"?e:e.slice(u.length)||"/",A=fh({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},E),S=p.route;if(!A&&g&&t&&!s[s.length-1].route.index&&(A=fh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!A)return null;Object.assign(o,A.params),h.push({params:o,pathname:Zi([u,A.pathname]),pathnameBase:wA(Zi([u,A.pathnameBase])),route:S}),A.pathnameBase!=="/"&&(u=Zi([u,A.pathnameBase]))}return h}function fh(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[t,s]=vA(i.path,i.caseSensitive,i.end),o=e.match(t);if(!o)return null;let u=o[0],h=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,{paramName:E,isOptional:A},S)=>{if(E==="*"){let O=m[S]||"";h=u.slice(0,u.length-O.length).replace(/(.)\/+$/,"$1")}const N=m[S];return A&&!N?g[E]=void 0:g[E]=(N||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:h,pattern:i}}function vA(i,e=!1,t=!0){Ln(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(s.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function _A(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ln(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function tr(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=i.charAt(t);return s&&s!=="/"?null:i.slice(t)||"/"}function EA(i,e="/"){let{pathname:t,search:s="",hash:o=""}=typeof i=="string"?ea(i):i;return{pathname:t?t.startsWith("/")?t:TA(t,e):e,search:SA(s),hash:AA(o)}}function TA(i,e){let t=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function gm(i,e,t,s){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function bA(i){return i.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function H1(i){let e=bA(i);return e.map((t,s)=>s===e.length-1?t.pathname:t.pathnameBase)}function F1(i,e,t,s=!1){let o;typeof i=="string"?o=ea(i):(o={...i},at(!o.pathname||!o.pathname.includes("?"),gm("?","pathname","search",o)),at(!o.pathname||!o.pathname.includes("#"),gm("#","pathname","hash",o)),at(!o.search||!o.search.includes("#"),gm("#","search","hash",o)));let u=i===""||o.pathname==="",h=u?"/":o.pathname,m;if(h==null)m=t;else{let A=e.length-1;if(!s&&h.startsWith("..")){let S=h.split("/");for(;S[0]==="..";)S.shift(),A-=1;o.pathname=S.join("/")}m=A>=0?e[A]:"/"}let p=EA(o,m),g=h&&h!=="/"&&h.endsWith("/"),E=(u||h===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(g||E)&&(p.pathname+="/"),p}var Zi=i=>i.join("/").replace(/\/\/+/g,"/"),wA=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),SA=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,AA=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function RA(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var G1=["POST","PUT","PATCH","DELETE"];new Set(G1);var xA=["GET",...G1];new Set(xA);var Eo=q.createContext(null);Eo.displayName="DataRouter";var Uh=q.createContext(null);Uh.displayName="DataRouterState";var $1=q.createContext({isTransitioning:!1});$1.displayName="ViewTransition";var IA=q.createContext(new Map);IA.displayName="Fetchers";var CA=q.createContext(null);CA.displayName="Await";var Ti=q.createContext(null);Ti.displayName="Navigation";var lu=q.createContext(null);lu.displayName="Location";var bi=q.createContext({outlet:null,matches:[],isDataRoute:!1});bi.displayName="Route";var dp=q.createContext(null);dp.displayName="RouteError";function DA(i,{relative:e}={}){at(uu(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:s}=q.useContext(Ti),{hash:o,pathname:u,search:h}=cu(i,{relative:e}),m=u;return t!=="/"&&(m=u==="/"?t:Zi([t,u])),s.createHref({pathname:m,search:h,hash:o})}function uu(){return q.useContext(lu)!=null}function or(){return at(uu(),"useLocation() may be used only in the context of a <Router> component."),q.useContext(lu).location}var K1="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Y1(i){q.useContext(Ti).static||q.useLayoutEffect(i)}function ta(){let{isDataRoute:i}=q.useContext(bi);return i?FA():OA()}function OA(){at(uu(),"useNavigate() may be used only in the context of a <Router> component.");let i=q.useContext(Eo),{basename:e,navigator:t}=q.useContext(Ti),{matches:s}=q.useContext(bi),{pathname:o}=or(),u=JSON.stringify(H1(s)),h=q.useRef(!1);return Y1(()=>{h.current=!0}),q.useCallback((p,g={})=>{if(Ln(h.current,K1),!h.current)return;if(typeof p=="number"){t.go(p);return}let E=F1(p,JSON.parse(u),o,g.relative==="path");i==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:Zi([e,E.pathname])),(g.replace?t.replace:t.push)(E,g.state,g)},[e,t,u,o,i])}q.createContext(null);function NA(){let{matches:i}=q.useContext(bi),e=i[i.length-1];return e?e.params:{}}function cu(i,{relative:e}={}){let{matches:t}=q.useContext(bi),{pathname:s}=or(),o=JSON.stringify(H1(t));return q.useMemo(()=>F1(i,JSON.parse(o),s,e==="path"),[i,o,s,e])}function kA(i,e){return Q1(i,e)}function Q1(i,e,t,s){at(uu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=q.useContext(Ti),{matches:u}=q.useContext(bi),h=u[u.length-1],m=h?h.params:{},p=h?h.pathname:"/",g=h?h.pathnameBase:"/",E=h&&h.route;{let V=E&&E.path||"";X1(p,!E||V.endsWith("*")||V.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${V}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${V}"> to <Route path="${V==="/"?"*":`${V}/*`}">.`)}let A=or(),S;if(e){let V=typeof e=="string"?ea(e):e;at(g==="/"||V.pathname?.startsWith(g),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${V.pathname}" was given in the \`location\` prop.`),S=V}else S=A;let N=S.pathname||"/",O=N;if(g!=="/"){let V=g.replace(/^\//,"").split("/");O="/"+N.replace(/^\//,"").split("/").slice(V.length).join("/")}let $=z1(i,{pathname:O});Ln(E||$!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),Ln($==null||$[$.length-1].route.element!==void 0||$[$.length-1].route.Component!==void 0||$[$.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let L=UA($&&$.map(V=>Object.assign({},V,{params:Object.assign({},m,V.params),pathname:Zi([g,o.encodeLocation?o.encodeLocation(V.pathname).pathname:V.pathname]),pathnameBase:V.pathnameBase==="/"?g:Zi([g,o.encodeLocation?o.encodeLocation(V.pathnameBase).pathname:V.pathnameBase])})),u,t,s);return e&&L?q.createElement(lu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...S},navigationType:"POP"}},L):L}function MA(){let i=HA(),e=RA(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),t=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},h=null;return console.error("Error handled by React Router default ErrorBoundary:",i),h=q.createElement(q.Fragment,null,q.createElement("p",null," Hey developer "),q.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",q.createElement("code",{style:u},"ErrorBoundary")," or"," ",q.createElement("code",{style:u},"errorElement")," prop on your route.")),q.createElement(q.Fragment,null,q.createElement("h2",null,"Unexpected Application Error!"),q.createElement("h3",{style:{fontStyle:"italic"}},e),t?q.createElement("pre",{style:o},t):null,h)}var VA=q.createElement(MA,null),PA=class extends q.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){console.error("React Router caught the following error during render",i,e)}render(){return this.state.error!==void 0?q.createElement(bi.Provider,{value:this.props.routeContext},q.createElement(dp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function LA({routeContext:i,match:e,children:t}){let s=q.useContext(Eo);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),q.createElement(bi.Provider,{value:i},t)}function UA(i,e=[],t=null,s=null){if(i==null){if(!t)return null;if(t.errors)i=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)i=t.matches;else return null}let o=i,u=t?.errors;if(u!=null){let p=o.findIndex(g=>g.route.id&&u?.[g.route.id]!==void 0);at(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let h=!1,m=-1;if(t)for(let p=0;p<o.length;p++){let g=o[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(m=p),g.route.id){let{loaderData:E,errors:A}=t,S=g.route.loader&&!E.hasOwnProperty(g.route.id)&&(!A||A[g.route.id]===void 0);if(g.route.lazy||S){h=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((p,g,E)=>{let A,S=!1,N=null,O=null;t&&(A=u&&g.route.id?u[g.route.id]:void 0,N=g.route.errorElement||VA,h&&(m<0&&E===0?(X1("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,O=null):m===E&&(S=!0,O=g.route.hydrateFallbackElement||null)));let $=e.concat(o.slice(0,E+1)),L=()=>{let V;return A?V=N:S?V=O:g.route.Component?V=q.createElement(g.route.Component,null):g.route.element?V=g.route.element:V=p,q.createElement(LA,{match:g,routeContext:{outlet:p,matches:$,isDataRoute:t!=null},children:V})};return t&&(g.route.ErrorBoundary||g.route.errorElement||E===0)?q.createElement(PA,{location:t.location,revalidation:t.revalidation,component:N,error:A,children:L(),routeContext:{outlet:null,matches:$,isDataRoute:!0}}):L()},null)}function mp(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function jA(i){let e=q.useContext(Eo);return at(e,mp(i)),e}function zA(i){let e=q.useContext(Uh);return at(e,mp(i)),e}function BA(i){let e=q.useContext(bi);return at(e,mp(i)),e}function pp(i){let e=BA(i),t=e.matches[e.matches.length-1];return at(t.route.id,`${i} can only be used on routes that contain a unique "id"`),t.route.id}function qA(){return pp("useRouteId")}function HA(){let i=q.useContext(dp),e=zA("useRouteError"),t=pp("useRouteError");return i!==void 0?i:e.errors?.[t]}function FA(){let{router:i}=jA("useNavigate"),e=pp("useNavigate"),t=q.useRef(!1);return Y1(()=>{t.current=!0}),q.useCallback(async(o,u={})=>{Ln(t.current,K1),t.current&&(typeof o=="number"?i.navigate(o):await i.navigate(o,{fromRouteId:e,...u}))},[i,e])}var $v={};function X1(i,e,t){!e&&!$v[i]&&($v[i]=!0,Ln(!1,t))}q.memo(GA);function GA({routes:i,future:e,state:t}){return Q1(i,void 0,t,e)}function jr(i){at(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function $A({basename:i="/",children:e=null,location:t,navigationType:s="POP",navigator:o,static:u=!1}){at(!uu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=i.replace(/^\/*/,"/"),m=q.useMemo(()=>({basename:h,navigator:o,static:u,future:{}}),[h,o,u]);typeof t=="string"&&(t=ea(t));let{pathname:p="/",search:g="",hash:E="",state:A=null,key:S="default"}=t,N=q.useMemo(()=>{let O=tr(p,h);return O==null?null:{location:{pathname:O,search:g,hash:E,state:A,key:S},navigationType:s}},[h,p,g,E,A,S,s]);return Ln(N!=null,`<Router basename="${h}"> is not able to match the URL "${p}${g}${E}" because it does not start with the basename, so the <Router> won't render anything.`),N==null?null:q.createElement(Ti.Provider,{value:m},q.createElement(lu.Provider,{children:e,value:N}))}function KA({children:i,location:e}){return kA(Pm(i),e)}function Pm(i,e=[]){let t=[];return q.Children.forEach(i,(s,o)=>{if(!q.isValidElement(s))return;let u=[...e,o];if(s.type===q.Fragment){t.push.apply(t,Pm(s.props.children,u));return}at(s.type===jr,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),at(!s.props.index||!s.props.children,"An index route cannot have child routes.");let h={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=Pm(s.props.children,u)),t.push(h)}),t}var Jc="get",eh="application/x-www-form-urlencoded";function jh(i){return i!=null&&typeof i.tagName=="string"}function YA(i){return jh(i)&&i.tagName.toLowerCase()==="button"}function QA(i){return jh(i)&&i.tagName.toLowerCase()==="form"}function XA(i){return jh(i)&&i.tagName.toLowerCase()==="input"}function WA(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function ZA(i,e){return i.button===0&&(!e||e==="_self")&&!WA(i)}function Lm(i=""){return new URLSearchParams(typeof i=="string"||Array.isArray(i)||i instanceof URLSearchParams?i:Object.keys(i).reduce((e,t)=>{let s=i[t];return e.concat(Array.isArray(s)?s.map(o=>[t,o]):[[t,s]])},[]))}function JA(i,e){let t=Lm(i);return e&&e.forEach((s,o)=>{t.has(o)||e.getAll(o).forEach(u=>{t.append(o,u)})}),t}var Fc=null;function eR(){if(Fc===null)try{new FormData(document.createElement("form"),0),Fc=!1}catch{Fc=!0}return Fc}var tR=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ym(i){return i!=null&&!tR.has(i)?(Ln(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${eh}"`),null):i}function nR(i,e){let t,s,o,u,h;if(QA(i)){let m=i.getAttribute("action");s=m?tr(m,e):null,t=i.getAttribute("method")||Jc,o=ym(i.getAttribute("enctype"))||eh,u=new FormData(i)}else if(YA(i)||XA(i)&&(i.type==="submit"||i.type==="image")){let m=i.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=i.getAttribute("formaction")||m.getAttribute("action");if(s=p?tr(p,e):null,t=i.getAttribute("formmethod")||m.getAttribute("method")||Jc,o=ym(i.getAttribute("formenctype"))||ym(m.getAttribute("enctype"))||eh,u=new FormData(m,i),!eR()){let{name:g,type:E,value:A}=i;if(E==="image"){let S=g?`${g}.`:"";u.append(`${S}x`,"0"),u.append(`${S}y`,"0")}else g&&u.append(g,A)}}else{if(jh(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Jc,s=null,o=eh,h=i}return u&&o==="text/plain"&&(h=u,u=void 0),{action:s,method:t.toLowerCase(),encType:o,formData:u,body:h}}function gp(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}async function iR(i,e){if(i.id in e)return e[i.id];try{let t=await import(i.module);return e[i.id]=t,t}catch(t){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function rR(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function sR(i,e,t){let s=await Promise.all(i.map(async o=>{let u=e.routes[o.route.id];if(u){let h=await iR(u,t);return h.links?h.links():[]}return[]}));return uR(s.flat(1).filter(rR).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Kv(i,e,t,s,o,u){let h=(p,g)=>t[g]?p.route.id!==t[g].route.id:!0,m=(p,g)=>t[g].pathname!==p.pathname||t[g].route.path?.endsWith("*")&&t[g].params["*"]!==p.params["*"];return u==="assets"?e.filter((p,g)=>h(p,g)||m(p,g)):u==="data"?e.filter((p,g)=>{let E=s.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(h(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let A=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(i,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof A=="boolean")return A}return!0}):[]}function aR(i,e,{includeHydrateFallback:t}={}){return oR(i.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),t&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function oR(i){return[...new Set(i)]}function lR(i){let e={},t=Object.keys(i).sort();for(let s of t)e[s]=i[s];return e}function uR(i,e){let t=new Set;return new Set(e),i.reduce((s,o)=>{let u=JSON.stringify(lR(o));return t.has(u)||(t.add(u),s.push({key:u,link:o})),s},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var cR=new Set([100,101,204,205]);function hR(i,e){let t=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return t.pathname==="/"?t.pathname="_root.data":e&&tr(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function W1(){let i=q.useContext(Eo);return gp(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function fR(){let i=q.useContext(Uh);return gp(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var yp=q.createContext(void 0);yp.displayName="FrameworkContext";function Z1(){let i=q.useContext(yp);return gp(i,"You must render this element inside a <HydratedRouter> element"),i}function dR(i,e){let t=q.useContext(yp),[s,o]=q.useState(!1),[u,h]=q.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:E,onTouchStart:A}=e,S=q.useRef(null);q.useEffect(()=>{if(i==="render"&&h(!0),i==="viewport"){let $=V=>{V.forEach(Q=>{h(Q.isIntersecting)})},L=new IntersectionObserver($,{threshold:.5});return S.current&&L.observe(S.current),()=>{L.disconnect()}}},[i]),q.useEffect(()=>{if(s){let $=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout($)}}},[s]);let N=()=>{o(!0)},O=()=>{o(!1),h(!1)};return t?i!=="intent"?[u,S,{}]:[u,S,{onFocus:Ll(m,N),onBlur:Ll(p,O),onMouseEnter:Ll(g,N),onMouseLeave:Ll(E,O),onTouchStart:Ll(A,N)}]:[!1,S,{}]}function Ll(i,e){return t=>{i&&i(t),t.defaultPrevented||e(t)}}function mR({page:i,...e}){let{router:t}=W1(),s=q.useMemo(()=>z1(t.routes,i,t.basename),[t.routes,i,t.basename]);return s?q.createElement(gR,{page:i,matches:s,...e}):null}function pR(i){let{manifest:e,routeModules:t}=Z1(),[s,o]=q.useState([]);return q.useEffect(()=>{let u=!1;return sR(i,e,t).then(h=>{u||o(h)}),()=>{u=!0}},[i,e,t]),s}function gR({page:i,matches:e,...t}){let s=or(),{manifest:o,routeModules:u}=Z1(),{basename:h}=W1(),{loaderData:m,matches:p}=fR(),g=q.useMemo(()=>Kv(i,e,p,o,s,"data"),[i,e,p,o,s]),E=q.useMemo(()=>Kv(i,e,p,o,s,"assets"),[i,e,p,o,s]),A=q.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let O=new Set,$=!1;if(e.forEach(V=>{let Q=o.routes[V.route.id];!Q||!Q.hasLoader||(!g.some(ie=>ie.route.id===V.route.id)&&V.route.id in m&&u[V.route.id]?.shouldRevalidate||Q.hasClientLoader?$=!0:O.add(V.route.id))}),O.size===0)return[];let L=hR(i,h);return $&&O.size>0&&L.searchParams.set("_routes",e.filter(V=>O.has(V.route.id)).map(V=>V.route.id).join(",")),[L.pathname+L.search]},[h,m,s,o,g,e,i,u]),S=q.useMemo(()=>aR(E,o),[E,o]),N=pR(E);return q.createElement(q.Fragment,null,A.map(O=>q.createElement("link",{key:O,rel:"prefetch",as:"fetch",href:O,...t})),S.map(O=>q.createElement("link",{key:O,rel:"modulepreload",href:O,...t})),N.map(({key:O,link:$})=>q.createElement("link",{key:O,...$})))}function yR(...i){return e=>{i.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var J1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{J1&&(window.__reactRouterVersion="7.6.2")}catch{}function vR({basename:i,children:e,window:t}){let s=q.useRef();s.current==null&&(s.current=iA({window:t,v5Compat:!0}));let o=s.current,[u,h]=q.useState({action:o.action,location:o.location}),m=q.useCallback(p=>{q.startTransition(()=>h(p))},[h]);return q.useLayoutEffect(()=>o.listen(m),[o,m]),q.createElement($A,{basename:i,children:e,location:u.location,navigationType:u.action,navigator:o})}var eE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,$r=q.forwardRef(function({onClick:e,discover:t="render",prefetch:s="none",relative:o,reloadDocument:u,replace:h,state:m,target:p,to:g,preventScrollReset:E,viewTransition:A,...S},N){let{basename:O}=q.useContext(Ti),$=typeof g=="string"&&eE.test(g),L,V=!1;if(typeof g=="string"&&$&&(L=g,J1))try{let I=new URL(window.location.href),k=g.startsWith("//")?new URL(I.protocol+g):new URL(g),U=tr(k.pathname,O);k.origin===I.origin&&U!=null?g=U+k.search+k.hash:V=!0}catch{Ln(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let Q=DA(g,{relative:o}),[ie,ue,le]=dR(s,S),de=bR(g,{replace:h,state:m,target:p,preventScrollReset:E,relative:o,viewTransition:A});function M(I){e&&e(I),I.defaultPrevented||de(I)}let R=q.createElement("a",{...S,...le,href:L||Q,onClick:V||u?e:M,ref:yR(N,ue),target:p,"data-discover":!$&&t==="render"?"true":void 0});return ie&&!$?q.createElement(q.Fragment,null,R,q.createElement(mR,{page:Q})):R});$r.displayName="Link";var _R=q.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:s="",end:o=!1,style:u,to:h,viewTransition:m,children:p,...g},E){let A=cu(h,{relative:g.relative}),S=or(),N=q.useContext(Uh),{navigator:O,basename:$}=q.useContext(Ti),L=N!=null&&IR(A)&&m===!0,V=O.encodeLocation?O.encodeLocation(A).pathname:A.pathname,Q=S.pathname,ie=N&&N.navigation&&N.navigation.location?N.navigation.location.pathname:null;t||(Q=Q.toLowerCase(),ie=ie?ie.toLowerCase():null,V=V.toLowerCase()),ie&&$&&(ie=tr(ie,$)||ie);const ue=V!=="/"&&V.endsWith("/")?V.length-1:V.length;let le=Q===V||!o&&Q.startsWith(V)&&Q.charAt(ue)==="/",de=ie!=null&&(ie===V||!o&&ie.startsWith(V)&&ie.charAt(V.length)==="/"),M={isActive:le,isPending:de,isTransitioning:L},R=le?e:void 0,I;typeof s=="function"?I=s(M):I=[s,le?"active":null,de?"pending":null,L?"transitioning":null].filter(Boolean).join(" ");let k=typeof u=="function"?u(M):u;return q.createElement($r,{...g,"aria-current":R,className:I,ref:E,style:k,to:h,viewTransition:m},typeof p=="function"?p(M):p)});_R.displayName="NavLink";var ER=q.forwardRef(({discover:i="render",fetcherKey:e,navigate:t,reloadDocument:s,replace:o,state:u,method:h=Jc,action:m,onSubmit:p,relative:g,preventScrollReset:E,viewTransition:A,...S},N)=>{let O=RR(),$=xR(m,{relative:g}),L=h.toLowerCase()==="get"?"get":"post",V=typeof m=="string"&&eE.test(m),Q=ie=>{if(p&&p(ie),ie.defaultPrevented)return;ie.preventDefault();let ue=ie.nativeEvent.submitter,le=ue?.getAttribute("formmethod")||h;O(ue||ie.currentTarget,{fetcherKey:e,method:le,navigate:t,replace:o,state:u,relative:g,preventScrollReset:E,viewTransition:A})};return q.createElement("form",{ref:N,method:L,action:$,onSubmit:s?p:Q,...S,"data-discover":!V&&i==="render"?"true":void 0})});ER.displayName="Form";function TR(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function tE(i){let e=q.useContext(Eo);return at(e,TR(i)),e}function bR(i,{target:e,replace:t,state:s,preventScrollReset:o,relative:u,viewTransition:h}={}){let m=ta(),p=or(),g=cu(i,{relative:u});return q.useCallback(E=>{if(ZA(E,e)){E.preventDefault();let A=t!==void 0?t:Jl(p)===Jl(g);m(i,{replace:A,state:s,preventScrollReset:o,relative:u,viewTransition:h})}},[p,m,g,t,s,e,i,o,u,h])}function wR(i){Ln(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=q.useRef(Lm(i)),t=q.useRef(!1),s=or(),o=q.useMemo(()=>JA(s.search,t.current?null:e.current),[s.search]),u=ta(),h=q.useCallback((m,p)=>{const g=Lm(typeof m=="function"?m(o):m);t.current=!0,u("?"+g,p)},[u,o]);return[o,h]}var SR=0,AR=()=>`__${String(++SR)}__`;function RR(){let{router:i}=tE("useSubmit"),{basename:e}=q.useContext(Ti),t=qA();return q.useCallback(async(s,o={})=>{let{action:u,method:h,encType:m,formData:p,body:g}=nR(s,e);if(o.navigate===!1){let E=o.fetcherKey||AR();await i.fetch(E,t,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||h,formEncType:o.encType||m,flushSync:o.flushSync})}else await i.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||h,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[i,e,t])}function xR(i,{relative:e}={}){let{basename:t}=q.useContext(Ti),s=q.useContext(bi);at(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...cu(i||".",{relative:e})},h=or();if(i==null){u.search=h.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(E=>E==="")){m.delete("index"),p.filter(A=>A).forEach(A=>m.append("index",A));let E=m.toString();u.search=E?`?${E}`:""}}return(!i||i===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(u.pathname=u.pathname==="/"?t:Zi([t,u.pathname])),Jl(u)}function IR(i,e={}){let t=q.useContext($1);at(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=tE("useViewTransitionState"),o=cu(i,{relative:e.relative});if(!t.isTransitioning)return!1;let u=tr(t.currentLocation.pathname,s)||t.currentLocation.pathname,h=tr(t.nextLocation.pathname,s)||t.nextLocation.pathname;return fh(o.pathname,h)!=null||fh(o.pathname,u)!=null}[...cR];const CR=()=>{};var Yv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nE=function(i){const e=[];let t=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},DR=function(i){const e=[];let t=0,s=0;for(;t<i.length;){const o=i[t++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[t++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[t++],h=i[t++],m=i[t++],p=((o&7)<<18|(u&63)<<12|(h&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=i[t++],h=i[t++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return e.join("")},iE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const u=i[o],h=o+1<i.length,m=h?i[o+1]:0,p=o+2<i.length,g=p?i[o+2]:0,E=u>>2,A=(u&3)<<4|m>>4;let S=(m&15)<<2|g>>6,N=g&63;p||(N=64,h||(S=64)),s.push(t[E],t[A],t[S],t[N])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(nE(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):DR(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const u=t[i.charAt(o++)],m=o<i.length?t[i.charAt(o)]:0;++o;const g=o<i.length?t[i.charAt(o)]:64;++o;const A=o<i.length?t[i.charAt(o)]:64;if(++o,u==null||m==null||g==null||A==null)throw new OR;const S=u<<2|m>>4;if(s.push(S),g!==64){const N=m<<4&240|g>>2;if(s.push(N),A!==64){const O=g<<6&192|A;s.push(O)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class OR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const NR=function(i){const e=nE(i);return iE.encodeByteArray(e,!0)},dh=function(i){return NR(i).replace(/\./g,"")},rE=function(i){try{return iE.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MR=()=>kR().__FIREBASE_DEFAULTS__,VR=()=>{if(typeof process>"u"||typeof Yv>"u")return;const i=Yv.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},PR=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&rE(i[1]);return e&&JSON.parse(e)},zh=()=>{try{return CR()||MR()||VR()||PR()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},sE=i=>{var e,t;return(t=(e=zh())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[i]},aE=i=>{const e=sE(i);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},oE=()=>{var i;return(i=zh())===null||i===void 0?void 0:i.config},lE=i=>{var e;return(e=zh())===null||e===void 0?void 0:e[`_${i}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rs(i){return i.endsWith(".cloudworkstations.dev")}async function vp(i){return(await fetch(i,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uE(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},i);return[dh(JSON.stringify(t)),dh(JSON.stringify(h)),""].join(".")}const Hl={};function UR(){const i={prod:[],emulator:[]};for(const e of Object.keys(Hl))Hl[e]?i.emulator.push(e):i.prod.push(e);return i}function jR(i){let e=document.getElementById(i),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),t=!0),{created:t,element:e}}let Qv=!1;function _p(i,e){if(typeof window>"u"||typeof document>"u"||!rs(window.location.host)||Hl[i]===e||Hl[i]||Qv)return;Hl[i]=e;function t(S){return`__firebase__banner__${S}`}const s="__firebase__banner",u=UR().prod.length>0;function h(){const S=document.getElementById(s);S&&S.remove()}function m(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function p(S,N){S.setAttribute("width","24"),S.setAttribute("id",N),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function g(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{Qv=!0,h()},S}function E(S,N){S.setAttribute("id",N),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function A(){const S=jR(s),N=t("text"),O=document.getElementById(N)||document.createElement("span"),$=t("learnmore"),L=document.getElementById($)||document.createElement("a"),V=t("preprendIcon"),Q=document.getElementById(V)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const ie=S.element;m(ie),E(L,$);const ue=g();p(Q,V),ie.append(Q,O,L,ue),document.body.appendChild(ie)}u?(O.innerText="Preview backend disconnected.",Q.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Q.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,O.innerText="Preview backend running in this workspace."),O.setAttribute("id",N)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function zR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Zt())}function BR(){var i;const e=(i=zh())===null||i===void 0?void 0:i.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function qR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function cE(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function HR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function FR(){const i=Zt();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function GR(){return!BR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function hE(){try{return typeof indexedDB=="object"}catch{return!1}}function fE(){return new Promise((i,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(t){e(t)}})}function $R(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KR="FirebaseError";class jn extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=KR,Object.setPrototypeOf(this,jn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,na.prototype.create)}}class na{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},o=`${this.service}/${e}`,u=this.errors[e],h=u?YR(u,s):"Error",m=`${this.serviceName}: ${h} (${o}).`;return new jn(o,m,s)}}function YR(i,e){return i.replace(QR,(t,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const QR=/\{\$([^}]+)}/g;function XR(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function Wr(i,e){if(i===e)return!0;const t=Object.keys(i),s=Object.keys(e);for(const o of t){if(!s.includes(o))return!1;const u=i[o],h=e[o];if(Xv(u)&&Xv(h)){if(!Wr(u,h))return!1}else if(u!==h)return!1}for(const o of s)if(!t.includes(o))return!1;return!0}function Xv(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hu(i){const e=[];for(const[t,s]of Object.entries(i))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function WR(i,e){const t=new ZR(i,e);return t.subscribe.bind(t)}class ZR{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let o;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");JR(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:s},o.next===void 0&&(o.next=vm),o.error===void 0&&(o.error=vm),o.complete===void 0&&(o.complete=vm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function JR(i,e){if(typeof i!="object"||i===null)return!1;for(const t of e)if(t in i&&typeof i[t]=="function")return!0;return!1}function vm(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e2=1e3,t2=2,n2=4*60*60*1e3,i2=.5;function Wv(i,e=e2,t=t2){const s=e*Math.pow(t,i),o=Math.round(i2*s*(Math.random()-.5)*2);return Math.min(n2,s+o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lt(i){return i&&i._delegate?i._delegate:i}class Un{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r2{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new LR;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const s=this.normalizeInstanceIdentifier(e?.identifier),o=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(a2(e))try{this.getOrInitializeService({instanceIdentifier:Hs})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=Hs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Hs){return this.instances.has(e)}getOptions(e=Hs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[u,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&h.resolve(o)}return o}onInit(e,t){var s;const o=this.normalizeInstanceIdentifier(t),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(o,u);const h=this.instances.get(o);return h&&e(h,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const o of s)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:s2(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Hs){return this.component?this.component.multipleInstances?e:Hs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function s2(i){return i===Hs?void 0:i}function a2(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o2{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new r2(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ke;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(ke||(ke={}));const l2={debug:ke.DEBUG,verbose:ke.VERBOSE,info:ke.INFO,warn:ke.WARN,error:ke.ERROR,silent:ke.SILENT},u2=ke.INFO,c2={[ke.DEBUG]:"log",[ke.VERBOSE]:"log",[ke.INFO]:"info",[ke.WARN]:"warn",[ke.ERROR]:"error"},h2=(i,e,...t)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),o=c2[e];if(o)console[o](`[${s}]  ${i.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Bh{constructor(e){this.name=e,this._logLevel=u2,this._logHandler=h2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?l2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ke.DEBUG,...e),this._logHandler(this,ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ke.VERBOSE,...e),this._logHandler(this,ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ke.INFO,...e),this._logHandler(this,ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ke.WARN,...e),this._logHandler(this,ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ke.ERROR,...e),this._logHandler(this,ke.ERROR,...e)}}const f2=(i,e)=>e.some(t=>i instanceof t);let Zv,Jv;function d2(){return Zv||(Zv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function m2(){return Jv||(Jv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const dE=new WeakMap,Um=new WeakMap,mE=new WeakMap,_m=new WeakMap,Ep=new WeakMap;function p2(i){const e=new Promise((t,s)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",h)},u=()=>{t(Kr(i.result)),o()},h=()=>{s(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",h)});return e.then(t=>{t instanceof IDBCursor&&dE.set(t,i)}).catch(()=>{}),Ep.set(e,i),e}function g2(i){if(Um.has(i))return;const e=new Promise((t,s)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",h),i.removeEventListener("abort",h)},u=()=>{t(),o()},h=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",h),i.addEventListener("abort",h)});Um.set(i,e)}let jm={get(i,e,t){if(i instanceof IDBTransaction){if(e==="done")return Um.get(i);if(e==="objectStoreNames")return i.objectStoreNames||mE.get(i);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Kr(i[e])},set(i,e,t){return i[e]=t,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function y2(i){jm=i(jm)}function v2(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=i.call(Em(this),e,...t);return mE.set(s,e.sort?e.sort():[e]),Kr(s)}:m2().includes(i)?function(...e){return i.apply(Em(this),e),Kr(dE.get(this))}:function(...e){return Kr(i.apply(Em(this),e))}}function _2(i){return typeof i=="function"?v2(i):(i instanceof IDBTransaction&&g2(i),f2(i,d2())?new Proxy(i,jm):i)}function Kr(i){if(i instanceof IDBRequest)return p2(i);if(_m.has(i))return _m.get(i);const e=_2(i);return e!==i&&(_m.set(i,e),Ep.set(e,i)),e}const Em=i=>Ep.get(i);function pE(i,e,{blocked:t,upgrade:s,blocking:o,terminated:u}={}){const h=indexedDB.open(i,e),m=Kr(h);return s&&h.addEventListener("upgradeneeded",p=>{s(Kr(h.result),p.oldVersion,p.newVersion,Kr(h.transaction),p)}),t&&h.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const E2=["get","getKey","getAll","getAllKeys","count"],T2=["put","add","delete","clear"],Tm=new Map;function e_(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(Tm.get(e))return Tm.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,o=T2.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(o||E2.includes(t)))return;const u=async function(h,...m){const p=this.transaction(h,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[t](...m),o&&p.done]))[0]};return Tm.set(e,u),u}y2(i=>({...i,get:(e,t,s)=>e_(e,t)||i.get(e,t,s),has:(e,t)=>!!e_(e,t)||i.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b2{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(w2(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function w2(i){const e=i.getComponent();return e?.type==="VERSION"}const zm="@firebase/app",t_="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nr=new Bh("@firebase/app"),S2="@firebase/app-compat",A2="@firebase/analytics-compat",R2="@firebase/analytics",x2="@firebase/app-check-compat",I2="@firebase/app-check",C2="@firebase/auth",D2="@firebase/auth-compat",O2="@firebase/database",N2="@firebase/data-connect",k2="@firebase/database-compat",M2="@firebase/functions",V2="@firebase/functions-compat",P2="@firebase/installations",L2="@firebase/installations-compat",U2="@firebase/messaging",j2="@firebase/messaging-compat",z2="@firebase/performance",B2="@firebase/performance-compat",q2="@firebase/remote-config",H2="@firebase/remote-config-compat",F2="@firebase/storage",G2="@firebase/storage-compat",$2="@firebase/firestore",K2="@firebase/ai",Y2="@firebase/firestore-compat",Q2="firebase",X2="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bm="[DEFAULT]",W2={[zm]:"fire-core",[S2]:"fire-core-compat",[R2]:"fire-analytics",[A2]:"fire-analytics-compat",[I2]:"fire-app-check",[x2]:"fire-app-check-compat",[C2]:"fire-auth",[D2]:"fire-auth-compat",[O2]:"fire-rtdb",[N2]:"fire-data-connect",[k2]:"fire-rtdb-compat",[M2]:"fire-fn",[V2]:"fire-fn-compat",[P2]:"fire-iid",[L2]:"fire-iid-compat",[U2]:"fire-fcm",[j2]:"fire-fcm-compat",[z2]:"fire-perf",[B2]:"fire-perf-compat",[q2]:"fire-rc",[H2]:"fire-rc-compat",[F2]:"fire-gcs",[G2]:"fire-gcs-compat",[$2]:"fire-fst",[Y2]:"fire-fst-compat",[K2]:"fire-vertex","fire-js":"fire-js",[Q2]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mh=new Map,Z2=new Map,qm=new Map;function n_(i,e){try{i.container.addComponent(e)}catch(t){nr.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,t)}}function Qn(i){const e=i.name;if(qm.has(e))return nr.debug(`There were multiple attempts to register component ${e}.`),!1;qm.set(e,i);for(const t of mh.values())n_(t,i);for(const t of Z2.values())n_(t,i);return!0}function ss(i,e){const t=i.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),i.container.getProvider(e)}function $n(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Yr=new na("app","Firebase",J2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ex{constructor(e,t,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Un("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Yr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ia=X2;function gE(i,e={}){let t=i;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Bm,automaticDataCollectionEnabled:!0},e),o=s.name;if(typeof o!="string"||!o)throw Yr.create("bad-app-name",{appName:String(o)});if(t||(t=oE()),!t)throw Yr.create("no-options");const u=mh.get(o);if(u){if(Wr(t,u.options)&&Wr(s,u.config))return u;throw Yr.create("duplicate-app",{appName:o})}const h=new o2(o);for(const p of qm.values())h.addComponent(p);const m=new ex(t,s,h);return mh.set(o,m),m}function qh(i=Bm){const e=mh.get(i);if(!e&&i===Bm&&oE())return gE();if(!e)throw Yr.create("no-app",{appName:i});return e}function un(i,e,t){var s;let o=(s=W2[i])!==null&&s!==void 0?s:i;t&&(o+=`-${t}`);const u=o.match(/\s|\//),h=e.match(/\s|\//);if(u||h){const m=[`Unable to register library "${o}" with version "${e}":`];u&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&h&&m.push("and"),h&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),nr.warn(m.join(" "));return}Qn(new Un(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tx="firebase-heartbeat-database",nx=1,eu="firebase-heartbeat-store";let bm=null;function yE(){return bm||(bm=pE(tx,nx,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(eu)}catch(t){console.warn(t)}}}}).catch(i=>{throw Yr.create("idb-open",{originalErrorMessage:i.message})})),bm}async function ix(i){try{const t=(await yE()).transaction(eu),s=await t.objectStore(eu).get(vE(i));return await t.done,s}catch(e){if(e instanceof jn)nr.warn(e.message);else{const t=Yr.create("idb-get",{originalErrorMessage:e?.message});nr.warn(t.message)}}}async function i_(i,e){try{const s=(await yE()).transaction(eu,"readwrite");await s.objectStore(eu).put(e,vE(i)),await s.done}catch(t){if(t instanceof jn)nr.warn(t.message);else{const s=Yr.create("idb-set",{originalErrorMessage:t?.message});nr.warn(s.message)}}}function vE(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rx=1024,sx=30;class ax{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new lx(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=r_();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(h=>h.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>sx){const h=ux(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(h,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){nr.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=r_(),{heartbeatsToSend:s,unsentEntries:o}=ox(this._heartbeatsCache.heartbeats),u=dh(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(t){return nr.warn(t),""}}}function r_(){return new Date().toISOString().substring(0,10)}function ox(i,e=rx){const t=[];let s=i.slice();for(const o of i){const u=t.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),s_(t)>e){u.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),s_(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class lx{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return hE()?fE().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await ix(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return i_(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return i_(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function s_(i){return dh(JSON.stringify({version:2,heartbeats:i})).length}function ux(i){if(i.length===0)return-1;let e=0,t=i[0].date;for(let s=1;s<i.length;s++)i[s].date<t&&(t=i[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cx(i){Qn(new Un("platform-logger",e=>new b2(e),"PRIVATE")),Qn(new Un("heartbeat",e=>new ax(e),"PRIVATE")),un(zm,t_,i),un(zm,t_,"esm2017"),un("fire-js","")}cx("");var hx="firebase",fx="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */un(hx,fx,"app");const _E="@firebase/installations",Tp="0.6.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EE=1e4,TE=`w:${Tp}`,bE="FIS_v2",dx="https://firebaseinstallations.googleapis.com/v1",mx=60*60*1e3,px="installations",gx="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yx={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Ys=new na(px,gx,yx);function wE(i){return i instanceof jn&&i.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SE({projectId:i}){return`${dx}/projects/${i}/installations`}function AE(i){return{token:i.token,requestStatus:2,expiresIn:_x(i.expiresIn),creationTime:Date.now()}}async function RE(i,e){const s=(await e.json()).error;return Ys.create("request-failed",{requestName:i,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function xE({apiKey:i}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":i})}function vx(i,{refreshToken:e}){const t=xE(i);return t.append("Authorization",Ex(e)),t}async function IE(i){const e=await i();return e.status>=500&&e.status<600?i():e}function _x(i){return Number(i.replace("s","000"))}function Ex(i){return`${bE} ${i}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tx({appConfig:i,heartbeatServiceProvider:e},{fid:t}){const s=SE(i),o=xE(i),u=e.getImmediate({optional:!0});if(u){const g=await u.getHeartbeatsHeader();g&&o.append("x-firebase-client",g)}const h={fid:t,authVersion:bE,appId:i.appId,sdkVersion:TE},m={method:"POST",headers:o,body:JSON.stringify(h)},p=await IE(()=>fetch(s,m));if(p.ok){const g=await p.json();return{fid:g.fid||t,registrationStatus:2,refreshToken:g.refreshToken,authToken:AE(g.authToken)}}else throw await RE("Create Installation",p)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CE(i){return new Promise(e=>{setTimeout(e,i)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bx(i){return btoa(String.fromCharCode(...i)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wx=/^[cdef][\w-]{21}$/,Hm="";function Sx(){try{const i=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(i),i[0]=112+i[0]%16;const t=Ax(i);return wx.test(t)?t:Hm}catch{return Hm}}function Ax(i){return bx(i).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hh(i){return`${i.appName}!${i.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DE=new Map;function OE(i,e){const t=Hh(i);NE(t,e),Rx(t,e)}function NE(i,e){const t=DE.get(i);if(t)for(const s of t)s(e)}function Rx(i,e){const t=xx();t&&t.postMessage({key:i,fid:e}),Ix()}let Fs=null;function xx(){return!Fs&&"BroadcastChannel"in self&&(Fs=new BroadcastChannel("[Firebase] FID Change"),Fs.onmessage=i=>{NE(i.data.key,i.data.fid)}),Fs}function Ix(){DE.size===0&&Fs&&(Fs.close(),Fs=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cx="firebase-installations-database",Dx=1,Qs="firebase-installations-store";let wm=null;function bp(){return wm||(wm=pE(Cx,Dx,{upgrade:(i,e)=>{switch(e){case 0:i.createObjectStore(Qs)}}})),wm}async function ph(i,e){const t=Hh(i),o=(await bp()).transaction(Qs,"readwrite"),u=o.objectStore(Qs),h=await u.get(t);return await u.put(e,t),await o.done,(!h||h.fid!==e.fid)&&OE(i,e.fid),e}async function kE(i){const e=Hh(i),s=(await bp()).transaction(Qs,"readwrite");await s.objectStore(Qs).delete(e),await s.done}async function Fh(i,e){const t=Hh(i),o=(await bp()).transaction(Qs,"readwrite"),u=o.objectStore(Qs),h=await u.get(t),m=e(h);return m===void 0?await u.delete(t):await u.put(m,t),await o.done,m&&(!h||h.fid!==m.fid)&&OE(i,m.fid),m}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wp(i){let e;const t=await Fh(i.appConfig,s=>{const o=Ox(s),u=Nx(i,o);return e=u.registrationPromise,u.installationEntry});return t.fid===Hm?{installationEntry:await e}:{installationEntry:t,registrationPromise:e}}function Ox(i){const e=i||{fid:Sx(),registrationStatus:0};return ME(e)}function Nx(i,e){if(e.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(Ys.create("app-offline"));return{installationEntry:e,registrationPromise:o}}const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},s=kx(i,t);return{installationEntry:t,registrationPromise:s}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:Mx(i)}:{installationEntry:e}}async function kx(i,e){try{const t=await Tx(i,e);return ph(i.appConfig,t)}catch(t){throw wE(t)&&t.customData.serverCode===409?await kE(i.appConfig):await ph(i.appConfig,{fid:e.fid,registrationStatus:0}),t}}async function Mx(i){let e=await a_(i.appConfig);for(;e.registrationStatus===1;)await CE(100),e=await a_(i.appConfig);if(e.registrationStatus===0){const{installationEntry:t,registrationPromise:s}=await wp(i);return s||t}return e}function a_(i){return Fh(i,e=>{if(!e)throw Ys.create("installation-not-found");return ME(e)})}function ME(i){return Vx(i)?{fid:i.fid,registrationStatus:0}:i}function Vx(i){return i.registrationStatus===1&&i.registrationTime+EE<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Px({appConfig:i,heartbeatServiceProvider:e},t){const s=Lx(i,t),o=vx(i,t),u=e.getImmediate({optional:!0});if(u){const g=await u.getHeartbeatsHeader();g&&o.append("x-firebase-client",g)}const h={installation:{sdkVersion:TE,appId:i.appId}},m={method:"POST",headers:o,body:JSON.stringify(h)},p=await IE(()=>fetch(s,m));if(p.ok){const g=await p.json();return AE(g)}else throw await RE("Generate Auth Token",p)}function Lx(i,{fid:e}){return`${SE(i)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sp(i,e=!1){let t;const s=await Fh(i.appConfig,u=>{if(!VE(u))throw Ys.create("not-registered");const h=u.authToken;if(!e&&zx(h))return u;if(h.requestStatus===1)return t=Ux(i,e),u;{if(!navigator.onLine)throw Ys.create("app-offline");const m=qx(u);return t=jx(i,m),m}});return t?await t:s.authToken}async function Ux(i,e){let t=await o_(i.appConfig);for(;t.authToken.requestStatus===1;)await CE(100),t=await o_(i.appConfig);const s=t.authToken;return s.requestStatus===0?Sp(i,e):s}function o_(i){return Fh(i,e=>{if(!VE(e))throw Ys.create("not-registered");const t=e.authToken;return Hx(t)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function jx(i,e){try{const t=await Px(i,e),s=Object.assign(Object.assign({},e),{authToken:t});return await ph(i.appConfig,s),t}catch(t){if(wE(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))await kE(i.appConfig);else{const s=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await ph(i.appConfig,s)}throw t}}function VE(i){return i!==void 0&&i.registrationStatus===2}function zx(i){return i.requestStatus===2&&!Bx(i)}function Bx(i){const e=Date.now();return e<i.creationTime||i.creationTime+i.expiresIn<e+mx}function qx(i){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},i),{authToken:e})}function Hx(i){return i.requestStatus===1&&i.requestTime+EE<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fx(i){const e=i,{installationEntry:t,registrationPromise:s}=await wp(e);return s?s.catch(console.error):Sp(e).catch(console.error),t.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gx(i,e=!1){const t=i;return await $x(t),(await Sp(t,e)).token}async function $x(i){const{registrationPromise:e}=await wp(i);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kx(i){if(!i||!i.options)throw Sm("App Configuration");if(!i.name)throw Sm("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!i.options[t])throw Sm(t);return{appName:i.name,projectId:i.options.projectId,apiKey:i.options.apiKey,appId:i.options.appId}}function Sm(i){return Ys.create("missing-app-config-values",{valueName:i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PE="installations",Yx="installations-internal",Qx=i=>{const e=i.getProvider("app").getImmediate(),t=Kx(e),s=ss(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},Xx=i=>{const e=i.getProvider("app").getImmediate(),t=ss(e,PE).getImmediate();return{getId:()=>Fx(t),getToken:o=>Gx(t,o)}};function Wx(){Qn(new Un(PE,Qx,"PUBLIC")),Qn(new Un(Yx,Xx,"PRIVATE"))}Wx();un(_E,Tp);un(_E,Tp,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gh="analytics",Zx="firebase_id",Jx="origin",eI=60*1e3,tI="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Ap="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cn=new Bh("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nI={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Tn=new na("analytics","Analytics",nI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iI(i){if(!i.startsWith(Ap)){const e=Tn.create("invalid-gtag-resource",{gtagURL:i});return cn.warn(e.message),""}return i}function LE(i){return Promise.all(i.map(e=>e.catch(t=>t)))}function rI(i,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(i,e)),t}function sI(i,e){const t=rI("firebase-js-sdk-policy",{createScriptURL:iI}),s=document.createElement("script"),o=`${Ap}?l=${i}&id=${e}`;s.src=t?t?.createScriptURL(o):o,s.async=!0,document.head.appendChild(s)}function aI(i){let e=[];return Array.isArray(window[i])?e=window[i]:window[i]=e,e}async function oI(i,e,t,s,o,u){const h=s[o];try{if(h)await e[h];else{const p=(await LE(t)).find(g=>g.measurementId===o);p&&await e[p.appId]}}catch(m){cn.error(m)}i("config",o,u)}async function lI(i,e,t,s,o){try{let u=[];if(o&&o.send_to){let h=o.send_to;Array.isArray(h)||(h=[h]);const m=await LE(t);for(const p of h){const g=m.find(A=>A.measurementId===p),E=g&&e[g.appId];if(E)u.push(E);else{u=[];break}}}u.length===0&&(u=Object.values(e)),await Promise.all(u),i("event",s,o||{})}catch(u){cn.error(u)}}function uI(i,e,t,s){async function o(u,...h){try{if(u==="event"){const[m,p]=h;await lI(i,e,t,m,p)}else if(u==="config"){const[m,p]=h;await oI(i,e,t,s,m,p)}else if(u==="consent"){const[m,p]=h;i("consent",m,p)}else if(u==="get"){const[m,p,g]=h;i("get",m,p,g)}else if(u==="set"){const[m]=h;i("set",m)}else i(u,...h)}catch(m){cn.error(m)}}return o}function cI(i,e,t,s,o){let u=function(...h){window[s].push(arguments)};return window[o]&&typeof window[o]=="function"&&(u=window[o]),window[o]=uI(u,i,e,t),{gtagCore:u,wrappedGtag:window[o]}}function hI(i){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(Ap)&&t.src.includes(i))return t;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fI=30,dI=1e3;class mI{constructor(e={},t=dI){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const UE=new mI;function pI(i){return new Headers({Accept:"application/json","x-goog-api-key":i})}async function gI(i){var e;const{appId:t,apiKey:s}=i,o={method:"GET",headers:pI(s)},u=tI.replace("{app-id}",t),h=await fetch(u,o);if(h.status!==200&&h.status!==304){let m="";try{const p=await h.json();!((e=p.error)===null||e===void 0)&&e.message&&(m=p.error.message)}catch{}throw Tn.create("config-fetch-failed",{httpStatus:h.status,responseMessage:m})}return h.json()}async function yI(i,e=UE,t){const{appId:s,apiKey:o,measurementId:u}=i.options;if(!s)throw Tn.create("no-app-id");if(!o){if(u)return{measurementId:u,appId:s};throw Tn.create("no-api-key")}const h=e.getThrottleMetadata(s)||{backoffCount:0,throttleEndTimeMillis:Date.now()},m=new EI;return setTimeout(async()=>{m.abort()},eI),jE({appId:s,apiKey:o,measurementId:u},h,m,e)}async function jE(i,{throttleEndTimeMillis:e,backoffCount:t},s,o=UE){var u;const{appId:h,measurementId:m}=i;try{await vI(s,e)}catch(p){if(m)return cn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${m} provided in the "measurementId" field in the local Firebase config. [${p?.message}]`),{appId:h,measurementId:m};throw p}try{const p=await gI(i);return o.deleteThrottleMetadata(h),p}catch(p){const g=p;if(!_I(g)){if(o.deleteThrottleMetadata(h),m)return cn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${m} provided in the "measurementId" field in the local Firebase config. [${g?.message}]`),{appId:h,measurementId:m};throw p}const E=Number((u=g?.customData)===null||u===void 0?void 0:u.httpStatus)===503?Wv(t,o.intervalMillis,fI):Wv(t,o.intervalMillis),A={throttleEndTimeMillis:Date.now()+E,backoffCount:t+1};return o.setThrottleMetadata(h,A),cn.debug(`Calling attemptFetch again in ${E} millis`),jE(i,A,s,o)}}function vI(i,e){return new Promise((t,s)=>{const o=Math.max(e-Date.now(),0),u=setTimeout(t,o);i.addEventListener(()=>{clearTimeout(u),s(Tn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function _I(i){if(!(i instanceof jn)||!i.customData)return!1;const e=Number(i.customData.httpStatus);return e===429||e===500||e===503||e===504}class EI{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function TI(i,e,t,s,o){if(o&&o.global){i("event",t,s);return}else{const u=await e,h=Object.assign(Object.assign({},s),{send_to:u});i("event",t,h)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bI(){if(hE())try{await fE()}catch(i){return cn.warn(Tn.create("indexeddb-unavailable",{errorInfo:i?.toString()}).message),!1}else return cn.warn(Tn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function wI(i,e,t,s,o,u,h){var m;const p=yI(i);p.then(N=>{t[N.measurementId]=N.appId,i.options.measurementId&&N.measurementId!==i.options.measurementId&&cn.warn(`The measurement ID in the local Firebase config (${i.options.measurementId}) does not match the measurement ID fetched from the server (${N.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(N=>cn.error(N)),e.push(p);const g=bI().then(N=>{if(N)return s.getId()}),[E,A]=await Promise.all([p,g]);hI(u)||sI(u,E.measurementId),o("js",new Date);const S=(m=h?.config)!==null&&m!==void 0?m:{};return S[Jx]="firebase",S.update=!0,A!=null&&(S[Zx]=A),o("config",E.measurementId,S),E.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SI{constructor(e){this.app=e}_delete(){return delete Fl[this.app.options.appId],Promise.resolve()}}let Fl={},l_=[];const u_={};let Am="dataLayer",AI="gtag",c_,zE,h_=!1;function RI(){const i=[];if(cE()&&i.push("This is a browser extension environment."),$R()||i.push("Cookies are not available."),i.length>0){const e=i.map((s,o)=>`(${o+1}) ${s}`).join(" "),t=Tn.create("invalid-analytics-context",{errorInfo:e});cn.warn(t.message)}}function xI(i,e,t){RI();const s=i.options.appId;if(!s)throw Tn.create("no-app-id");if(!i.options.apiKey)if(i.options.measurementId)cn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${i.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Tn.create("no-api-key");if(Fl[s]!=null)throw Tn.create("already-exists",{id:s});if(!h_){aI(Am);const{wrappedGtag:u,gtagCore:h}=cI(Fl,l_,u_,Am,AI);zE=u,c_=h,h_=!0}return Fl[s]=wI(i,l_,u_,e,c_,Am,t),new SI(i)}function II(i=qh()){i=Lt(i);const e=ss(i,gh);return e.isInitialized()?e.getImmediate():CI(i)}function CI(i,e={}){const t=ss(i,gh);if(t.isInitialized()){const o=t.getImmediate();if(Wr(e,t.getOptions()))return o;throw Tn.create("already-initialized")}return t.initialize({options:e})}function DI(i,e,t,s){i=Lt(i),TI(zE,Fl[i.app.options.appId],e,t,s).catch(o=>cn.error(o))}const f_="@firebase/analytics",d_="0.10.16";function OI(){Qn(new Un(gh,(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("installations-internal").getImmediate();return xI(s,o,t)},"PUBLIC")),Qn(new Un("analytics-internal",i,"PRIVATE")),un(f_,d_),un(f_,d_,"esm2017");function i(e){try{const t=e.getProvider(gh).getImmediate();return{logEvent:(s,o,u)=>DI(t,s,o,u)}}catch(t){throw Tn.create("interop-component-reg-failed",{reason:t})}}}OI();function Rp(i,e){var t={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&e.indexOf(s)<0&&(t[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(i);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(i,s[o])&&(t[s[o]]=i[s[o]]);return t}function BE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const NI=BE,qE=new na("auth","Firebase",BE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yh=new Bh("@firebase/auth");function kI(i,...e){yh.logLevel<=ke.WARN&&yh.warn(`Auth (${ia}): ${i}`,...e)}function th(i,...e){yh.logLevel<=ke.ERROR&&yh.error(`Auth (${ia}): ${i}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ir(i,...e){throw xp(i,...e)}function gi(i,...e){return xp(i,...e)}function HE(i,e,t){const s=Object.assign(Object.assign({},NI()),{[e]:t});return new na("auth","Firebase",s).create(e,{appName:i.name})}function $s(i){return HE(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function xp(i,...e){if(typeof i!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(t,...s)}return qE.create(i,...e)}function be(i,e,...t){if(!i)throw xp(e,...t)}function Xi(i){const e="INTERNAL ASSERTION FAILED: "+i;throw th(e),new Error(e)}function rr(i,e){i||Xi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fm(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.href)||""}function MI(){return m_()==="http:"||m_()==="https:"}function m_(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(MI()||cE()||"connection"in navigator)?navigator.onLine:!0}function PI(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu{constructor(e,t){this.shortDelay=e,this.longDelay=t,rr(t>e,"Short delay should be less than long delay!"),this.isMobile=zR()||HR()}get(){return VI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ip(i,e){rr(i.emulator,"Emulator should always be set here");const{url:t}=i.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FE{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Xi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Xi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Xi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UI=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],jI=new fu(3e4,6e4);function Cp(i,e){return i.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:i.tenantId}):e}async function To(i,e,t,s,o={}){return GE(i,o,async()=>{let u={},h={};s&&(e==="GET"?h=s:u={body:JSON.stringify(s)});const m=hu(Object.assign({key:i.config.apiKey},h)).slice(1),p=await i._getAdditionalHeaders();p["Content-Type"]="application/json",i.languageCode&&(p["X-Firebase-Locale"]=i.languageCode);const g=Object.assign({method:e,headers:p},u);return qR()||(g.referrerPolicy="no-referrer"),i.emulatorConfig&&rs(i.emulatorConfig.host)&&(g.credentials="include"),FE.fetch()(await $E(i,i.config.apiHost,t,m),g)})}async function GE(i,e,t){i._canInitEmulator=!1;const s=Object.assign(Object.assign({},LI),e);try{const o=new BI(i),u=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const h=await u.json();if("needConfirmation"in h)throw Gc(i,"account-exists-with-different-credential",h);if(u.ok&&!("errorMessage"in h))return h;{const m=u.ok?h.errorMessage:h.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Gc(i,"credential-already-in-use",h);if(p==="EMAIL_EXISTS")throw Gc(i,"email-already-in-use",h);if(p==="USER_DISABLED")throw Gc(i,"user-disabled",h);const E=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw HE(i,E,g);ir(i,E)}}catch(o){if(o instanceof jn)throw o;ir(i,"network-request-failed",{message:String(o)})}}async function zI(i,e,t,s,o={}){const u=await To(i,e,t,s,o);return"mfaPendingCredential"in u&&ir(i,"multi-factor-auth-required",{_serverResponse:u}),u}async function $E(i,e,t,s){const o=`${e}${t}?${s}`,u=i,h=u.config.emulator?Ip(i.config,o):`${i.config.apiScheme}://${o}`;return UI.includes(t)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(h).toString():h}class BI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s(gi(this.auth,"network-request-failed")),jI.get())})}}function Gc(i,e,t){const s={appName:i.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const o=gi(i,e,s);return o.customData._tokenResponse=t,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qI(i,e){return To(i,"POST","/v1/accounts:delete",e)}async function vh(i,e){return To(i,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gl(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function HI(i,e=!1){const t=Lt(i),s=await t.getIdToken(e),o=Dp(s);be(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,h=u?.sign_in_provider;return{claims:o,token:s,authTime:Gl(Rm(o.auth_time)),issuedAtTime:Gl(Rm(o.iat)),expirationTime:Gl(Rm(o.exp)),signInProvider:h||null,signInSecondFactor:u?.sign_in_second_factor||null}}function Rm(i){return Number(i)*1e3}function Dp(i){const[e,t,s]=i.split(".");if(e===void 0||t===void 0||s===void 0)return th("JWT malformed, contained fewer than 3 sections"),null;try{const o=rE(t);return o?JSON.parse(o):(th("Failed to decode base64 JWT payload"),null)}catch(o){return th("Caught error parsing JWT payload as JSON",o?.toString()),null}}function p_(i){const e=Dp(i);return be(e,"internal-error"),be(typeof e.exp<"u","internal-error"),be(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tu(i,e,t=!1){if(t)return e;try{return await e}catch(s){throw s instanceof jn&&FI(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function FI({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GI{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gm{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Gl(this.lastLoginAt),this.creationTime=Gl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _h(i){var e;const t=i.auth,s=await i.getIdToken(),o=await tu(i,vh(t,{idToken:s}));be(o?.users.length,t,"internal-error");const u=o.users[0];i._notifyReloadListener(u);const h=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?KE(u.providerUserInfo):[],m=KI(i.providerData,h),p=i.isAnonymous,g=!(i.email&&u.passwordHash)&&!m?.length,E=p?g:!1,A={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:m,metadata:new Gm(u.createdAt,u.lastLoginAt),isAnonymous:E};Object.assign(i,A)}async function $I(i){const e=Lt(i);await _h(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function KI(i,e){return[...i.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function KE(i){return i.map(e=>{var{providerId:t}=e,s=Rp(e,["providerId"]);return{providerId:t,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YI(i,e){const t=await GE(i,{},async()=>{const s=hu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=i.config,h=await $E(i,o,"/v1/token",`key=${u}`),m=await i._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:s};return i.emulatorConfig&&rs(i.emulatorConfig.host)&&(p.credentials="include"),FE.fetch()(h,p)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function QI(i,e){return To(i,"POST","/v2/accounts:revokeToken",Cp(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){be(e.idToken,"internal-error"),be(typeof e.idToken<"u","internal-error"),be(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):p_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){be(e.length!==0,"internal-error");const t=p_(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(be(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:o,expiresIn:u}=await YI(e,t);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:o,expirationTime:u}=t,h=new ao;return s&&(be(typeof s=="string","internal-error",{appName:e}),h.refreshToken=s),o&&(be(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),u&&(be(typeof u=="number","internal-error",{appName:e}),h.expirationTime=u),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ao,this.toJSON())}_performRefresh(){return Xi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lr(i,e){be(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class Kn{constructor(e){var{uid:t,auth:s,stsTokenManager:o}=e,u=Rp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new GI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new Gm(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const t=await tu(this,this.stsTokenManager.getToken(this.auth,e));return be(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return HI(this,e)}reload(){return $I(this)}_assign(e){this!==e&&(be(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Kn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){be(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await _h(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if($n(this.auth.app))return Promise.reject($s(this.auth));const e=await this.getIdToken();return await tu(this,qI(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var s,o,u,h,m,p,g,E;const A=(s=t.displayName)!==null&&s!==void 0?s:void 0,S=(o=t.email)!==null&&o!==void 0?o:void 0,N=(u=t.phoneNumber)!==null&&u!==void 0?u:void 0,O=(h=t.photoURL)!==null&&h!==void 0?h:void 0,$=(m=t.tenantId)!==null&&m!==void 0?m:void 0,L=(p=t._redirectEventId)!==null&&p!==void 0?p:void 0,V=(g=t.createdAt)!==null&&g!==void 0?g:void 0,Q=(E=t.lastLoginAt)!==null&&E!==void 0?E:void 0,{uid:ie,emailVerified:ue,isAnonymous:le,providerData:de,stsTokenManager:M}=t;be(ie&&M,e,"internal-error");const R=ao.fromJSON(this.name,M);be(typeof ie=="string",e,"internal-error"),Lr(A,e.name),Lr(S,e.name),be(typeof ue=="boolean",e,"internal-error"),be(typeof le=="boolean",e,"internal-error"),Lr(N,e.name),Lr(O,e.name),Lr($,e.name),Lr(L,e.name),Lr(V,e.name),Lr(Q,e.name);const I=new Kn({uid:ie,auth:e,email:S,emailVerified:ue,displayName:A,isAnonymous:le,photoURL:O,phoneNumber:N,tenantId:$,stsTokenManager:R,createdAt:V,lastLoginAt:Q});return de&&Array.isArray(de)&&(I.providerData=de.map(k=>Object.assign({},k))),L&&(I._redirectEventId=L),I}static async _fromIdTokenResponse(e,t,s=!1){const o=new ao;o.updateFromServerResponse(t);const u=new Kn({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await _h(u),u}static async _fromGetAccountInfoResponse(e,t,s){const o=t.users[0];be(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?KE(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!u?.length,m=new ao;m.updateFromIdToken(s);const p=new Kn({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:h}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Gm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g_=new Map;function Wi(i){rr(i instanceof Function,"Expected a class definition");let e=g_.get(i);return e?(rr(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,g_.set(i,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}YE.type="NONE";const y_=YE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nh(i,e,t){return`firebase:${i}:${e}:${t}`}class oo{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=nh(this.userKey,o.apiKey,u),this.fullPersistenceKey=nh("persistence",o.apiKey,u),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await vh(this.auth,{idToken:e}).catch(()=>{});return t?Kn._fromGetAccountInfoResponse(this.auth,t,e):null}return Kn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new oo(Wi(y_),e,s);const o=(await Promise.all(t.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||Wi(y_);const h=nh(s,e.config.apiKey,e.name);let m=null;for(const g of t)try{const E=await g._get(h);if(E){let A;if(typeof E=="string"){const S=await vh(e,{idToken:E}).catch(()=>{});if(!S)break;A=await Kn._fromGetAccountInfoResponse(e,S,E)}else A=Kn._fromJSON(e,E);g!==u&&(m=A),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new oo(u,e,s):(u=p[0],m&&await u._set(h,m.toJSON()),await Promise.all(t.map(async g=>{if(g!==u)try{await g._remove(h)}catch{}})),new oo(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v_(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(ZE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(QE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(eT(e))return"Blackberry";if(tT(e))return"Webos";if(XE(e))return"Safari";if((e.includes("chrome/")||WE(e))&&!e.includes("edge/"))return"Chrome";if(JE(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(t);if(s?.length===2)return s[1]}return"Other"}function QE(i=Zt()){return/firefox\//i.test(i)}function XE(i=Zt()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function WE(i=Zt()){return/crios\//i.test(i)}function ZE(i=Zt()){return/iemobile/i.test(i)}function JE(i=Zt()){return/android/i.test(i)}function eT(i=Zt()){return/blackberry/i.test(i)}function tT(i=Zt()){return/webos/i.test(i)}function Op(i=Zt()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function XI(i=Zt()){var e;return Op(i)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function WI(){return FR()&&document.documentMode===10}function nT(i=Zt()){return Op(i)||JE(i)||tT(i)||eT(i)||/windows phone/i.test(i)||ZE(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iT(i,e=[]){let t;switch(i){case"Browser":t=v_(Zt());break;case"Worker":t=`${v_(Zt())}-${i}`;break;default:t=i}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${ia}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZI{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=u=>new Promise((h,m)=>{try{const p=e(u);h(p)}catch(p){m(p)}});s.onAbort=t,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JI(i,e={}){return To(i,"GET","/v2/passwordPolicy",Cp(i,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eC=6;class tC{constructor(e){var t,s,o,u;const h=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=h.minPasswordLength)!==null&&t!==void 0?t:eC,h.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=h.maxPasswordLength),h.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=h.containsLowercaseCharacter),h.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=h.containsUppercaseCharacter),h.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=h.containsNumericCharacter),h.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=h.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,s,o,u,h,m;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(t=p.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(u=p.containsUppercaseLetter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(h=p.containsNumericCharacter)!==null&&h!==void 0?h:!0),p.isValid&&(p.isValid=(m=p.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),p}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nC{constructor(e,t,s,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new __(this),this.idTokenSubscription=new __(this),this.beforeStateQueue=new ZI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=qE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Wi(t)),this._initializationPromise=this.queue(async()=>{var s,o,u;if(!this._deleted&&(this.persistenceManager=await oo.create(this,e),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((u=this.currentUser)===null||u===void 0?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await vh(this,{idToken:e}),s=await Kn._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if($n(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(m,m))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,m=o?._redirectEventId,p=await this.tryRedirectSignIn(e);(!h||h===m)&&p?.user&&(o=p.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(h){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return be(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await _h(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=PI()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if($n(this.app))return Promise.reject($s(this));const t=e?Lt(e):null;return t&&be(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&be(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return $n(this.app)?Promise.reject($s(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return $n(this.app)?Promise.reject($s(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Wi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await JI(this),t=new tC(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new na("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(s.tenantId=this.tenantId),await QI(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Wi(e)||this._popupRedirectResolver;be(t,this,"argument-error"),this.redirectPersistenceManager=await oo.create(this,[Wi(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,s;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,o){if(this._deleted)return()=>{};const u=typeof t=="function"?t:t.next.bind(t);let h=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(be(m,this,"internal-error"),m.then(()=>{h||u(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,s,o);return()=>{h=!0,p()}}else{const p=e.addObserver(t);return()=>{h=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return be(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=iT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(t["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;if($n(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t?.error&&kI(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Np(i){return Lt(i)}class __{constructor(e){this.auth=e,this.observer=null,this.addObserver=WR(t=>this.observer=t)}get next(){return be(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function iC(i){kp=i}function rC(i){return kp.loadJS(i)}function sC(){return kp.gapiScript}function aC(i){return`__${i}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oC(i,e){const t=ss(i,"auth");if(t.isInitialized()){const o=t.getImmediate(),u=t.getOptions();if(Wr(u,e??{}))return o;ir(o,"already-initialized")}return t.initialize({options:e})}function lC(i,e){const t=e?.persistence||[],s=(Array.isArray(t)?t:[t]).map(Wi);e?.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(s,e?.popupRedirectResolver)}function uC(i,e,t){const s=Np(i);be(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=rT(e),{host:h,port:m}=cC(e),p=m===null?"":`:${m}`,g={url:`${u}//${h}${p}/`},E=Object.freeze({host:h,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){be(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),be(Wr(g,s.config.emulator)&&Wr(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,rs(h)?(vp(`${u}//${h}${p}`),_p("Auth",!0)):hC()}function rT(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function cC(i){const e=rT(i),t=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!t)return{host:"",port:null};const s=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:E_(s.substr(u.length+1))}}else{const[u,h]=s.split(":");return{host:u,port:E_(h)}}}function E_(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function hC(){function i(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sT{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Xi("not implemented")}_getIdTokenResponse(e){return Xi("not implemented")}_linkToIdToken(e,t){return Xi("not implemented")}_getReauthenticationResolver(e){return Xi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lo(i,e){return zI(i,"POST","/v1/accounts:signInWithIdp",Cp(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fC="http://localhost";class Xs extends sT{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Xs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):ir("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o}=t,u=Rp(t,["providerId","signInMethod"]);if(!s||!o)return null;const h=new Xs(s,o);return h.idToken=u.idToken||void 0,h.accessToken=u.accessToken||void 0,h.secret=u.secret,h.nonce=u.nonce,h.pendingToken=u.pendingToken||null,h}_getIdTokenResponse(e){const t=this.buildRequest();return lo(e,t)}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,lo(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,lo(e,t)}buildRequest(){const e={requestUri:fC,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=hu(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aT{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class du extends aT{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr extends du{constructor(){super("facebook.com")}static credential(e){return Xs._fromParams({providerId:zr.PROVIDER_ID,signInMethod:zr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return zr.credentialFromTaggedObject(e)}static credentialFromError(e){return zr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return zr.credential(e.oauthAccessToken)}catch{return null}}}zr.FACEBOOK_SIGN_IN_METHOD="facebook.com";zr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br extends du{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Xs._fromParams({providerId:Br.PROVIDER_ID,signInMethod:Br.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Br.credentialFromTaggedObject(e)}static credentialFromError(e){return Br.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return Br.credential(t,s)}catch{return null}}}Br.GOOGLE_SIGN_IN_METHOD="google.com";Br.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr extends du{constructor(){super("github.com")}static credential(e){return Xs._fromParams({providerId:qr.PROVIDER_ID,signInMethod:qr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return qr.credentialFromTaggedObject(e)}static credentialFromError(e){return qr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return qr.credential(e.oauthAccessToken)}catch{return null}}}qr.GITHUB_SIGN_IN_METHOD="github.com";qr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr extends du{constructor(){super("twitter.com")}static credential(e,t){return Xs._fromParams({providerId:Hr.PROVIDER_ID,signInMethod:Hr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Hr.credentialFromTaggedObject(e)}static credentialFromError(e){return Hr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return Hr.credential(t,s)}catch{return null}}}Hr.TWITTER_SIGN_IN_METHOD="twitter.com";Hr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s,o=!1){const u=await Kn._fromIdTokenResponse(e,s,o),h=T_(s);return new co({user:u,providerId:h,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const o=T_(s);return new co({user:e,providerId:o,_tokenResponse:s,operationType:t})}}function T_(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh extends jn{constructor(e,t,s,o){var u;super(t.code,t.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Eh.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,o){return new Eh(e,t,s,o)}}function oT(i,e,t,s){return(e==="reauthenticate"?t._getReauthenticationResolver(i):t._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Eh._fromErrorAndOperation(i,u,e,s):u})}async function dC(i,e,t=!1){const s=await tu(i,e._linkToIdToken(i.auth,await i.getIdToken()),t);return co._forOperation(i,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mC(i,e,t=!1){const{auth:s}=i;if($n(s.app))return Promise.reject($s(s));const o="reauthenticate";try{const u=await tu(i,oT(s,o,e,i),t);be(u.idToken,s,"internal-error");const h=Dp(u.idToken);be(h,s,"internal-error");const{sub:m}=h;return be(i.uid===m,s,"user-mismatch"),co._forOperation(i,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&ir(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pC(i,e,t=!1){if($n(i.app))return Promise.reject($s(i));const s="signIn",o=await oT(i,s,e),u=await co._fromIdTokenResponse(i,s,o);return t||await i._updateCurrentUser(u.user),u}function gC(i,e,t,s){return Lt(i).onIdTokenChanged(e,t,s)}function yC(i,e,t){return Lt(i).beforeAuthStateChanged(e,t)}const Th="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lT{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Th,"1"),this.storage.removeItem(Th),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vC=1e3,_C=10;class uT extends lT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=nT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),o=this.localCache[t];s!==o&&e(t,o,s)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((h,m,p)=>{this.notifyListeners(h,p)});return}const s=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(s);!t&&this.localCache[s]===h||this.notifyListeners(s,h)},u=this.storage.getItem(s);WI()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,_C):o()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},vC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}uT.type="LOCAL";const EC=uT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cT extends lT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}cT.type="SESSION";const hT=cT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TC(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const s=new Gh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:o,data:u}=t.data,h=this.handlersMap[o];if(!h?.size)return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(h).map(async g=>g(t.origin,u)),p=await TC(m);t.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Gh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mp(i="",e=10){let t="";for(let s=0;s<e;s++)t+=Math.floor(Math.random()*10);return i+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,h;return new Promise((m,p)=>{const g=Mp("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},s);h={messageChannel:o,onMessage(A){const S=A;if(S.data.eventId===g)switch(S.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(S.data.response);break;default:clearTimeout(E),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:g,data:t},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yi(){return window}function wC(i){yi().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fT(){return typeof yi().WorkerGlobalScope<"u"&&typeof yi().importScripts=="function"}async function SC(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function AC(){var i;return((i=navigator?.serviceWorker)===null||i===void 0?void 0:i.controller)||null}function RC(){return fT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dT="firebaseLocalStorageDb",xC=1,bh="firebaseLocalStorage",mT="fbase_key";class mu{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function $h(i,e){return i.transaction([bh],e?"readwrite":"readonly").objectStore(bh)}function IC(){const i=indexedDB.deleteDatabase(dT);return new mu(i).toPromise()}function $m(){const i=indexedDB.open(dT,xC);return new Promise((e,t)=>{i.addEventListener("error",()=>{t(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(bh,{keyPath:mT})}catch(o){t(o)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(bh)?e(s):(s.close(),await IC(),e(await $m()))})})}async function b_(i,e,t){const s=$h(i,!0).put({[mT]:e,value:t});return new mu(s).toPromise()}async function CC(i,e){const t=$h(i,!1).get(e),s=await new mu(t).toPromise();return s===void 0?null:s.value}function w_(i,e){const t=$h(i,!0).delete(e);return new mu(t).toPromise()}const DC=800,OC=3;class pT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await $m(),this.db)}async _withRetries(e){let t=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(t++>OC)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return fT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Gh._getInstance(RC()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await SC(),!this.activeServiceWorker)return;this.sender=new bC(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((t=s[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||AC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await $m();return await b_(e,Th,"1"),await w_(e,Th),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>b_(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(s=>CC(s,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>w_(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=$h(o,!1).getAll();return new mu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),DC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}pT.type="LOCAL";const NC=pT;new fu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kC(i,e){return e?Wi(e):(be(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vp extends sT{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return lo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return lo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return lo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function MC(i){return pC(i.auth,new Vp(i),i.bypassAuthState)}function VC(i){const{auth:e,user:t}=i;return be(t,e,"internal-error"),mC(t,new Vp(i),i.bypassAuthState)}async function PC(i){const{auth:e,user:t}=i;return be(t,e,"internal-error"),dC(t,new Vp(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gT{constructor(e,t,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:o,tenantId:u,error:h,type:m}=e;if(h){this.reject(h);return}const p={auth:this.auth,requestUri:t,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return MC;case"linkViaPopup":case"linkViaRedirect":return PC;case"reauthViaPopup":case"reauthViaRedirect":return VC;default:ir(this.auth,"internal-error")}}resolve(e){rr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){rr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LC=new fu(2e3,1e4);class so extends gT{constructor(e,t,s,o,u){super(e,t,o,u),this.provider=s,this.authWindow=null,this.pollId=null,so.currentPopupAction&&so.currentPopupAction.cancel(),so.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return be(e,this.auth,"internal-error"),e}async onExecution(){rr(this.filter.length===1,"Popup operations only handle one event");const e=Mp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(gi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(gi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,so.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,s;if(!((s=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(gi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,LC.get())};e()}}so.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UC="pendingRedirect",ih=new Map;class jC extends gT{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s),this.eventId=null}async execute(){let e=ih.get(this.auth._key());if(!e){try{const s=await zC(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(t){e=()=>Promise.reject(t)}ih.set(this.auth._key(),e)}return this.bypassAuthState||ih.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function zC(i,e){const t=HC(e),s=qC(i);if(!await s._isAvailable())return!1;const o=await s._get(t)==="true";return await s._remove(t),o}function BC(i,e){ih.set(i._key(),e)}function qC(i){return Wi(i._redirectPersistence)}function HC(i){return nh(UC,i.config.apiKey,i.name)}async function FC(i,e,t=!1){if($n(i.app))return Promise.reject($s(i));const s=Np(i),o=kC(s,e),h=await new jC(s,o,t).execute();return h&&!t&&(delete h.user._redirectEventId,await s._persistUserIfCurrent(h.user),await s._setRedirectUser(null,e)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GC=10*60*1e3;class $C{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!KC(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var s;if(e.error&&!yT(e)){const o=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";t.onError(gi(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=GC&&this.cachedEventUids.clear(),this.cachedEventUids.has(S_(e))}saveEventToCache(e){this.cachedEventUids.add(S_(e)),this.lastProcessedEventTime=Date.now()}}function S_(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function yT({type:i,error:e}){return i==="unknown"&&e?.code==="auth/no-auth-event"}function KC(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return yT(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YC(i,e={}){return To(i,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,XC=/^https?/;async function WC(i){if(i.config.emulator)return;const{authorizedDomains:e}=await YC(i);for(const t of e)try{if(ZC(t))return}catch{}ir(i,"unauthorized-domain")}function ZC(i){const e=Fm(),{protocol:t,hostname:s}=new URL(e);if(i.startsWith("chrome-extension://")){const h=new URL(i);return h.hostname===""&&s===""?t==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&h.hostname===s}if(!XC.test(t))return!1;if(QC.test(i))return s===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JC=new fu(3e4,6e4);function A_(){const i=yi().___jsl;if(i?.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let t=0;t<i.CP.length;t++)i.CP[t]=null}}function eD(i){return new Promise((e,t)=>{var s,o,u;function h(){A_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{A_(),t(gi(i,"network-request-failed"))},timeout:JC.get()})}if(!((o=(s=yi().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((u=yi().gapi)===null||u===void 0)&&u.load)h();else{const m=aC("iframefcb");return yi()[m]=()=>{gapi.load?h():t(gi(i,"network-request-failed"))},rC(`${sC()}?onload=${m}`).catch(p=>t(p))}}).catch(e=>{throw rh=null,e})}let rh=null;function tD(i){return rh=rh||eD(i),rh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nD=new fu(5e3,15e3),iD="__/auth/iframe",rD="emulator/auth/iframe",sD={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},aD=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function oD(i){const e=i.config;be(e.authDomain,i,"auth-domain-config-required");const t=e.emulator?Ip(e,rD):`https://${i.config.authDomain}/${iD}`,s={apiKey:e.apiKey,appName:i.name,v:ia},o=aD.get(i.config.apiHost);o&&(s.eid=o);const u=i._getFrameworks();return u.length&&(s.fw=u.join(",")),`${t}?${hu(s).slice(1)}`}async function lD(i){const e=await tD(i),t=yi().gapi;return be(t,i,"internal-error"),e.open({where:document.body,url:oD(i),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:sD,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const h=gi(i,"network-request-failed"),m=yi().setTimeout(()=>{u(h)},nD.get());function p(){yi().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uD={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},cD=500,hD=600,fD="_blank",dD="http://localhost";class R_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function mD(i,e,t,s=cD,o=hD){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p=Object.assign(Object.assign({},uD),{width:s.toString(),height:o.toString(),top:u,left:h}),g=Zt().toLowerCase();t&&(m=WE(g)?fD:t),QE(g)&&(e=e||dD,p.scrollbars="yes");const E=Object.entries(p).reduce((S,[N,O])=>`${S}${N}=${O},`,"");if(XI(g)&&m!=="_self")return pD(e||"",m),new R_(null);const A=window.open(e||"",m,E);be(A,i,"popup-blocked");try{A.focus()}catch{}return new R_(A)}function pD(i,e){const t=document.createElement("a");t.href=i,t.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gD="__/auth/handler",yD="emulator/auth/handler",vD=encodeURIComponent("fac");async function x_(i,e,t,s,o,u){be(i.config.authDomain,i,"auth-domain-config-required"),be(i.config.apiKey,i,"invalid-api-key");const h={apiKey:i.config.apiKey,appName:i.name,authType:t,redirectUrl:s,v:ia,eventId:o};if(e instanceof aT){e.setDefaultLanguage(i.languageCode),h.providerId=e.providerId||"",XR(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,A]of Object.entries({}))h[E]=A}if(e instanceof du){const E=e.getScopes().filter(A=>A!=="");E.length>0&&(h.scopes=E.join(","))}i.tenantId&&(h.tid=i.tenantId);const m=h;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const p=await i._getAppCheckToken(),g=p?`#${vD}=${encodeURIComponent(p)}`:"";return`${_D(i)}?${hu(m).slice(1)}${g}`}function _D({config:i}){return i.emulator?Ip(i,yD):`https://${i.authDomain}/${gD}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xm="webStorageSupport";class ED{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=hT,this._completeRedirectFn=FC,this._overrideRedirectResult=BC}async _openPopup(e,t,s,o){var u;rr((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const h=await x_(e,t,s,Fm(),o);return mD(e,h,Mp())}async _openRedirect(e,t,s,o){await this._originValidation(e);const u=await x_(e,t,s,Fm(),o);return wC(u),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:u}=this.eventManagers[t];return o?Promise.resolve(o):(rr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await lD(e),s=new $C(e);return t.register("authEvent",o=>(be(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(xm,{type:xm},o=>{var u;const h=(u=o?.[0])===null||u===void 0?void 0:u[xm];h!==void 0&&t(!!h),ir(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=WC(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return nT()||XE()||Op()}}const TD=ED;var I_="@firebase/auth",C_="1.10.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bD{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){be(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wD(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function SD(i){Qn(new Un("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:h,authDomain:m}=s.options;be(h&&!h.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:h,authDomain:m,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:iT(i)},g=new nC(s,o,u,p);return lC(g,t),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),Qn(new Un("auth-internal",e=>{const t=Np(e.getProvider("auth").getImmediate());return(s=>new bD(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),un(I_,C_,wD(i)),un(I_,C_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AD=5*60,RD=lE("authIdTokenMaxAge")||AD;let D_=null;const xD=i=>async e=>{const t=e&&await e.getIdTokenResult(),s=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>RD)return;const o=t?.token;D_!==o&&(D_=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function ID(i=qh()){const e=ss(i,"auth");if(e.isInitialized())return e.getImmediate();const t=oC(i,{popupRedirectResolver:TD,persistence:[NC,EC,hT]}),s=lE("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const h=xD(u.toString());yC(t,h,()=>h(t.currentUser)),gC(t,m=>h(m))}}const o=sE("auth");return o&&uC(t,`http://${o}`),t}function CD(){var i,e;return(e=(i=document.getElementsByTagName("head"))===null||i===void 0?void 0:i[0])!==null&&e!==void 0?e:document}iC({loadJS(i){return new Promise((e,t)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=e,s.onerror=o=>{const u=gi("internal-error");u.customData=o,t(u)},s.type="text/javascript",s.charset="UTF-8",CD().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});SD("Browser");var O_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Qr,vT;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(M,R){function I(){}I.prototype=R.prototype,M.D=R.prototype,M.prototype=new I,M.prototype.constructor=M,M.C=function(k,U,z){for(var D=Array(arguments.length-2),nt=2;nt<arguments.length;nt++)D[nt-2]=arguments[nt];return R.prototype[U].apply(k,D)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,t),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(M,R,I){I||(I=0);var k=Array(16);if(typeof R=="string")for(var U=0;16>U;++U)k[U]=R.charCodeAt(I++)|R.charCodeAt(I++)<<8|R.charCodeAt(I++)<<16|R.charCodeAt(I++)<<24;else for(U=0;16>U;++U)k[U]=R[I++]|R[I++]<<8|R[I++]<<16|R[I++]<<24;R=M.g[0],I=M.g[1],U=M.g[2];var z=M.g[3],D=R+(z^I&(U^z))+k[0]+3614090360&4294967295;R=I+(D<<7&4294967295|D>>>25),D=z+(U^R&(I^U))+k[1]+3905402710&4294967295,z=R+(D<<12&4294967295|D>>>20),D=U+(I^z&(R^I))+k[2]+606105819&4294967295,U=z+(D<<17&4294967295|D>>>15),D=I+(R^U&(z^R))+k[3]+3250441966&4294967295,I=U+(D<<22&4294967295|D>>>10),D=R+(z^I&(U^z))+k[4]+4118548399&4294967295,R=I+(D<<7&4294967295|D>>>25),D=z+(U^R&(I^U))+k[5]+1200080426&4294967295,z=R+(D<<12&4294967295|D>>>20),D=U+(I^z&(R^I))+k[6]+2821735955&4294967295,U=z+(D<<17&4294967295|D>>>15),D=I+(R^U&(z^R))+k[7]+4249261313&4294967295,I=U+(D<<22&4294967295|D>>>10),D=R+(z^I&(U^z))+k[8]+1770035416&4294967295,R=I+(D<<7&4294967295|D>>>25),D=z+(U^R&(I^U))+k[9]+2336552879&4294967295,z=R+(D<<12&4294967295|D>>>20),D=U+(I^z&(R^I))+k[10]+4294925233&4294967295,U=z+(D<<17&4294967295|D>>>15),D=I+(R^U&(z^R))+k[11]+2304563134&4294967295,I=U+(D<<22&4294967295|D>>>10),D=R+(z^I&(U^z))+k[12]+1804603682&4294967295,R=I+(D<<7&4294967295|D>>>25),D=z+(U^R&(I^U))+k[13]+4254626195&4294967295,z=R+(D<<12&4294967295|D>>>20),D=U+(I^z&(R^I))+k[14]+2792965006&4294967295,U=z+(D<<17&4294967295|D>>>15),D=I+(R^U&(z^R))+k[15]+1236535329&4294967295,I=U+(D<<22&4294967295|D>>>10),D=R+(U^z&(I^U))+k[1]+4129170786&4294967295,R=I+(D<<5&4294967295|D>>>27),D=z+(I^U&(R^I))+k[6]+3225465664&4294967295,z=R+(D<<9&4294967295|D>>>23),D=U+(R^I&(z^R))+k[11]+643717713&4294967295,U=z+(D<<14&4294967295|D>>>18),D=I+(z^R&(U^z))+k[0]+3921069994&4294967295,I=U+(D<<20&4294967295|D>>>12),D=R+(U^z&(I^U))+k[5]+3593408605&4294967295,R=I+(D<<5&4294967295|D>>>27),D=z+(I^U&(R^I))+k[10]+38016083&4294967295,z=R+(D<<9&4294967295|D>>>23),D=U+(R^I&(z^R))+k[15]+3634488961&4294967295,U=z+(D<<14&4294967295|D>>>18),D=I+(z^R&(U^z))+k[4]+3889429448&4294967295,I=U+(D<<20&4294967295|D>>>12),D=R+(U^z&(I^U))+k[9]+568446438&4294967295,R=I+(D<<5&4294967295|D>>>27),D=z+(I^U&(R^I))+k[14]+3275163606&4294967295,z=R+(D<<9&4294967295|D>>>23),D=U+(R^I&(z^R))+k[3]+4107603335&4294967295,U=z+(D<<14&4294967295|D>>>18),D=I+(z^R&(U^z))+k[8]+1163531501&4294967295,I=U+(D<<20&4294967295|D>>>12),D=R+(U^z&(I^U))+k[13]+2850285829&4294967295,R=I+(D<<5&4294967295|D>>>27),D=z+(I^U&(R^I))+k[2]+4243563512&4294967295,z=R+(D<<9&4294967295|D>>>23),D=U+(R^I&(z^R))+k[7]+1735328473&4294967295,U=z+(D<<14&4294967295|D>>>18),D=I+(z^R&(U^z))+k[12]+2368359562&4294967295,I=U+(D<<20&4294967295|D>>>12),D=R+(I^U^z)+k[5]+4294588738&4294967295,R=I+(D<<4&4294967295|D>>>28),D=z+(R^I^U)+k[8]+2272392833&4294967295,z=R+(D<<11&4294967295|D>>>21),D=U+(z^R^I)+k[11]+1839030562&4294967295,U=z+(D<<16&4294967295|D>>>16),D=I+(U^z^R)+k[14]+4259657740&4294967295,I=U+(D<<23&4294967295|D>>>9),D=R+(I^U^z)+k[1]+2763975236&4294967295,R=I+(D<<4&4294967295|D>>>28),D=z+(R^I^U)+k[4]+1272893353&4294967295,z=R+(D<<11&4294967295|D>>>21),D=U+(z^R^I)+k[7]+4139469664&4294967295,U=z+(D<<16&4294967295|D>>>16),D=I+(U^z^R)+k[10]+3200236656&4294967295,I=U+(D<<23&4294967295|D>>>9),D=R+(I^U^z)+k[13]+681279174&4294967295,R=I+(D<<4&4294967295|D>>>28),D=z+(R^I^U)+k[0]+3936430074&4294967295,z=R+(D<<11&4294967295|D>>>21),D=U+(z^R^I)+k[3]+3572445317&4294967295,U=z+(D<<16&4294967295|D>>>16),D=I+(U^z^R)+k[6]+76029189&4294967295,I=U+(D<<23&4294967295|D>>>9),D=R+(I^U^z)+k[9]+3654602809&4294967295,R=I+(D<<4&4294967295|D>>>28),D=z+(R^I^U)+k[12]+3873151461&4294967295,z=R+(D<<11&4294967295|D>>>21),D=U+(z^R^I)+k[15]+530742520&4294967295,U=z+(D<<16&4294967295|D>>>16),D=I+(U^z^R)+k[2]+3299628645&4294967295,I=U+(D<<23&4294967295|D>>>9),D=R+(U^(I|~z))+k[0]+4096336452&4294967295,R=I+(D<<6&4294967295|D>>>26),D=z+(I^(R|~U))+k[7]+1126891415&4294967295,z=R+(D<<10&4294967295|D>>>22),D=U+(R^(z|~I))+k[14]+2878612391&4294967295,U=z+(D<<15&4294967295|D>>>17),D=I+(z^(U|~R))+k[5]+4237533241&4294967295,I=U+(D<<21&4294967295|D>>>11),D=R+(U^(I|~z))+k[12]+1700485571&4294967295,R=I+(D<<6&4294967295|D>>>26),D=z+(I^(R|~U))+k[3]+2399980690&4294967295,z=R+(D<<10&4294967295|D>>>22),D=U+(R^(z|~I))+k[10]+4293915773&4294967295,U=z+(D<<15&4294967295|D>>>17),D=I+(z^(U|~R))+k[1]+2240044497&4294967295,I=U+(D<<21&4294967295|D>>>11),D=R+(U^(I|~z))+k[8]+1873313359&4294967295,R=I+(D<<6&4294967295|D>>>26),D=z+(I^(R|~U))+k[15]+4264355552&4294967295,z=R+(D<<10&4294967295|D>>>22),D=U+(R^(z|~I))+k[6]+2734768916&4294967295,U=z+(D<<15&4294967295|D>>>17),D=I+(z^(U|~R))+k[13]+1309151649&4294967295,I=U+(D<<21&4294967295|D>>>11),D=R+(U^(I|~z))+k[4]+4149444226&4294967295,R=I+(D<<6&4294967295|D>>>26),D=z+(I^(R|~U))+k[11]+3174756917&4294967295,z=R+(D<<10&4294967295|D>>>22),D=U+(R^(z|~I))+k[2]+718787259&4294967295,U=z+(D<<15&4294967295|D>>>17),D=I+(z^(U|~R))+k[9]+3951481745&4294967295,M.g[0]=M.g[0]+R&4294967295,M.g[1]=M.g[1]+(U+(D<<21&4294967295|D>>>11))&4294967295,M.g[2]=M.g[2]+U&4294967295,M.g[3]=M.g[3]+z&4294967295}s.prototype.u=function(M,R){R===void 0&&(R=M.length);for(var I=R-this.blockSize,k=this.B,U=this.h,z=0;z<R;){if(U==0)for(;z<=I;)o(this,M,z),z+=this.blockSize;if(typeof M=="string"){for(;z<R;)if(k[U++]=M.charCodeAt(z++),U==this.blockSize){o(this,k),U=0;break}}else for(;z<R;)if(k[U++]=M[z++],U==this.blockSize){o(this,k),U=0;break}}this.h=U,this.o+=R},s.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var R=1;R<M.length-8;++R)M[R]=0;var I=8*this.o;for(R=M.length-8;R<M.length;++R)M[R]=I&255,I/=256;for(this.u(M),M=Array(16),R=I=0;4>R;++R)for(var k=0;32>k;k+=8)M[I++]=this.g[R]>>>k&255;return M};function u(M,R){var I=m;return Object.prototype.hasOwnProperty.call(I,M)?I[M]:I[M]=R(M)}function h(M,R){this.h=R;for(var I=[],k=!0,U=M.length-1;0<=U;U--){var z=M[U]|0;k&&z==R||(I[U]=z,k=!1)}this.g=I}var m={};function p(M){return-128<=M&&128>M?u(M,function(R){return new h([R|0],0>R?-1:0)}):new h([M|0],0>M?-1:0)}function g(M){if(isNaN(M)||!isFinite(M))return A;if(0>M)return L(g(-M));for(var R=[],I=1,k=0;M>=I;k++)R[k]=M/I|0,I*=4294967296;return new h(R,0)}function E(M,R){if(M.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(M.charAt(0)=="-")return L(E(M.substring(1),R));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=g(Math.pow(R,8)),k=A,U=0;U<M.length;U+=8){var z=Math.min(8,M.length-U),D=parseInt(M.substring(U,U+z),R);8>z?(z=g(Math.pow(R,z)),k=k.j(z).add(g(D))):(k=k.j(I),k=k.add(g(D)))}return k}var A=p(0),S=p(1),N=p(16777216);i=h.prototype,i.m=function(){if($(this))return-L(this).m();for(var M=0,R=1,I=0;I<this.g.length;I++){var k=this.i(I);M+=(0<=k?k:4294967296+k)*R,R*=4294967296}return M},i.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(O(this))return"0";if($(this))return"-"+L(this).toString(M);for(var R=g(Math.pow(M,6)),I=this,k="";;){var U=ue(I,R).g;I=V(I,U.j(R));var z=((0<I.g.length?I.g[0]:I.h)>>>0).toString(M);if(I=U,O(I))return z+k;for(;6>z.length;)z="0"+z;k=z+k}},i.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function O(M){if(M.h!=0)return!1;for(var R=0;R<M.g.length;R++)if(M.g[R]!=0)return!1;return!0}function $(M){return M.h==-1}i.l=function(M){return M=V(this,M),$(M)?-1:O(M)?0:1};function L(M){for(var R=M.g.length,I=[],k=0;k<R;k++)I[k]=~M.g[k];return new h(I,~M.h).add(S)}i.abs=function(){return $(this)?L(this):this},i.add=function(M){for(var R=Math.max(this.g.length,M.g.length),I=[],k=0,U=0;U<=R;U++){var z=k+(this.i(U)&65535)+(M.i(U)&65535),D=(z>>>16)+(this.i(U)>>>16)+(M.i(U)>>>16);k=D>>>16,z&=65535,D&=65535,I[U]=D<<16|z}return new h(I,I[I.length-1]&-2147483648?-1:0)};function V(M,R){return M.add(L(R))}i.j=function(M){if(O(this)||O(M))return A;if($(this))return $(M)?L(this).j(L(M)):L(L(this).j(M));if($(M))return L(this.j(L(M)));if(0>this.l(N)&&0>M.l(N))return g(this.m()*M.m());for(var R=this.g.length+M.g.length,I=[],k=0;k<2*R;k++)I[k]=0;for(k=0;k<this.g.length;k++)for(var U=0;U<M.g.length;U++){var z=this.i(k)>>>16,D=this.i(k)&65535,nt=M.i(U)>>>16,et=M.i(U)&65535;I[2*k+2*U]+=D*et,Q(I,2*k+2*U),I[2*k+2*U+1]+=z*et,Q(I,2*k+2*U+1),I[2*k+2*U+1]+=D*nt,Q(I,2*k+2*U+1),I[2*k+2*U+2]+=z*nt,Q(I,2*k+2*U+2)}for(k=0;k<R;k++)I[k]=I[2*k+1]<<16|I[2*k];for(k=R;k<2*R;k++)I[k]=0;return new h(I,0)};function Q(M,R){for(;(M[R]&65535)!=M[R];)M[R+1]+=M[R]>>>16,M[R]&=65535,R++}function ie(M,R){this.g=M,this.h=R}function ue(M,R){if(O(R))throw Error("division by zero");if(O(M))return new ie(A,A);if($(M))return R=ue(L(M),R),new ie(L(R.g),L(R.h));if($(R))return R=ue(M,L(R)),new ie(L(R.g),R.h);if(30<M.g.length){if($(M)||$(R))throw Error("slowDivide_ only works with positive integers.");for(var I=S,k=R;0>=k.l(M);)I=le(I),k=le(k);var U=de(I,1),z=de(k,1);for(k=de(k,2),I=de(I,2);!O(k);){var D=z.add(k);0>=D.l(M)&&(U=U.add(I),z=D),k=de(k,1),I=de(I,1)}return R=V(M,U.j(R)),new ie(U,R)}for(U=A;0<=M.l(R);){for(I=Math.max(1,Math.floor(M.m()/R.m())),k=Math.ceil(Math.log(I)/Math.LN2),k=48>=k?1:Math.pow(2,k-48),z=g(I),D=z.j(R);$(D)||0<D.l(M);)I-=k,z=g(I),D=z.j(R);O(z)&&(z=S),U=U.add(z),M=V(M,D)}return new ie(U,M)}i.A=function(M){return ue(this,M).h},i.and=function(M){for(var R=Math.max(this.g.length,M.g.length),I=[],k=0;k<R;k++)I[k]=this.i(k)&M.i(k);return new h(I,this.h&M.h)},i.or=function(M){for(var R=Math.max(this.g.length,M.g.length),I=[],k=0;k<R;k++)I[k]=this.i(k)|M.i(k);return new h(I,this.h|M.h)},i.xor=function(M){for(var R=Math.max(this.g.length,M.g.length),I=[],k=0;k<R;k++)I[k]=this.i(k)^M.i(k);return new h(I,this.h^M.h)};function le(M){for(var R=M.g.length+1,I=[],k=0;k<R;k++)I[k]=M.i(k)<<1|M.i(k-1)>>>31;return new h(I,M.h)}function de(M,R){var I=R>>5;R%=32;for(var k=M.g.length-I,U=[],z=0;z<k;z++)U[z]=0<R?M.i(z+I)>>>R|M.i(z+I+1)<<32-R:M.i(z+I);return new h(U,M.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,vT=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=g,h.fromString=E,Qr=h}).apply(typeof O_<"u"?O_:typeof self<"u"?self:typeof window<"u"?window:{});var $c=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var _T,jl,ET,sh,Km,TT,bT,wT;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,v){return c==Array.prototype||c==Object.prototype||(c[y]=v.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof $c=="object"&&$c];for(var y=0;y<c.length;++y){var v=c[y];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=t(this);function o(c,y){if(y)e:{var v=s;c=c.split(".");for(var w=0;w<c.length-1;w++){var B=c[w];if(!(B in v))break e;v=v[B]}c=c[c.length-1],w=v[c],y=y(w),y!=w&&y!=null&&e(v,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var v=0,w=!1,B={next:function(){if(!w&&v<c.length){var Y=v++;return{value:y(Y,c[Y]),done:!1}}return w=!0,{done:!0,value:void 0}}};return B[Symbol.iterator]=function(){return B},B}o("Array.prototype.values",function(c){return c||function(){return u(this,function(y,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},m=this||self;function p(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function g(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function E(c,y,v){return c.call.apply(c.bind,arguments)}function A(c,y,v){if(!c)throw Error();if(2<arguments.length){var w=Array.prototype.slice.call(arguments,2);return function(){var B=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(B,w),c.apply(y,B)}}return function(){return c.apply(y,arguments)}}function S(c,y,v){return S=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:A,S.apply(null,arguments)}function N(c,y){var v=Array.prototype.slice.call(arguments,1);return function(){var w=v.slice();return w.push.apply(w,arguments),c.apply(this,w)}}function O(c,y){function v(){}v.prototype=y.prototype,c.aa=y.prototype,c.prototype=new v,c.prototype.constructor=c,c.Qb=function(w,B,Y){for(var se=Array(arguments.length-2),Ve=2;Ve<arguments.length;Ve++)se[Ve-2]=arguments[Ve];return y.prototype[B].apply(w,se)}}function $(c){const y=c.length;if(0<y){const v=Array(y);for(let w=0;w<y;w++)v[w]=c[w];return v}return[]}function L(c,y){for(let v=1;v<arguments.length;v++){const w=arguments[v];if(p(w)){const B=c.length||0,Y=w.length||0;c.length=B+Y;for(let se=0;se<Y;se++)c[B+se]=w[se]}else c.push(w)}}class V{constructor(y,v){this.i=y,this.j=v,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function Q(c){return/^[\s\xa0]*$/.test(c)}function ie(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function ue(c){return ue[" "](c),c}ue[" "]=function(){};var le=ie().indexOf("Gecko")!=-1&&!(ie().toLowerCase().indexOf("webkit")!=-1&&ie().indexOf("Edge")==-1)&&!(ie().indexOf("Trident")!=-1||ie().indexOf("MSIE")!=-1)&&ie().indexOf("Edge")==-1;function de(c,y,v){for(const w in c)y.call(v,c[w],w,c)}function M(c,y){for(const v in c)y.call(void 0,c[v],v,c)}function R(c){const y={};for(const v in c)y[v]=c[v];return y}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(c,y){let v,w;for(let B=1;B<arguments.length;B++){w=arguments[B];for(v in w)c[v]=w[v];for(let Y=0;Y<I.length;Y++)v=I[Y],Object.prototype.hasOwnProperty.call(w,v)&&(c[v]=w[v])}}function U(c){var y=1;c=c.split(":");const v=[];for(;0<y&&c.length;)v.push(c.shift()),y--;return c.length&&v.push(c.join(":")),v}function z(c){m.setTimeout(()=>{throw c},0)}function D(){var c=je;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class nt{constructor(){this.h=this.g=null}add(y,v){const w=et.get();w.set(y,v),this.h?this.h.next=w:this.g=w,this.h=w}}var et=new V(()=>new X,c=>c.reset());class X{constructor(){this.next=this.g=this.h=null}set(y,v){this.h=y,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let oe,me=!1,je=new nt,x=()=>{const c=m.Promise.resolve(void 0);oe=()=>{c.then(Z)}};var Z=()=>{for(var c;c=D();){try{c.h.call(c.g)}catch(v){z(v)}var y=et;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}me=!1};function ae(){this.s=this.s,this.C=this.C}ae.prototype.s=!1,ae.prototype.ma=function(){this.s||(this.s=!0,this.N())},ae.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function re(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}re.prototype.h=function(){this.defaultPrevented=!0};var pe=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};m.addEventListener("test",v,y),m.removeEventListener("test",v,y)}catch{}return c}();function Ce(c,y){if(re.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var v=this.type=c.type,w=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(le){e:{try{ue(y.nodeName);var B=!0;break e}catch{}B=!1}B||(y=null)}}else v=="mouseover"?y=c.fromElement:v=="mouseout"&&(y=c.toElement);this.relatedTarget=y,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:we[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Ce.aa.h.call(this)}}O(Ce,re);var we={2:"touch",3:"pen",4:"mouse"};Ce.prototype.h=function(){Ce.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Dt="closure_listenable_"+(1e6*Math.random()|0),Ze=0;function Wn(c,y,v,w,B){this.listener=c,this.proxy=null,this.src=y,this.type=v,this.capture=!!w,this.ha=B,this.key=++Ze,this.da=this.fa=!1}function lr(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function wi(c){this.src=c,this.g={},this.h=0}wi.prototype.add=function(c,y,v,w,B){var Y=c.toString();c=this.g[Y],c||(c=this.g[Y]=[],this.h++);var se=os(c,y,w,B);return-1<se?(y=c[se],v||(y.fa=!1)):(y=new Wn(y,this.src,Y,!!w,B),y.fa=v,c.push(y)),y};function as(c,y){var v=y.type;if(v in c.g){var w=c.g[v],B=Array.prototype.indexOf.call(w,y,void 0),Y;(Y=0<=B)&&Array.prototype.splice.call(w,B,1),Y&&(lr(y),c.g[v].length==0&&(delete c.g[v],c.h--))}}function os(c,y,v,w){for(var B=0;B<c.length;++B){var Y=c[B];if(!Y.da&&Y.listener==y&&Y.capture==!!v&&Y.ha==w)return B}return-1}var ls="closure_lm_"+(1e6*Math.random()|0),Ro={};function Eu(c,y,v,w,B){if(Array.isArray(y)){for(var Y=0;Y<y.length;Y++)Eu(c,y[Y],v,w,B);return null}return v=Tu(v),c&&c[Dt]?c.K(y,v,g(w)?!!w.capture:!1,B):wn(c,y,v,!1,w,B)}function wn(c,y,v,w,B,Y){if(!y)throw Error("Invalid event type");var se=g(B)?!!B.capture:!!B,Ve=ca(c);if(Ve||(c[ls]=Ve=new wi(c)),v=Ve.add(y,v,w,se,Y),v.proxy)return v;if(w=cf(),v.proxy=w,w.src=c,w.listener=v,c.addEventListener)pe||(B=se),B===void 0&&(B=!1),c.addEventListener(y.toString(),w,B);else if(c.attachEvent)c.attachEvent(us(y.toString()),w);else if(c.addListener&&c.removeListener)c.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return v}function cf(){function c(v){return y.call(c.src,c.listener,v)}const y=hf;return c}function xo(c,y,v,w,B){if(Array.isArray(y))for(var Y=0;Y<y.length;Y++)xo(c,y[Y],v,w,B);else w=g(w)?!!w.capture:!!w,v=Tu(v),c&&c[Dt]?(c=c.i,y=String(y).toString(),y in c.g&&(Y=c.g[y],v=os(Y,v,w,B),-1<v&&(lr(Y[v]),Array.prototype.splice.call(Y,v,1),Y.length==0&&(delete c.g[y],c.h--)))):c&&(c=ca(c))&&(y=c.g[y.toString()],c=-1,y&&(c=os(y,v,w,B)),(v=-1<c?y[c]:null)&&ua(v))}function ua(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[Dt])as(y.i,c);else{var v=c.type,w=c.proxy;y.removeEventListener?y.removeEventListener(v,w,c.capture):y.detachEvent?y.detachEvent(us(v),w):y.addListener&&y.removeListener&&y.removeListener(w),(v=ca(y))?(as(v,c),v.h==0&&(v.src=null,y[ls]=null)):lr(c)}}}function us(c){return c in Ro?Ro[c]:Ro[c]="on"+c}function hf(c,y){if(c.da)c=!0;else{y=new Ce(y,this);var v=c.listener,w=c.ha||c.src;c.fa&&ua(c),c=v.call(w,y)}return c}function ca(c){return c=c[ls],c instanceof wi?c:null}var Io="__closure_events_fn_"+(1e9*Math.random()>>>0);function Tu(c){return typeof c=="function"?c:(c[Io]||(c[Io]=function(y){return c.handleEvent(y)}),c[Io])}function lt(){ae.call(this),this.i=new wi(this),this.M=this,this.F=null}O(lt,ae),lt.prototype[Dt]=!0,lt.prototype.removeEventListener=function(c,y,v,w){xo(this,c,y,v,w)};function Fe(c,y){var v,w=c.F;if(w)for(v=[];w;w=w.F)v.push(w);if(c=c.M,w=y.type||y,typeof y=="string")y=new re(y,c);else if(y instanceof re)y.target=y.target||c;else{var B=y;y=new re(w,c),k(y,B)}if(B=!0,v)for(var Y=v.length-1;0<=Y;Y--){var se=y.g=v[Y];B=hn(se,w,!0,y)&&B}if(se=y.g=c,B=hn(se,w,!0,y)&&B,B=hn(se,w,!1,y)&&B,v)for(Y=0;Y<v.length;Y++)se=y.g=v[Y],B=hn(se,w,!1,y)&&B}lt.prototype.N=function(){if(lt.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var v=c.g[y],w=0;w<v.length;w++)lr(v[w]);delete c.g[y],c.h--}}this.F=null},lt.prototype.K=function(c,y,v,w){return this.i.add(String(c),y,!1,v,w)},lt.prototype.L=function(c,y,v,w){return this.i.add(String(c),y,!0,v,w)};function hn(c,y,v,w){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var B=!0,Y=0;Y<y.length;++Y){var se=y[Y];if(se&&!se.da&&se.capture==v){var Ve=se.listener,St=se.ha||se.src;se.fa&&as(c.i,se),B=Ve.call(St,w)!==!1&&B}}return B&&!w.defaultPrevented}function $t(c,y,v){if(typeof c=="function")v&&(c=S(c,v));else if(c&&typeof c.handleEvent=="function")c=S(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:m.setTimeout(c,y||0)}function bu(c){c.g=$t(()=>{c.g=null,c.i&&(c.i=!1,bu(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class ff extends ae{constructor(y,v){super(),this.m=y,this.l=v,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:bu(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function cs(c){ae.call(this),this.h=c,this.g={}}O(cs,ae);var hs=[];function fs(c){de(c.g,function(y,v){this.g.hasOwnProperty(v)&&ua(y)},c),c.g={}}cs.prototype.N=function(){cs.aa.N.call(this),fs(this)},cs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var zn=m.JSON.stringify,ha=m.JSON.parse,ds=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function Co(){}Co.prototype.h=null;function Do(c){return c.h||(c.h=c.i())}function Oo(){}var Si={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ai(){re.call(this,"d")}O(Ai,re);function No(){re.call(this,"c")}O(No,re);var Zn={},ko=null;function ur(){return ko=ko||new lt}Zn.La="serverreachability";function fa(c){re.call(this,Zn.La,c)}O(fa,re);function cr(c){const y=ur();Fe(y,new fa(y))}Zn.STAT_EVENT="statevent";function wu(c,y){re.call(this,Zn.STAT_EVENT,c),this.stat=y}O(wu,re);function it(c){const y=ur();Fe(y,new wu(y,c))}Zn.Ma="timingevent";function wt(c,y){re.call(this,Zn.Ma,c),this.size=y}O(wt,re);function yt(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},y)}function Sn(){this.g=!0}Sn.prototype.xa=function(){this.g=!1};function Mo(c,y,v,w,B,Y){c.info(function(){if(c.g)if(Y)for(var se="",Ve=Y.split("&"),St=0;St<Ve.length;St++){var Pe=Ve[St].split("=");if(1<Pe.length){var Nt=Pe[0];Pe=Pe[1];var At=Nt.split("_");se=2<=At.length&&At[1]=="type"?se+(Nt+"="+Pe+"&"):se+(Nt+"=redacted&")}}else se=null;else se=Y;return"XMLHTTP REQ ("+w+") [attempt "+B+"]: "+y+`
`+v+`
`+se})}function df(c,y,v,w,B,Y,se){c.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+B+"]: "+y+`
`+v+`
`+Y+" "+se})}function hr(c,y,v,w){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+ms(c,v)+(w?" "+w:"")})}function Su(c,y){c.info(function(){return"TIMEOUT: "+y})}Sn.prototype.info=function(){};function ms(c,y){if(!c.g)return y;if(!y)return null;try{var v=JSON.parse(y);if(v){for(c=0;c<v.length;c++)if(Array.isArray(v[c])){var w=v[c];if(!(2>w.length)){var B=w[1];if(Array.isArray(B)&&!(1>B.length)){var Y=B[0];if(Y!="noop"&&Y!="stop"&&Y!="close")for(var se=1;se<B.length;se++)B[se]=""}}}}return zn(v)}catch{return y}}var fr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ri={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Jn;function ei(){}O(ei,Co),ei.prototype.g=function(){return new XMLHttpRequest},ei.prototype.i=function(){return{}},Jn=new ei;function Jt(c,y,v,w){this.j=c,this.i=y,this.l=v,this.R=w||1,this.U=new cs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new dt}function dt(){this.i=null,this.g="",this.h=!1}var Vo={},da={};function Bn(c,y,v){c.L=1,c.v=_s(fn(y)),c.m=v,c.P=!0,xi(c,null)}function xi(c,y){c.F=Date.now(),ps(c),c.A=fn(c.v);var v=c.A,w=c.R;Array.isArray(w)||(w=[String(w)]),Bo(v.i,"t",w),c.C=0,v=c.j.J,c.h=new dt,c.g=zu(c.j,v?y:null,!c.m),0<c.O&&(c.M=new ff(S(c.Y,c,c.g),c.O)),y=c.U,v=c.g,w=c.ca;var B="readystatechange";Array.isArray(B)||(B&&(hs[0]=B.toString()),B=hs);for(var Y=0;Y<B.length;Y++){var se=Eu(v,B[Y],w||y.handleEvent,!1,y.h||y);if(!se)break;y.g[se.key]=se}y=c.H?R(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),cr(),Mo(c.i,c.u,c.A,c.l,c.R,c.m)}Jt.prototype.ca=function(c){c=c.target;const y=this.M;y&&In(c)==3?y.j():this.Y(c)},Jt.prototype.Y=function(c){try{if(c==this.g)e:{const At=In(this.g);var y=this.g.Ba();const Vi=this.g.Z();if(!(3>At)&&(At!=3||this.g&&(this.h.h||this.g.oa()||Nu(this.g)))){this.J||At!=4||y==7||(y==8||0>=Vi?cr(3):cr(2)),dr(this);var v=this.g.Z();this.X=v;t:if(Au(this)){var w=Nu(this.g);c="";var B=w.length,Y=In(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ut(this),ti(this);var se="";break t}this.h.i=new m.TextDecoder}for(y=0;y<B;y++)this.h.h=!0,c+=this.h.i.decode(w[y],{stream:!(Y&&y==B-1)});w.length=0,this.h.g+=c,this.C=0,se=this.h.g}else se=this.g.oa();if(this.o=v==200,df(this.i,this.u,this.A,this.l,this.R,At,v),this.o){if(this.T&&!this.K){t:{if(this.g){var Ve,St=this.g;if((Ve=St.g?St.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Q(Ve)){var Pe=Ve;break t}}Pe=null}if(v=Pe)hr(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,gs(this,v);else{this.o=!1,this.s=3,it(12),Ut(this),ti(this);break e}}if(this.P){v=!0;let jt;for(;!this.J&&this.C<se.length;)if(jt=Ru(this,se),jt==da){At==4&&(this.s=4,it(14),v=!1),hr(this.i,this.l,null,"[Incomplete Response]");break}else if(jt==Vo){this.s=4,it(15),hr(this.i,this.l,se,"[Invalid Chunk]"),v=!1;break}else hr(this.i,this.l,jt,null),gs(this,jt);if(Au(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),At!=4||se.length!=0||this.h.h||(this.s=1,it(16),v=!1),this.o=this.o&&v,!v)hr(this.i,this.l,se,"[Invalid Chunked Response]"),Ut(this),ti(this);else if(0<se.length&&!this.W){this.W=!0;var Nt=this.j;Nt.g==this&&Nt.ba&&!Nt.M&&(Nt.j.info("Great, no buffering proxy detected. Bytes received: "+se.length),xs(Nt),Nt.M=!0,it(11))}}else hr(this.i,this.l,se,null),gs(this,se);At==4&&Ut(this),this.o&&!this.J&&(At==4?Lu(this.j,this):(this.o=!1,ps(this)))}else vf(this.g),v==400&&0<se.indexOf("Unknown SID")?(this.s=3,it(12)):(this.s=0,it(13)),Ut(this),ti(this)}}}catch{}finally{}};function Au(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Ru(c,y){var v=c.C,w=y.indexOf(`
`,v);return w==-1?da:(v=Number(y.substring(v,w)),isNaN(v)?Vo:(w+=1,w+v>y.length?da:(y=y.slice(w,w+v),c.C=w+v,y)))}Jt.prototype.cancel=function(){this.J=!0,Ut(this)};function ps(c){c.S=Date.now()+c.I,xu(c,c.I)}function xu(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=yt(S(c.ba,c),y)}function dr(c){c.B&&(m.clearTimeout(c.B),c.B=null)}Jt.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Su(this.i,this.A),this.L!=2&&(cr(),it(17)),Ut(this),this.s=2,ti(this)):xu(this,this.S-c)};function ti(c){c.j.G==0||c.J||Lu(c.j,c)}function Ut(c){dr(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,fs(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function gs(c,y){try{var v=c.j;if(v.G!=0&&(v.g==c||Po(v.h,c))){if(!c.K&&Po(v.h,c)&&v.G==3){try{var w=v.Da.g.parse(y)}catch{w=null}if(Array.isArray(w)&&w.length==3){var B=w;if(B[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<c.F)Aa(v),wa(v);else break e;$o(v),it(18)}}else v.za=B[1],0<v.za-v.T&&37500>B[2]&&v.F&&v.v==0&&!v.C&&(v.C=yt(S(v.Za,v),6e3));if(1>=pa(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else Mi(v,11)}else if((c.K||v.g==c)&&Aa(v),!Q(y))for(B=v.Da.g.parse(y),y=0;y<B.length;y++){let Pe=B[y];if(v.T=Pe[0],Pe=Pe[1],v.G==2)if(Pe[0]=="c"){v.K=Pe[1],v.ia=Pe[2];const Nt=Pe[3];Nt!=null&&(v.la=Nt,v.j.info("VER="+v.la));const At=Pe[4];At!=null&&(v.Aa=At,v.j.info("SVER="+v.Aa));const Vi=Pe[5];Vi!=null&&typeof Vi=="number"&&0<Vi&&(w=1.5*Vi,v.L=w,v.j.info("backChannelRequestTimeoutMs_="+w)),w=v;const jt=c.g;if(jt){const li=jt.g?jt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(li){var Y=w.h;Y.g||li.indexOf("spdy")==-1&&li.indexOf("quic")==-1&&li.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(ga(Y,Y.h),Y.h=null))}if(w.D){const Yo=jt.g?jt.g.getResponseHeader("X-HTTP-Session-Id"):null;Yo&&(w.ya=Yo,Ke(w.I,w.D,Yo))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-c.F,v.j.info("Handshake RTT: "+v.R+"ms")),w=v;var se=c;if(w.qa=ju(w,w.J?w.ia:null,w.W),se.K){en(w.h,se);var Ve=se,St=w.L;St&&(Ve.I=St),Ve.B&&(dr(Ve),ps(Ve)),w.g=se}else Vu(w);0<v.i.length&&Sa(v)}else Pe[0]!="stop"&&Pe[0]!="close"||Mi(v,7);else v.G==3&&(Pe[0]=="stop"||Pe[0]=="close"?Pe[0]=="stop"?Mi(v,7):Fo(v):Pe[0]!="noop"&&v.l&&v.l.ta(Pe),v.v=0)}}cr(4)}catch{}}var Iu=class{constructor(c,y){this.g=c,this.map=y}};function Ii(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ma(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function pa(c){return c.h?1:c.g?c.g.size:0}function Po(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function ga(c,y){c.g?c.g.add(y):c.h=y}function en(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Ii.prototype.cancel=function(){if(this.i=Lo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Lo(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const v of c.g.values())y=y.concat(v.D);return y}return $(c.i)}function mf(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var y=[],v=c.length,w=0;w<v;w++)y.push(c[w]);return y}y=[],v=0;for(w in c)y[v++]=c[w];return y}function ya(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var y=[];c=c.length;for(var v=0;v<c;v++)y.push(v);return y}y=[],v=0;for(const w in c)y[v++]=w;return y}}}function Uo(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var v=ya(c),w=mf(c),B=w.length,Y=0;Y<B;Y++)y.call(void 0,w[Y],v&&v[Y],c)}var ys=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function pf(c,y){if(c){c=c.split("&");for(var v=0;v<c.length;v++){var w=c[v].indexOf("="),B=null;if(0<=w){var Y=c[v].substring(0,w);B=c[v].substring(w+1)}else Y=c[v];y(Y,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function vt(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof vt){this.h=c.h,vs(this,c.j),this.o=c.o,this.g=c.g,mr(this,c.s),this.l=c.l;var y=c.i,v=new Di;v.i=y.i,y.g&&(v.g=new Map(y.g),v.h=y.h),Ci(this,v),this.m=c.m}else c&&(y=String(c).match(ys))?(this.h=!1,vs(this,y[1]||"",!0),this.o=An(y[2]||""),this.g=An(y[3]||"",!0),mr(this,y[4]),this.l=An(y[5]||"",!0),Ci(this,y[6]||"",!0),this.m=An(y[7]||"")):(this.h=!1,this.i=new Di(null,this.h))}vt.prototype.toString=function(){var c=[],y=this.j;y&&c.push(Es(y,jo,!0),":");var v=this.g;return(v||y=="file")&&(c.push("//"),(y=this.o)&&c.push(Es(y,jo,!0),"@"),c.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&c.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(Es(v,v.charAt(0)=="/"?gf:zo,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",Es(v,va)),c.join("")};function fn(c){return new vt(c)}function vs(c,y,v){c.j=v?An(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function mr(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function Ci(c,y,v){y instanceof Di?(c.i=y,Du(c.i,c.h)):(v||(y=Es(y,yf)),c.i=new Di(y,c.h))}function Ke(c,y,v){c.i.set(y,v)}function _s(c){return Ke(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function An(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Es(c,y,v){return typeof c=="string"?(c=encodeURI(c).replace(y,Cu),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Cu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var jo=/[#\/\?@]/g,zo=/[#\?:]/g,gf=/[#\?]/g,yf=/[#\?@]/g,va=/#/g;function Di(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function Rn(c){c.g||(c.g=new Map,c.h=0,c.i&&pf(c.i,function(y,v){c.add(decodeURIComponent(y.replace(/\+/g," ")),v)}))}i=Di.prototype,i.add=function(c,y){Rn(this),this.i=null,c=ni(this,c);var v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(y),this.h+=1,this};function Oi(c,y){Rn(c),y=ni(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Ni(c,y){return Rn(c),y=ni(c,y),c.g.has(y)}i.forEach=function(c,y){Rn(this),this.g.forEach(function(v,w){v.forEach(function(B){c.call(y,B,w,this)},this)},this)},i.na=function(){Rn(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),v=[];for(let w=0;w<y.length;w++){const B=c[w];for(let Y=0;Y<B.length;Y++)v.push(y[w])}return v},i.V=function(c){Rn(this);let y=[];if(typeof c=="string")Ni(this,c)&&(y=y.concat(this.g.get(ni(this,c))));else{c=Array.from(this.g.values());for(let v=0;v<c.length;v++)y=y.concat(c[v])}return y},i.set=function(c,y){return Rn(this),this.i=null,c=ni(this,c),Ni(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},i.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function Bo(c,y,v){Oi(c,y),0<v.length&&(c.i=null,c.g.set(ni(c,y),$(v)),c.h+=v.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var v=0;v<y.length;v++){var w=y[v];const Y=encodeURIComponent(String(w)),se=this.V(w);for(w=0;w<se.length;w++){var B=Y;se[w]!==""&&(B+="="+encodeURIComponent(String(se[w]))),c.push(B)}}return this.i=c.join("&")};function ni(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Du(c,y){y&&!c.j&&(Rn(c),c.i=null,c.g.forEach(function(v,w){var B=w.toLowerCase();w!=B&&(Oi(this,w),Bo(this,B,v))},c)),c.j=y}function Ts(c,y){const v=new Sn;if(m.Image){const w=new Image;w.onload=N(xn,v,"TestLoadImage: loaded",!0,y,w),w.onerror=N(xn,v,"TestLoadImage: error",!1,y,w),w.onabort=N(xn,v,"TestLoadImage: abort",!1,y,w),w.ontimeout=N(xn,v,"TestLoadImage: timeout",!1,y,w),m.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=c}else y(!1)}function qn(c,y){const v=new Sn,w=new AbortController,B=setTimeout(()=>{w.abort(),xn(v,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:w.signal}).then(Y=>{clearTimeout(B),Y.ok?xn(v,"TestPingServer: ok",!0,y):xn(v,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(B),xn(v,"TestPingServer: error",!1,y)})}function xn(c,y,v,w,B){try{B&&(B.onload=null,B.onerror=null,B.onabort=null,B.ontimeout=null),w(v)}catch{}}function bs(){this.g=new ds}function ii(c,y,v){const w=v||"";try{Uo(c,function(B,Y){let se=B;g(B)&&(se=zn(B)),y.push(w+Y+"="+encodeURIComponent(se))})}catch(B){throw y.push(w+"type="+encodeURIComponent("_badmap")),B}}function pr(c){this.l=c.Ub||null,this.j=c.eb||!1}O(pr,Co),pr.prototype.g=function(){return new ki(this.l,this.j)},pr.prototype.i=function(c){return function(){return c}}({});function ki(c,y){lt.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}O(ki,lt),i=ki.prototype,i.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,si(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||m).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ri(this)),this.readyState=0},i.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,si(this)),this.g&&(this.readyState=3,si(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;qo(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function qo(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}i.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?ri(this):si(this),this.readyState==3&&qo(this)}},i.Ra=function(c){this.g&&(this.response=this.responseText=c,ri(this))},i.Qa=function(c){this.g&&(this.response=c,ri(this))},i.ga=function(){this.g&&ri(this)};function ri(c){c.readyState=4,c.l=null,c.j=null,c.v=null,si(c)}i.setRequestHeader=function(c,y){this.u.append(c,y)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var v=y.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=y.next();return c.join(`\r
`)};function si(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(ki.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Ho(c){let y="";return de(c,function(v,w){y+=w,y+=":",y+=v,y+=`\r
`}),y}function Ot(c,y,v){e:{for(w in v){var w=!1;break e}w=!0}w||(v=Ho(v),typeof c=="string"?v!=null&&encodeURIComponent(String(v)):Ke(c,y,v))}function qe(c){lt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}O(qe,lt);var _a=/^https?$/i,ws=["POST","PUT"];i=qe.prototype,i.Ha=function(c){this.J=c},i.ea=function(c,y,v,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Jn.g(),this.v=this.o?Do(this.o):Do(Jn),this.g.onreadystatechange=S(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(Y){Ou(this,Y);return}if(c=v||"",v=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var B in w)v.set(B,w[B]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const Y of w.keys())v.set(Y,w.get(Y));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(v.keys()).find(Y=>Y.toLowerCase()=="content-type"),B=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(ws,y,void 0))||w||B||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,se]of v)this.g.setRequestHeader(Y,se);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ss(this),this.u=!0,this.g.send(c),this.u=!1}catch(Y){Ou(this,Y)}};function Ou(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,Ea(c),ai(c)}function Ea(c){c.A||(c.A=!0,Fe(c,"complete"),Fe(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Fe(this,"complete"),Fe(this,"abort"),ai(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ai(this,!0)),qe.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?Ta(this):this.bb())},i.bb=function(){Ta(this)};function Ta(c){if(c.h&&typeof h<"u"&&(!c.v[1]||In(c)!=4||c.Z()!=2)){if(c.u&&In(c)==4)$t(c.Ea,0,c);else if(Fe(c,"readystatechange"),In(c)==4){c.h=!1;try{const se=c.Z();e:switch(se){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var v;if(!(v=y)){var w;if(w=se===0){var B=String(c.D).match(ys)[1]||null;!B&&m.self&&m.self.location&&(B=m.self.location.protocol.slice(0,-1)),w=!_a.test(B?B.toLowerCase():"")}v=w}if(v)Fe(c,"complete"),Fe(c,"success");else{c.m=6;try{var Y=2<In(c)?c.g.statusText:""}catch{Y=""}c.l=Y+" ["+c.Z()+"]",Ea(c)}}finally{ai(c)}}}}function ai(c,y){if(c.g){Ss(c);const v=c.g,w=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||Fe(c,"ready");try{v.onreadystatechange=w}catch{}}}function Ss(c){c.I&&(m.clearTimeout(c.I),c.I=null)}i.isActive=function(){return!!this.g};function In(c){return c.g?c.g.readyState:0}i.Z=function(){try{return 2<In(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),ha(y)}};function Nu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function vf(c){const y={};c=(c.g&&2<=In(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<c.length;w++){if(Q(c[w]))continue;var v=U(c[w]);const B=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const Y=y[B]||[];y[B]=Y,Y.push(v)}M(y,function(w){return w.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function As(c,y,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||y}function ba(c){this.Aa=0,this.i=[],this.j=new Sn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=As("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=As("baseRetryDelayMs",5e3,c),this.cb=As("retryDelaySeedMs",1e4,c),this.Wa=As("forwardChannelMaxRetries",2,c),this.wa=As("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Ii(c&&c.concurrentRequestLimit),this.Da=new bs,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=ba.prototype,i.la=8,i.G=1,i.connect=function(c,y,v,w){it(0),this.W=c,this.H=y||{},v&&w!==void 0&&(this.H.OSID=v,this.H.OAID=w),this.F=this.X,this.I=ju(this,null,this.W),Sa(this)};function Fo(c){if(ku(c),c.G==3){var y=c.U++,v=fn(c.I);if(Ke(v,"SID",c.K),Ke(v,"RID",y),Ke(v,"TYPE","terminate"),Rs(c,v),y=new Jt(c,c.j,y),y.L=2,y.v=_s(fn(v)),v=!1,m.navigator&&m.navigator.sendBeacon)try{v=m.navigator.sendBeacon(y.v.toString(),"")}catch{}!v&&m.Image&&(new Image().src=y.v,v=!0),v||(y.g=zu(y.j,null),y.g.ea(y.v)),y.F=Date.now(),ps(y)}Uu(c)}function wa(c){c.g&&(xs(c),c.g.cancel(),c.g=null)}function ku(c){wa(c),c.u&&(m.clearTimeout(c.u),c.u=null),Aa(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function Sa(c){if(!ma(c.h)&&!c.s){c.s=!0;var y=c.Ga;oe||x(),me||(oe(),me=!0),je.add(y,c),c.B=0}}function _f(c,y){return pa(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=yt(S(c.Ga,c,y),Ko(c,c.B)),c.B++,!0)}i.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const B=new Jt(this,this.j,c);let Y=this.o;if(this.S&&(Y?(Y=R(Y),k(Y,this.S)):Y=this.S),this.m!==null||this.O||(B.H=Y,Y=null),this.P)e:{for(var y=0,v=0;v<this.i.length;v++){t:{var w=this.i[v];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(y+=w,4096<y){y=v;break e}if(y===4096||v===this.i.length-1){y=v+1;break e}}y=1e3}else y=1e3;y=Mu(this,B,y),v=fn(this.I),Ke(v,"RID",c),Ke(v,"CVER",22),this.D&&Ke(v,"X-HTTP-Session-Id",this.D),Rs(this,v),Y&&(this.O?y="headers="+encodeURIComponent(String(Ho(Y)))+"&"+y:this.m&&Ot(v,this.m,Y)),ga(this.h,B),this.Ua&&Ke(v,"TYPE","init"),this.P?(Ke(v,"$req",y),Ke(v,"SID","null"),B.T=!0,Bn(B,v,null)):Bn(B,v,y),this.G=2}}else this.G==3&&(c?Go(this,c):this.i.length==0||ma(this.h)||Go(this))};function Go(c,y){var v;y?v=y.l:v=c.U++;const w=fn(c.I);Ke(w,"SID",c.K),Ke(w,"RID",v),Ke(w,"AID",c.T),Rs(c,w),c.m&&c.o&&Ot(w,c.m,c.o),v=new Jt(c,c.j,v,c.B+1),c.m===null&&(v.H=c.o),y&&(c.i=y.D.concat(c.i)),y=Mu(c,v,1e3),v.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),ga(c.h,v),Bn(v,w,y)}function Rs(c,y){c.H&&de(c.H,function(v,w){Ke(y,w,v)}),c.l&&Uo({},function(v,w){Ke(y,w,v)})}function Mu(c,y,v){v=Math.min(c.i.length,v);var w=c.l?S(c.l.Na,c.l,c):null;e:{var B=c.i;let Y=-1;for(;;){const se=["count="+v];Y==-1?0<v?(Y=B[0].g,se.push("ofs="+Y)):Y=0:se.push("ofs="+Y);let Ve=!0;for(let St=0;St<v;St++){let Pe=B[St].g;const Nt=B[St].map;if(Pe-=Y,0>Pe)Y=Math.max(0,B[St].g-100),Ve=!1;else try{ii(Nt,se,"req"+Pe+"_")}catch{w&&w(Nt)}}if(Ve){w=se.join("&");break e}}}return c=c.i.splice(0,v),y.D=c,w}function Vu(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;oe||x(),me||(oe(),me=!0),je.add(y,c),c.v=0}}function $o(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=yt(S(c.Fa,c),Ko(c,c.v)),c.v++,!0)}i.Fa=function(){if(this.u=null,Pu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=yt(S(this.ab,this),c)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,it(10),wa(this),Pu(this))};function xs(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function Pu(c){c.g=new Jt(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=fn(c.qa);Ke(y,"RID","rpc"),Ke(y,"SID",c.K),Ke(y,"AID",c.T),Ke(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&Ke(y,"TO",c.ja),Ke(y,"TYPE","xmlhttp"),Rs(c,y),c.m&&c.o&&Ot(y,c.m,c.o),c.L&&(c.g.I=c.L);var v=c.g;c=c.ia,v.L=1,v.v=_s(fn(y)),v.m=null,v.P=!0,xi(v,c)}i.Za=function(){this.C!=null&&(this.C=null,wa(this),$o(this),it(19))};function Aa(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function Lu(c,y){var v=null;if(c.g==y){Aa(c),xs(c),c.g=null;var w=2}else if(Po(c.h,y))v=y.D,en(c.h,y),w=1;else return;if(c.G!=0){if(y.o)if(w==1){v=y.m?y.m.length:0,y=Date.now()-y.F;var B=c.B;w=ur(),Fe(w,new wt(w,v)),Sa(c)}else Vu(c);else if(B=y.s,B==3||B==0&&0<y.X||!(w==1&&_f(c,y)||w==2&&$o(c)))switch(v&&0<v.length&&(y=c.h,y.i=y.i.concat(v)),B){case 1:Mi(c,5);break;case 4:Mi(c,10);break;case 3:Mi(c,6);break;default:Mi(c,2)}}}function Ko(c,y){let v=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(v*=2),v*y}function Mi(c,y){if(c.j.info("Error code "+y),y==2){var v=S(c.fb,c),w=c.Xa;const B=!w;w=new vt(w||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||vs(w,"https"),_s(w),B?Ts(w.toString(),v):qn(w.toString(),v)}else it(2);c.G=0,c.l&&c.l.sa(y),Uu(c),ku(c)}i.fb=function(c){c?(this.j.info("Successfully pinged google.com"),it(2)):(this.j.info("Failed to ping google.com"),it(1))};function Uu(c){if(c.G=0,c.ka=[],c.l){const y=Lo(c.h);(y.length!=0||c.i.length!=0)&&(L(c.ka,y),L(c.ka,c.i),c.h.i.length=0,$(c.i),c.i.length=0),c.l.ra()}}function ju(c,y,v){var w=v instanceof vt?fn(v):new vt(v);if(w.g!="")y&&(w.g=y+"."+w.g),mr(w,w.s);else{var B=m.location;w=B.protocol,y=y?y+"."+B.hostname:B.hostname,B=+B.port;var Y=new vt(null);w&&vs(Y,w),y&&(Y.g=y),B&&mr(Y,B),v&&(Y.l=v),w=Y}return v=c.D,y=c.ya,v&&y&&Ke(w,v,y),Ke(w,"VER",c.la),Rs(c,w),w}function zu(c,y,v){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new qe(new pr({eb:v})):new qe(c.pa),y.Ha(c.J),y}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function Bu(){}i=Bu.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function Ra(){}Ra.prototype.g=function(c,y){return new tn(c,y)};function tn(c,y){lt.call(this),this.g=new ba(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!Q(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!Q(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new oi(this)}O(tn,lt),tn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},tn.prototype.close=function(){Fo(this.g)},tn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.u&&(v={},v.__data__=zn(c),c=v);y.i.push(new Iu(y.Ya++,c)),y.G==3&&Sa(y)},tn.prototype.N=function(){this.g.l=null,delete this.j,Fo(this.g),delete this.g,tn.aa.N.call(this)};function qu(c){Ai.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const v in y){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}O(qu,Ai);function Hu(){No.call(this),this.status=1}O(Hu,No);function oi(c){this.g=c}O(oi,Bu),oi.prototype.ua=function(){Fe(this.g,"a")},oi.prototype.ta=function(c){Fe(this.g,new qu(c))},oi.prototype.sa=function(c){Fe(this.g,new Hu)},oi.prototype.ra=function(){Fe(this.g,"b")},Ra.prototype.createWebChannel=Ra.prototype.g,tn.prototype.send=tn.prototype.o,tn.prototype.open=tn.prototype.m,tn.prototype.close=tn.prototype.close,wT=function(){return new Ra},bT=function(){return ur()},TT=Zn,Km={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},fr.NO_ERROR=0,fr.TIMEOUT=8,fr.HTTP_ERROR=6,sh=fr,Ri.COMPLETE="complete",ET=Ri,Oo.EventType=Si,Si.OPEN="a",Si.CLOSE="b",Si.ERROR="c",Si.MESSAGE="d",lt.prototype.listen=lt.prototype.K,jl=Oo,qe.prototype.listenOnce=qe.prototype.L,qe.prototype.getLastError=qe.prototype.Ka,qe.prototype.getLastErrorCode=qe.prototype.Ba,qe.prototype.getStatus=qe.prototype.Z,qe.prototype.getResponseJson=qe.prototype.Oa,qe.prototype.getResponseText=qe.prototype.oa,qe.prototype.send=qe.prototype.ea,qe.prototype.setWithCredentials=qe.prototype.Ha,_T=qe}).apply(typeof $c<"u"?$c:typeof self<"u"?self:typeof window<"u"?window:{});const N_="@firebase/firestore",k_="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Xt.UNAUTHENTICATED=new Xt(null),Xt.GOOGLE_CREDENTIALS=new Xt("google-credentials-uid"),Xt.FIRST_PARTY=new Xt("first-party-uid"),Xt.MOCK_USER=new Xt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bo="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ws=new Bh("@firebase/firestore");function to(){return Ws.logLevel}function ce(i,...e){if(Ws.logLevel<=ke.DEBUG){const t=e.map(Pp);Ws.debug(`Firestore (${bo}): ${i}`,...t)}}function sr(i,...e){if(Ws.logLevel<=ke.ERROR){const t=e.map(Pp);Ws.error(`Firestore (${bo}): ${i}`,...t)}}function ho(i,...e){if(Ws.logLevel<=ke.WARN){const t=e.map(Pp);Ws.warn(`Firestore (${bo}): ${i}`,...t)}}function Pp(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ee(i,e,t){let s="Unexpected state";typeof e=="string"?s=e:t=e,ST(i,s,t)}function ST(i,e,t){let s=`FIRESTORE (${bo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(t!==void 0)try{s+=" CONTEXT: "+JSON.stringify(t)}catch{s+=" CONTEXT: "+t}throw sr(s),new Error(s)}function He(i,e,t,s){let o="Unexpected state";typeof t=="string"?o=t:s=t,i||ST(e,o,s)}function Ae(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class he extends jn{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AT{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class DD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Xt.UNAUTHENTICATED))}shutdown(){}}class OD{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class ND{constructor(e){this.t=e,this.currentUser=Xt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){He(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,t(p)):Promise.resolve();let u=new Ji;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Ji,e.enqueueRetryable(()=>o(this.currentUser))};const h=()=>{const p=u;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},m=p=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(p=>m(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Ji)}},0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(He(typeof s.accessToken=="string",31837,{l:s}),new AT(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return He(e===null||typeof e=="string",2055,{h:e}),new Xt(e)}}class kD{constructor(e,t,s){this.P=e,this.T=t,this.I=s,this.type="FirstParty",this.user=Xt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class MD{constructor(e,t,s){this.P=e,this.T=t,this.I=s}getToken(){return Promise.resolve(new kD(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(Xt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class M_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class VD{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,$n(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){He(this.o===void 0,3512);const s=u=>{u.error!=null&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.m;return this.m=u.token,ce("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const o=u=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new M_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(He(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new M_(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PD(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<i;s++)t[s]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RT(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xT{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=PD(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<t&&(s+=e.charAt(o[u]%62))}return s}}function Ie(i,e){return i<e?-1:i>e?1:0}function Ym(i,e){let t=0;for(;t<i.length&&t<e.length;){const s=i.codePointAt(t),o=e.codePointAt(t);if(s!==o){if(s<128&&o<128)return Ie(s,o);{const u=RT(),h=LD(u.encode(V_(i,t)),u.encode(V_(e,t)));return h!==0?h:Ie(s,o)}}t+=s>65535?2:1}return Ie(i.length,e.length)}function V_(i,e){return i.codePointAt(e)>65535?i.substring(e,e+2):i.substring(e,e+1)}function LD(i,e){for(let t=0;t<i.length&&t<e.length;++t)if(i[t]!==e[t])return Ie(i[t],e[t]);return Ie(i.length,e.length)}function fo(i,e,t){return i.length===e.length&&i.every((s,o)=>t(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P_=-62135596800,L_=1e6;class It{static now(){return It.fromMillis(Date.now())}static fromDate(e){return It.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor((e-1e3*t)*L_);return new It(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new he(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new he(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<P_)throw new he(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new he(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/L_}_compareTo(e){return this.seconds===e.seconds?Ie(this.nanoseconds,e.nanoseconds):Ie(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-P_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{static fromTimestamp(e){return new Se(e)}static min(){return new Se(new It(0,0))}static max(){return new Se(new It(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U_="__name__";class mi{constructor(e,t,s){t===void 0?t=0:t>e.length&&Ee(637,{offset:t,range:e.length}),s===void 0?s=e.length-t:s>e.length-t&&Ee(1746,{length:s,range:e.length-t}),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return mi.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof mi?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let o=0;o<s;o++){const u=mi.compareSegments(e.get(o),t.get(o));if(u!==0)return u}return Ie(e.length,t.length)}static compareSegments(e,t){const s=mi.isNumericId(e),o=mi.isNumericId(t);return s&&!o?-1:!s&&o?1:s&&o?mi.extractNumericId(e).compare(mi.extractNumericId(t)):Ym(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Qr.fromString(e.substring(4,e.length-2))}}class tt extends mi{construct(e,t,s){return new tt(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new he(ne.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(o=>o.length>0))}return new tt(t)}static emptyPath(){return new tt([])}}const UD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ft extends mi{construct(e,t,s){return new Ft(e,t,s)}static isValidIdentifier(e){return UD.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ft.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===U_}static keyField(){return new Ft([U_])}static fromServerFormat(e){const t=[];let s="",o=0;const u=()=>{if(s.length===0)throw new he(ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let h=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new he(ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new he(ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(h=!h,o++):m!=="."||h?(s+=m,o++):(u(),o++)}if(u(),h)throw new he(ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ft(t)}static emptyPath(){return new Ft([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.path=e}static fromPath(e){return new ye(tt.fromString(e))}static fromName(e){return new ye(tt.fromString(e).popFirst(5))}static empty(){return new ye(tt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&tt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return tt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new tt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nu=-1;function jD(i,e){const t=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=Se.fromTimestamp(s===1e9?new It(t+1,0):new It(t,s));return new Zr(o,ye.empty(),e)}function zD(i){return new Zr(i.readTime,i.key,nu)}class Zr{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new Zr(Se.min(),ye.empty(),nu)}static max(){return new Zr(Se.max(),ye.empty(),nu)}}function BD(i,e){let t=i.readTime.compareTo(e.readTime);return t!==0?t:(t=ye.comparator(i.documentKey,e.documentKey),t!==0?t:Ie(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class HD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wo(i){if(i.code!==ne.FAILED_PRECONDITION||i.message!==qD)throw i;ce("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ee(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new te((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(t,u).next(s,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof te?t:te.resolve(t)}catch(t){return te.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):te.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):te.reject(t)}static resolve(e){return new te((t,s)=>{t(e)})}static reject(e){return new te((t,s)=>{s(e)})}static waitFor(e){return new te((t,s)=>{let o=0,u=0,h=!1;e.forEach(m=>{++o,m.next(()=>{++u,h&&u===o&&t()},p=>s(p))}),h=!0,u===o&&t()})}static or(e){let t=te.resolve(!1);for(const s of e)t=t.next(o=>o?te.resolve(o):s());return t}static forEach(e,t){const s=[];return e.forEach((o,u)=>{s.push(t.call(this,o,u))}),this.waitFor(s)}static mapArray(e,t){return new te((s,o)=>{const u=e.length,h=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;t(e[g]).next(E=>{h[g]=E,++m,m===u&&s(h)},E=>o(E))}})}static doWhile(e,t){return new te((s,o)=>{const u=()=>{e()===!0?t().next(()=>{u()},o):s()};u()})}}function FD(i){const e=i.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function So(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.ue(s),this.ce=s=>t.writeSequenceNumber(s))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Kh.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lp=-1;function Yh(i){return i==null}function wh(i){return i===0&&1/i==-1/0}function GD(i){return typeof i=="number"&&Number.isInteger(i)&&!wh(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IT="";function $D(i){let e="";for(let t=0;t<i.length;t++)e.length>0&&(e=j_(e)),e=KD(i.get(t),e);return j_(e)}function KD(i,e){let t=e;const s=i.length;for(let o=0;o<s;o++){const u=i.charAt(o);switch(u){case"\0":t+="";break;case IT:t+="";break;default:t+=u}}return t}function j_(i){return i+IT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z_(i){let e=0;for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e++;return e}function ra(i,e){for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(t,i[t])}function CT(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{constructor(e,t){this.comparator=e,this.root=t||Ht.EMPTY}insert(e,t){return new ot(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ht.BLACK,null,null))}remove(e){return new ot(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ht.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return t+s.left.size;o<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Kc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Kc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Kc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Kc(this.root,e,this.comparator,!0)}}class Kc{constructor(e,t,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?s(e.key,t):1,t&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ht{constructor(e,t,s,o,u){this.key=e,this.value=t,this.color=s??Ht.RED,this.left=o??Ht.EMPTY,this.right=u??Ht.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,o,u){return new Ht(e??this.key,t??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,t,s),null):u===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ht.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Ht.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ht.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ht.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ee(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ee(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ee(27949);return e+(this.isRed()?0:1)}}Ht.EMPTY=null,Ht.RED=!0,Ht.BLACK=!1;Ht.EMPTY=new class{constructor(){this.size=0}get key(){throw Ee(57766)}get value(){throw Ee(16141)}get color(){throw Ee(16727)}get left(){throw Ee(29726)}get right(){throw Ee(36894)}copy(e,t,s,o,u){return this}insert(e,t,s){return new Ht(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(e){this.comparator=e,this.data=new ot(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new B_(this.data.getIterator())}getIteratorFrom(e){return new B_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof Ct)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Ct(this.comparator);return t.data=e,t}}class B_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yn{constructor(e){this.fields=e,e.sort(Ft.comparator)}static empty(){return new Yn([])}unionWith(e){let t=new Ct(Ft.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new Yn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return fo(this.fields,e.fields,(t,s)=>t.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new DT("Invalid base64 string: "+u):u}}(e);return new Gt(t)}static fromUint8Array(e){const t=function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u}(e);return new Gt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ie(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Gt.EMPTY_BYTE_STRING=new Gt("");const YD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Jr(i){if(He(!!i,39018),typeof i=="string"){let e=0;const t=YD.exec(i);if(He(!!t,46558,{timestamp:i}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:gt(i.seconds),nanos:gt(i.nanos)}}function gt(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function es(i){return typeof i=="string"?Gt.fromBase64String(i):Gt.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OT="server_timestamp",NT="__type__",kT="__previous_value__",MT="__local_write_time__";function Up(i){var e,t;return((t=(((e=i?.mapValue)===null||e===void 0?void 0:e.fields)||{})[NT])===null||t===void 0?void 0:t.stringValue)===OT}function Qh(i){const e=i.mapValue.fields[kT];return Up(e)?Qh(e):e}function iu(i){const e=Jr(i.mapValue.fields[MT].timestampValue);return new It(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QD{constructor(e,t,s,o,u,h,m,p,g,E){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=E}}const Sh="(default)";class ru{constructor(e,t){this.projectId=e,this.database=t||Sh}static empty(){return new ru("","")}get isDefaultDatabase(){return this.database===Sh}isEqual(e){return e instanceof ru&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VT="__type__",XD="__max__",Yc={mapValue:{}},PT="__vector__",Ah="value";function ts(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Up(i)?4:ZD(i)?9007199254740991:WD(i)?10:11:Ee(28295,{value:i})}function Ei(i,e){if(i===e)return!0;const t=ts(i);if(t!==ts(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return iu(i).isEqual(iu(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=Jr(o.timestampValue),m=Jr(u.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return function(o,u){return es(o.bytesValue).isEqual(es(u.bytesValue))}(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,u){return gt(o.geoPointValue.latitude)===gt(u.geoPointValue.latitude)&&gt(o.geoPointValue.longitude)===gt(u.geoPointValue.longitude)}(i,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return gt(o.integerValue)===gt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=gt(o.doubleValue),m=gt(u.doubleValue);return h===m?wh(h)===wh(m):isNaN(h)&&isNaN(m)}return!1}(i,e);case 9:return fo(i.arrayValue.values||[],e.arrayValue.values||[],Ei);case 10:case 11:return function(o,u){const h=o.mapValue.fields||{},m=u.mapValue.fields||{};if(z_(h)!==z_(m))return!1;for(const p in h)if(h.hasOwnProperty(p)&&(m[p]===void 0||!Ei(h[p],m[p])))return!1;return!0}(i,e);default:return Ee(52216,{left:i})}}function su(i,e){return(i.values||[]).find(t=>Ei(t,e))!==void 0}function mo(i,e){if(i===e)return 0;const t=ts(i),s=ts(e);if(t!==s)return Ie(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ie(i.booleanValue,e.booleanValue);case 2:return function(u,h){const m=gt(u.integerValue||u.doubleValue),p=gt(h.integerValue||h.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1}(i,e);case 3:return q_(i.timestampValue,e.timestampValue);case 4:return q_(iu(i),iu(e));case 5:return Ym(i.stringValue,e.stringValue);case 6:return function(u,h){const m=es(u),p=es(h);return m.compareTo(p)}(i.bytesValue,e.bytesValue);case 7:return function(u,h){const m=u.split("/"),p=h.split("/");for(let g=0;g<m.length&&g<p.length;g++){const E=Ie(m[g],p[g]);if(E!==0)return E}return Ie(m.length,p.length)}(i.referenceValue,e.referenceValue);case 8:return function(u,h){const m=Ie(gt(u.latitude),gt(h.latitude));return m!==0?m:Ie(gt(u.longitude),gt(h.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return H_(i.arrayValue,e.arrayValue);case 10:return function(u,h){var m,p,g,E;const A=u.fields||{},S=h.fields||{},N=(m=A[Ah])===null||m===void 0?void 0:m.arrayValue,O=(p=S[Ah])===null||p===void 0?void 0:p.arrayValue,$=Ie(((g=N?.values)===null||g===void 0?void 0:g.length)||0,((E=O?.values)===null||E===void 0?void 0:E.length)||0);return $!==0?$:H_(N,O)}(i.mapValue,e.mapValue);case 11:return function(u,h){if(u===Yc.mapValue&&h===Yc.mapValue)return 0;if(u===Yc.mapValue)return 1;if(h===Yc.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=h.fields||{},E=Object.keys(g);p.sort(),E.sort();for(let A=0;A<p.length&&A<E.length;++A){const S=Ym(p[A],E[A]);if(S!==0)return S;const N=mo(m[p[A]],g[E[A]]);if(N!==0)return N}return Ie(p.length,E.length)}(i.mapValue,e.mapValue);default:throw Ee(23264,{Pe:t})}}function q_(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Ie(i,e);const t=Jr(i),s=Jr(e),o=Ie(t.seconds,s.seconds);return o!==0?o:Ie(t.nanos,s.nanos)}function H_(i,e){const t=i.values||[],s=e.values||[];for(let o=0;o<t.length&&o<s.length;++o){const u=mo(t[o],s[o]);if(u)return u}return Ie(t.length,s.length)}function po(i){return Qm(i)}function Qm(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(t){const s=Jr(t);return`time(${s.seconds},${s.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(t){return es(t).toBase64()}(i.bytesValue):"referenceValue"in i?function(t){return ye.fromName(t).toString()}(i.referenceValue):"geoPointValue"in i?function(t){return`geo(${t.latitude},${t.longitude})`}(i.geoPointValue):"arrayValue"in i?function(t){let s="[",o=!0;for(const u of t.values||[])o?o=!1:s+=",",s+=Qm(u);return s+"]"}(i.arrayValue):"mapValue"in i?function(t){const s=Object.keys(t.fields||{}).sort();let o="{",u=!0;for(const h of s)u?u=!1:o+=",",o+=`${h}:${Qm(t.fields[h])}`;return o+"}"}(i.mapValue):Ee(61005,{value:i})}function ah(i){switch(ts(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Qh(i);return e?16+ah(e):16;case 5:return 2*i.stringValue.length;case 6:return es(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+ah(u),0)}(i.arrayValue);case 10:case 11:return function(s){let o=0;return ra(s.fields,(u,h)=>{o+=u.length+ah(h)}),o}(i.mapValue);default:throw Ee(13486,{value:i})}}function F_(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function Xm(i){return!!i&&"integerValue"in i}function jp(i){return!!i&&"arrayValue"in i}function G_(i){return!!i&&"nullValue"in i}function $_(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function oh(i){return!!i&&"mapValue"in i}function WD(i){var e,t;return((t=(((e=i?.mapValue)===null||e===void 0?void 0:e.fields)||{})[VT])===null||t===void 0?void 0:t.stringValue)===PT}function $l(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return ra(i.mapValue.fields,(t,s)=>e.mapValue.fields[t]=$l(s)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(i.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=$l(i.arrayValue.values[t]);return e}return Object.assign({},i)}function ZD(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===XD}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(e){this.value=e}static empty(){return new Pn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!oh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=$l(t)}setAll(e){let t=Ft.emptyPath(),s={},o=[];e.forEach((h,m)=>{if(!t.isImmediateParentOf(m)){const p=this.getFieldsMap(t);this.applyChanges(p,s,o),s={},o=[],t=m.popLast()}h?s[m.lastSegment()]=$l(h):o.push(m.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,s,o)}delete(e){const t=this.field(e.popLast());oh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ei(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=t.mapValue.fields[e.get(s)];oh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,s){ra(t,(o,u)=>e[o]=u);for(const o of s)delete e[o]}clone(){return new Pn($l(this.value))}}function LT(i){const e=[];return ra(i.fields,(t,s)=>{const o=new Ft([t]);if(oh(s)){const u=LT(s.mapValue).fields;if(u.length===0)e.push(o);else for(const h of u)e.push(o.child(h))}else e.push(o)}),new Yn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e,t,s,o,u,h,m){this.key=e,this.documentType=t,this.version=s,this.readTime=o,this.createTime=u,this.data=h,this.documentState=m}static newInvalidDocument(e){return new Wt(e,0,Se.min(),Se.min(),Se.min(),Pn.empty(),0)}static newFoundDocument(e,t,s,o){return new Wt(e,1,t,Se.min(),s,o,0)}static newNoDocument(e,t){return new Wt(e,2,t,Se.min(),Se.min(),Pn.empty(),0)}static newUnknownDocument(e,t){return new Wt(e,3,t,Se.min(),Se.min(),Pn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Pn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Pn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Wt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Wt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rh{constructor(e,t){this.position=e,this.inclusive=t}}function K_(i,e,t){let s=0;for(let o=0;o<i.position.length;o++){const u=e[o],h=i.position[o];if(u.field.isKeyField()?s=ye.comparator(ye.fromName(h.referenceValue),t.key):s=mo(h,t.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function Y_(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let t=0;t<i.position.length;t++)if(!Ei(i.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh{constructor(e,t="asc"){this.field=e,this.dir=t}}function JD(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UT{}class bt extends UT{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new tO(e,t,s):t==="array-contains"?new rO(e,s):t==="in"?new sO(e,s):t==="not-in"?new aO(e,s):t==="array-contains-any"?new oO(e,s):new bt(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new nO(e,s):new iO(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(mo(t,this.value)):t!==null&&ts(this.value)===ts(t)&&this.matchesComparison(mo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ee(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Xn extends UT{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new Xn(e,t)}matches(e){return jT(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function jT(i){return i.op==="and"}function zT(i){return eO(i)&&jT(i)}function eO(i){for(const e of i.filters)if(e instanceof Xn)return!1;return!0}function Wm(i){if(i instanceof bt)return i.field.canonicalString()+i.op.toString()+po(i.value);if(zT(i))return i.filters.map(e=>Wm(e)).join(",");{const e=i.filters.map(t=>Wm(t)).join(",");return`${i.op}(${e})`}}function BT(i,e){return i instanceof bt?function(s,o){return o instanceof bt&&s.op===o.op&&s.field.isEqual(o.field)&&Ei(s.value,o.value)}(i,e):i instanceof Xn?function(s,o){return o instanceof Xn&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,h,m)=>u&&BT(h,o.filters[m]),!0):!1}(i,e):void Ee(19439)}function qT(i){return i instanceof bt?function(t){return`${t.field.canonicalString()} ${t.op} ${po(t.value)}`}(i):i instanceof Xn?function(t){return t.op.toString()+" {"+t.getFilters().map(qT).join(" ,")+"}"}(i):"Filter"}class tO extends bt{constructor(e,t,s){super(e,t,s),this.key=ye.fromName(s.referenceValue)}matches(e){const t=ye.comparator(e.key,this.key);return this.matchesComparison(t)}}class nO extends bt{constructor(e,t){super(e,"in",t),this.keys=HT("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class iO extends bt{constructor(e,t){super(e,"not-in",t),this.keys=HT("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function HT(i,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(s=>ye.fromName(s.referenceValue))}class rO extends bt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return jp(t)&&su(t.arrayValue,this.value)}}class sO extends bt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&su(this.value.arrayValue,t)}}class aO extends bt{constructor(e,t){super(e,"not-in",t)}matches(e){if(su(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!su(this.value.arrayValue,t)}}class oO extends bt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!jp(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>su(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lO{constructor(e,t=null,s=[],o=[],u=null,h=null,m=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=h,this.endAt=m,this.Ie=null}}function Q_(i,e=null,t=[],s=[],o=null,u=null,h=null){return new lO(i,e,t,s,o,u,h)}function zp(i){const e=Ae(i);if(e.Ie===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>Wm(s)).join(","),t+="|ob:",t+=e.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),Yh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>po(s)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>po(s)).join(",")),e.Ie=t}return e.Ie}function Bp(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<i.orderBy.length;t++)if(!JD(i.orderBy[t],e.orderBy[t]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let t=0;t<i.filters.length;t++)if(!BT(i.filters[t],e.filters[t]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!Y_(i.startAt,e.startAt)&&Y_(i.endAt,e.endAt)}function Zm(i){return ye.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pu{constructor(e,t=null,s=[],o=[],u=null,h="F",m=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=h,this.startAt=m,this.endAt=p,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function uO(i,e,t,s,o,u,h,m){return new pu(i,e,t,s,o,u,h,m)}function qp(i){return new pu(i)}function X_(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function FT(i){return i.collectionGroup!==null}function Kl(i){const e=Ae(i);if(e.Ee===null){e.Ee=[];const t=new Set;for(const u of e.explicitOrderBy)e.Ee.push(u),t.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let m=new Ct(Ft.comparator);return h.filters.forEach(p=>{p.getFlattenedFilters().forEach(g=>{g.isInequality()&&(m=m.add(g.field))})}),m})(e).forEach(u=>{t.has(u.canonicalString())||u.isKeyField()||e.Ee.push(new xh(u,s))}),t.has(Ft.keyField().canonicalString())||e.Ee.push(new xh(Ft.keyField(),s))}return e.Ee}function vi(i){const e=Ae(i);return e.de||(e.de=cO(e,Kl(i))),e.de}function cO(i,e){if(i.limitType==="F")return Q_(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new xh(o.field,u)});const t=i.endAt?new Rh(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new Rh(i.startAt.position,i.startAt.inclusive):null;return Q_(i.path,i.collectionGroup,e,i.filters,i.limit,t,s)}}function Jm(i,e){const t=i.filters.concat([e]);return new pu(i.path,i.collectionGroup,i.explicitOrderBy.slice(),t,i.limit,i.limitType,i.startAt,i.endAt)}function Ih(i,e,t){return new pu(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,t,i.startAt,i.endAt)}function Xh(i,e){return Bp(vi(i),vi(e))&&i.limitType===e.limitType}function GT(i){return`${zp(vi(i))}|lt:${i.limitType}`}function no(i){return`Query(target=${function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map(o=>qT(o)).join(", ")}]`),Yh(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map(o=>function(h){return`${h.field.canonicalString()} (${h.dir})`}(o)).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map(o=>po(o)).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map(o=>po(o)).join(",")),`Target(${s})`}(vi(i))}; limitType=${i.limitType})`}function Wh(i,e){return e.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):ye.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(i,e)&&function(s,o){for(const u of Kl(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(i,e)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(i,e)&&function(s,o){return!(s.startAt&&!function(h,m,p){const g=K_(h,m,p);return h.inclusive?g<=0:g<0}(s.startAt,Kl(s),o)||s.endAt&&!function(h,m,p){const g=K_(h,m,p);return h.inclusive?g>=0:g>0}(s.endAt,Kl(s),o))}(i,e)}function hO(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function $T(i){return(e,t)=>{let s=!1;for(const o of Kl(i)){const u=fO(o,e,t);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function fO(i,e,t){const s=i.field.isKeyField()?ye.comparator(e.key,t.key):function(u,h,m){const p=h.data.field(u),g=m.data.field(u);return p!==null&&g!==null?mo(p,g):Ee(42886)}(i.field,e,t);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return Ee(19790,{direction:i.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[t]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ra(this.inner,(t,s)=>{for(const[o,u]of s)e(o,u)})}isEmpty(){return CT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dO=new ot(ye.comparator);function ar(){return dO}const KT=new ot(ye.comparator);function zl(...i){let e=KT;for(const t of i)e=e.insert(t.key,t);return e}function YT(i){let e=KT;return i.forEach((t,s)=>e=e.insert(t,s.overlayedDocument)),e}function Gs(){return Yl()}function QT(){return Yl()}function Yl(){return new sa(i=>i.toString(),(i,e)=>i.isEqual(e))}const mO=new ot(ye.comparator),pO=new Ct(ye.comparator);function Me(...i){let e=pO;for(const t of i)e=e.add(t);return e}const gO=new Ct(Ie);function yO(){return gO}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hp(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:wh(e)?"-0":e}}function XT(i){return{integerValue:""+i}}function vO(i,e){return GD(e)?XT(e):Hp(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh{constructor(){this._=void 0}}function _O(i,e,t){return i instanceof Ch?function(o,u){const h={fields:{[NT]:{stringValue:OT},[MT]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Up(u)&&(u=Qh(u)),u&&(h.fields[kT]=u),{mapValue:h}}(t,e):i instanceof au?ZT(i,e):i instanceof ou?JT(i,e):function(o,u){const h=WT(o,u),m=W_(h)+W_(o.Re);return Xm(h)&&Xm(o.Re)?XT(m):Hp(o.serializer,m)}(i,e)}function EO(i,e,t){return i instanceof au?ZT(i,e):i instanceof ou?JT(i,e):t}function WT(i,e){return i instanceof Dh?function(s){return Xm(s)||function(u){return!!u&&"doubleValue"in u}(s)}(e)?e:{integerValue:0}:null}class Ch extends Zh{}class au extends Zh{constructor(e){super(),this.elements=e}}function ZT(i,e){const t=eb(e);for(const s of i.elements)t.some(o=>Ei(o,s))||t.push(s);return{arrayValue:{values:t}}}class ou extends Zh{constructor(e){super(),this.elements=e}}function JT(i,e){let t=eb(e);for(const s of i.elements)t=t.filter(o=>!Ei(o,s));return{arrayValue:{values:t}}}class Dh extends Zh{constructor(e,t){super(),this.serializer=e,this.Re=t}}function W_(i){return gt(i.integerValue||i.doubleValue)}function eb(i){return jp(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function TO(i,e){return i.field.isEqual(e.field)&&function(s,o){return s instanceof au&&o instanceof au||s instanceof ou&&o instanceof ou?fo(s.elements,o.elements,Ei):s instanceof Dh&&o instanceof Dh?Ei(s.Re,o.Re):s instanceof Ch&&o instanceof Ch}(i.transform,e.transform)}class bO{constructor(e,t){this.version=e,this.transformResults=t}}class er{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new er}static exists(e){return new er(void 0,e)}static updateTime(e){return new er(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function lh(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class Jh{}function tb(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new ib(i.key,er.none()):new gu(i.key,i.data,er.none());{const t=i.data,s=Pn.empty();let o=new Ct(Ft.comparator);for(let u of e.fields)if(!o.has(u)){let h=t.field(u);h===null&&u.length>1&&(u=u.popLast(),h=t.field(u)),h===null?s.delete(u):s.set(u,h),o=o.add(u)}return new aa(i.key,s,new Yn(o.toArray()),er.none())}}function wO(i,e,t){i instanceof gu?function(o,u,h){const m=o.value.clone(),p=J_(o.fieldTransforms,u,h.transformResults);m.setAll(p),u.convertToFoundDocument(h.version,m).setHasCommittedMutations()}(i,e,t):i instanceof aa?function(o,u,h){if(!lh(o.precondition,u))return void u.convertToUnknownDocument(h.version);const m=J_(o.fieldTransforms,u,h.transformResults),p=u.data;p.setAll(nb(o)),p.setAll(m),u.convertToFoundDocument(h.version,p).setHasCommittedMutations()}(i,e,t):function(o,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()}(0,e,t)}function Ql(i,e,t,s){return i instanceof gu?function(u,h,m,p){if(!lh(u.precondition,h))return m;const g=u.value.clone(),E=e1(u.fieldTransforms,p,h);return g.setAll(E),h.convertToFoundDocument(h.version,g).setHasLocalMutations(),null}(i,e,t,s):i instanceof aa?function(u,h,m,p){if(!lh(u.precondition,h))return m;const g=e1(u.fieldTransforms,p,h),E=h.data;return E.setAll(nb(u)),E.setAll(g),h.convertToFoundDocument(h.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(A=>A.field))}(i,e,t,s):function(u,h,m){return lh(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):m}(i,e,t)}function SO(i,e){let t=null;for(const s of i.fieldTransforms){const o=e.data.field(s.field),u=WT(s.transform,o||null);u!=null&&(t===null&&(t=Pn.empty()),t.set(s.field,u))}return t||null}function Z_(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&fo(s,o,(u,h)=>TO(u,h))}(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class gu extends Jh{constructor(e,t,s,o=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class aa extends Jh{constructor(e,t,s,o,u=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function nb(i){const e=new Map;return i.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=i.data.field(t);e.set(t,s)}}),e}function J_(i,e,t){const s=new Map;He(i.length===t.length,32656,{Ve:t.length,me:i.length});for(let o=0;o<t.length;o++){const u=i[o],h=u.transform,m=e.data.field(u.field);s.set(u.field,EO(h,m,t[o]))}return s}function e1(i,e,t){const s=new Map;for(const o of i){const u=o.transform,h=t.data.field(o.field);s.set(o.field,_O(u,h,e))}return s}class ib extends Jh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class AO extends Jh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RO{constructor(e,t,s,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&wO(u,e,s[o])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=Ql(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=Ql(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=QT();return this.mutations.forEach(o=>{const u=e.get(o.key),h=u.overlayedDocument;let m=this.applyToLocalView(h,u.mutatedFields);m=t.has(o.key)?null:m;const p=tb(h,m);p!==null&&s.set(o.key,p),h.isValidDocument()||h.convertToNoDocument(Se.min())}),s}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Me())}isEqual(e){return this.batchId===e.batchId&&fo(this.mutations,e.mutations,(t,s)=>Z_(t,s))&&fo(this.baseMutations,e.baseMutations,(t,s)=>Z_(t,s))}}class Fp{constructor(e,t,s,o){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=o}static from(e,t,s){He(e.mutations.length===s.length,58842,{fe:e.mutations.length,ge:s.length});let o=function(){return mO}();const u=e.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,s[h].version);return new Fp(e,t,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xO{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IO{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Tt,Ue;function CO(i){switch(i){case ne.OK:return Ee(64938);case ne.CANCELLED:case ne.UNKNOWN:case ne.DEADLINE_EXCEEDED:case ne.RESOURCE_EXHAUSTED:case ne.INTERNAL:case ne.UNAVAILABLE:case ne.UNAUTHENTICATED:return!1;case ne.INVALID_ARGUMENT:case ne.NOT_FOUND:case ne.ALREADY_EXISTS:case ne.PERMISSION_DENIED:case ne.FAILED_PRECONDITION:case ne.ABORTED:case ne.OUT_OF_RANGE:case ne.UNIMPLEMENTED:case ne.DATA_LOSS:return!0;default:return Ee(15467,{code:i})}}function rb(i){if(i===void 0)return sr("GRPC error has no .code"),ne.UNKNOWN;switch(i){case Tt.OK:return ne.OK;case Tt.CANCELLED:return ne.CANCELLED;case Tt.UNKNOWN:return ne.UNKNOWN;case Tt.DEADLINE_EXCEEDED:return ne.DEADLINE_EXCEEDED;case Tt.RESOURCE_EXHAUSTED:return ne.RESOURCE_EXHAUSTED;case Tt.INTERNAL:return ne.INTERNAL;case Tt.UNAVAILABLE:return ne.UNAVAILABLE;case Tt.UNAUTHENTICATED:return ne.UNAUTHENTICATED;case Tt.INVALID_ARGUMENT:return ne.INVALID_ARGUMENT;case Tt.NOT_FOUND:return ne.NOT_FOUND;case Tt.ALREADY_EXISTS:return ne.ALREADY_EXISTS;case Tt.PERMISSION_DENIED:return ne.PERMISSION_DENIED;case Tt.FAILED_PRECONDITION:return ne.FAILED_PRECONDITION;case Tt.ABORTED:return ne.ABORTED;case Tt.OUT_OF_RANGE:return ne.OUT_OF_RANGE;case Tt.UNIMPLEMENTED:return ne.UNIMPLEMENTED;case Tt.DATA_LOSS:return ne.DATA_LOSS;default:return Ee(39323,{code:i})}}(Ue=Tt||(Tt={}))[Ue.OK=0]="OK",Ue[Ue.CANCELLED=1]="CANCELLED",Ue[Ue.UNKNOWN=2]="UNKNOWN",Ue[Ue.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ue[Ue.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ue[Ue.NOT_FOUND=5]="NOT_FOUND",Ue[Ue.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ue[Ue.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ue[Ue.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ue[Ue.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ue[Ue.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ue[Ue.ABORTED=10]="ABORTED",Ue[Ue.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ue[Ue.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ue[Ue.INTERNAL=13]="INTERNAL",Ue[Ue.UNAVAILABLE=14]="UNAVAILABLE",Ue[Ue.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DO=new Qr([4294967295,4294967295],0);function t1(i){const e=RT().encode(i),t=new vT;return t.update(e),new Uint8Array(t.digest())}function n1(i){const e=new DataView(i.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Qr([t,s],0),new Qr([o,u],0)]}class Gp{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new Bl(`Invalid padding: ${t}`);if(s<0)throw new Bl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Bl(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new Bl(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=Qr.fromNumber(this.pe)}we(e,t,s){let o=e.add(t.multiply(Qr.fromNumber(s)));return o.compare(DO)===1&&(o=new Qr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const t=t1(e),[s,o]=n1(t);for(let u=0;u<this.hashCount;u++){const h=this.we(s,o,u);if(!this.be(h))return!1}return!0}static create(e,t,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new Gp(u,o,t);return s.forEach(m=>h.insert(m)),h}insert(e){if(this.pe===0)return;const t=t1(e),[s,o]=n1(t);for(let u=0;u<this.hashCount;u++){const h=this.we(s,o,u);this.Se(h)}}Se(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class Bl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef{constructor(e,t,s,o,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const o=new Map;return o.set(e,yu.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new ef(Se.min(),o,new ot(Ie),ar(),Me())}}class yu{constructor(e,t,s,o,u){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new yu(s,t,Me(),Me(),Me())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uh{constructor(e,t,s,o){this.De=e,this.removedTargetIds=t,this.key=s,this.ve=o}}class sb{constructor(e,t){this.targetId=e,this.Ce=t}}class ab{constructor(e,t,s=Gt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=o}}class i1{constructor(){this.Fe=0,this.Me=r1(),this.xe=Gt.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=Me(),t=Me(),s=Me();return this.Me.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:s=s.add(o);break;default:Ee(38017,{changeType:u})}}),new yu(this.xe,this.Oe,e,t,s)}Qe(){this.Ne=!1,this.Me=r1()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,He(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class OO{constructor(e){this.ze=e,this.je=new Map,this.He=ar(),this.Je=Qc(),this.Ye=Qc(),this.Ze=new ot(Ie)}Xe(e){for(const t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(const t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,t=>{const s=this.rt(t);switch(e.state){case 0:this.it(t)&&s.ke(e.resumeToken);break;case 1:s.We(),s.Be||s.Qe(),s.ke(e.resumeToken);break;case 2:s.We(),s.Be||this.removeTarget(t);break;case 3:this.it(t)&&(s.Ge(),s.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),s.ke(e.resumeToken));break;default:Ee(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach((s,o)=>{this.it(o)&&t(o)})}ot(e){const t=e.targetId,s=e.Ce.count,o=this._t(t);if(o){const u=o.target;if(Zm(u))if(s===0){const h=new ye(u.path);this.tt(t,h,Wt.newNoDocument(h,Se.min()))}else He(s===1,20013,{expectedCount:s});else{const h=this.ut(t);if(h!==s){const m=this.ct(e),p=m?this.lt(m,e,h):1;if(p!==0){this.st(t);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,g)}}}}}ct(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=t;let h,m;try{h=es(s).toUint8Array()}catch(p){if(p instanceof DT)return ho("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Gp(h,o,u)}catch(p){return ho(p instanceof Bl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.pe===0?null:m}lt(e,t,s){return t.Ce.count===s-this.Tt(e,t.targetId)?0:2}Tt(e,t){const s=this.ze.getRemoteKeysForTarget(t);let o=0;return s.forEach(u=>{const h=this.ze.Pt(),m=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.tt(t,u,null),o++)}),o}It(e){const t=new Map;this.je.forEach((u,h)=>{const m=this._t(h);if(m){if(u.current&&Zm(m.target)){const p=new ye(m.target.path);this.Et(p).has(h)||this.dt(h,p)||this.tt(h,p,Wt.newNoDocument(p,e))}u.Le&&(t.set(h,u.qe()),u.Qe())}});let s=Me();this.Ye.forEach((u,h)=>{let m=!0;h.forEachWhile(p=>{const g=this._t(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(u))}),this.He.forEach((u,h)=>h.setReadTime(e));const o=new ef(e,t,this.Ze,this.He,s);return this.He=ar(),this.Je=Qc(),this.Ye=Qc(),this.Ze=new ot(Ie),o}et(e,t){if(!this.it(e))return;const s=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,s),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,s){if(!this.it(e))return;const o=this.rt(e);this.dt(e,t)?o.$e(t,1):o.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),s&&(this.He=this.He.insert(t,s))}removeTarget(e){this.je.delete(e)}ut(e){const t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new i1,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new Ct(Ie),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new Ct(Ie),this.Je=this.Je.insert(e,t)),t}it(e){const t=this._t(e)!==null;return t||ce("WatchChangeAggregator","Detected inactive target",e),t}_t(e){const t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new i1),this.ze.getRemoteKeysForTarget(e).forEach(t=>{this.tt(e,t,null)})}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}}function Qc(){return new ot(ye.comparator)}function r1(){return new ot(ye.comparator)}const NO={asc:"ASCENDING",desc:"DESCENDING"},kO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},MO={and:"AND",or:"OR"};class VO{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function ep(i,e){return i.useProto3Json||Yh(e)?e:{value:e}}function Oh(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function ob(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function PO(i,e){return Oh(i,e.toTimestamp())}function _i(i){return He(!!i,49232),Se.fromTimestamp(function(t){const s=Jr(t);return new It(s.seconds,s.nanos)}(i))}function $p(i,e){return tp(i,e).canonicalString()}function tp(i,e){const t=function(o){return new tt(["projects",o.projectId,"databases",o.database])}(i).child("documents");return e===void 0?t:t.child(e)}function lb(i){const e=tt.fromString(i);return He(db(e),10190,{key:e.toString()}),e}function np(i,e){return $p(i.databaseId,e.path)}function Im(i,e){const t=lb(e);if(t.get(1)!==i.databaseId.projectId)throw new he(ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+i.databaseId.projectId);if(t.get(3)!==i.databaseId.database)throw new he(ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+i.databaseId.database);return new ye(cb(t))}function ub(i,e){return $p(i.databaseId,e)}function LO(i){const e=lb(i);return e.length===4?tt.emptyPath():cb(e)}function ip(i){return new tt(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function cb(i){return He(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function s1(i,e,t){return{name:np(i,e),fields:t.value.mapValue.fields}}function UO(i,e){let t;if("targetChange"in e){e.targetChange;const s=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Ee(39313,{state:g})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(g,E){return g.useProto3Json?(He(E===void 0||typeof E=="string",58123),Gt.fromBase64String(E||"")):(He(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Gt.fromUint8Array(E||new Uint8Array))}(i,e.targetChange.resumeToken),h=e.targetChange.cause,m=h&&function(g){const E=g.code===void 0?ne.UNKNOWN:rb(g.code);return new he(E,g.message||"")}(h);t=new ab(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Im(i,s.document.name),u=_i(s.document.updateTime),h=s.document.createTime?_i(s.document.createTime):Se.min(),m=new Pn({mapValue:{fields:s.document.fields}}),p=Wt.newFoundDocument(o,u,h,m),g=s.targetIds||[],E=s.removedTargetIds||[];t=new uh(g,E,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Im(i,s.document),u=s.readTime?_i(s.readTime):Se.min(),h=Wt.newNoDocument(o,u),m=s.removedTargetIds||[];t=new uh([],m,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Im(i,s.document),u=s.removedTargetIds||[];t=new uh([],u,o,null)}else{if(!("filter"in e))return Ee(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,h=new IO(o,u),m=s.targetId;t=new sb(m,h)}}return t}function jO(i,e){let t;if(e instanceof gu)t={update:s1(i,e.key,e.value)};else if(e instanceof ib)t={delete:np(i,e.key)};else if(e instanceof aa)t={update:s1(i,e.key,e.data),updateMask:YO(e.fieldMask)};else{if(!(e instanceof AO))return Ee(16599,{ft:e.type});t={verify:np(i,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(u,h){const m=h.transform;if(m instanceof Ch)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof au)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof ou)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Dh)return{fieldPath:h.field.canonicalString(),increment:m.Re};throw Ee(20930,{transform:h.transform})}(0,s))),e.precondition.isNone||(t.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:PO(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Ee(27497)}(i,e.precondition)),t}function zO(i,e){return i&&i.length>0?(He(e!==void 0,14353),i.map(t=>function(o,u){let h=o.updateTime?_i(o.updateTime):_i(u);return h.isEqual(Se.min())&&(h=_i(u)),new bO(h,o.transformResults||[])}(t,e))):[]}function BO(i,e){return{documents:[ub(i,e.path)]}}function qO(i,e){const t={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=ub(i,o);const u=function(g){if(g.length!==0)return fb(Xn.create(g,"and"))}(e.filters);u&&(t.structuredQuery.where=u);const h=function(g){if(g.length!==0)return g.map(E=>function(S){return{field:io(S.field),direction:GO(S.dir)}}(E))}(e.orderBy);h&&(t.structuredQuery.orderBy=h);const m=ep(i,e.limit);return m!==null&&(t.structuredQuery.limit=m),e.startAt&&(t.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{gt:t,parent:o}}function HO(i){let e=LO(i.parent);const t=i.structuredQuery,s=t.from?t.from.length:0;let o=null;if(s>0){He(s===1,65062);const E=t.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];t.where&&(u=function(A){const S=hb(A);return S instanceof Xn&&zT(S)?S.getFilters():[S]}(t.where));let h=[];t.orderBy&&(h=function(A){return A.map(S=>function(O){return new xh(ro(O.field),function(L){switch(L){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(O.direction))}(S))}(t.orderBy));let m=null;t.limit&&(m=function(A){let S;return S=typeof A=="object"?A.value:A,Yh(S)?null:S}(t.limit));let p=null;t.startAt&&(p=function(A){const S=!!A.before,N=A.values||[];return new Rh(N,S)}(t.startAt));let g=null;return t.endAt&&(g=function(A){const S=!A.before,N=A.values||[];return new Rh(N,S)}(t.endAt)),uO(e,o,h,u,m,"F",p,g)}function FO(i,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ee(28987,{purpose:o})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function hb(i){return i.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=ro(t.unaryFilter.field);return bt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=ro(t.unaryFilter.field);return bt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=ro(t.unaryFilter.field);return bt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=ro(t.unaryFilter.field);return bt.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ee(61313);default:return Ee(60726)}}(i):i.fieldFilter!==void 0?function(t){return bt.create(ro(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ee(58110);default:return Ee(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(t){return Xn.create(t.compositeFilter.filters.map(s=>hb(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ee(1026)}}(t.compositeFilter.op))}(i):Ee(30097,{filter:i})}function GO(i){return NO[i]}function $O(i){return kO[i]}function KO(i){return MO[i]}function io(i){return{fieldPath:i.canonicalString()}}function ro(i){return Ft.fromServerFormat(i.fieldPath)}function fb(i){return i instanceof bt?function(t){if(t.op==="=="){if($_(t.value))return{unaryFilter:{field:io(t.field),op:"IS_NAN"}};if(G_(t.value))return{unaryFilter:{field:io(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if($_(t.value))return{unaryFilter:{field:io(t.field),op:"IS_NOT_NAN"}};if(G_(t.value))return{unaryFilter:{field:io(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:io(t.field),op:$O(t.op),value:t.value}}}(i):i instanceof Xn?function(t){const s=t.getFilters().map(o=>fb(o));return s.length===1?s[0]:{compositeFilter:{op:KO(t.op),filters:s}}}(i):Ee(54877,{filter:i})}function YO(i){const e=[];return i.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function db(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gr{constructor(e,t,s,o,u=Se.min(),h=Se.min(),m=Gt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new Gr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Gr(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Gr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Gr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QO{constructor(e){this.wt=e}}function XO(i){const e=HO({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?Ih(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WO{constructor(){this.Cn=new ZO}addToCollectionParentIndex(e,t){return this.Cn.add(t),te.resolve()}getCollectionParents(e,t){return te.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return te.resolve()}deleteFieldIndex(e,t){return te.resolve()}deleteAllFieldIndexes(e){return te.resolve()}createTargetIndexes(e,t){return te.resolve()}getDocumentsMatchingTarget(e,t){return te.resolve(null)}getIndexType(e,t){return te.resolve(0)}getFieldIndexes(e,t){return te.resolve([])}getNextCollectionGroupToUpdate(e){return te.resolve(null)}getMinOffset(e,t){return te.resolve(Zr.min())}getMinOffsetFromCollectionGroup(e,t){return te.resolve(Zr.min())}updateCollectionGroup(e,t,s){return te.resolve()}updateIndexEntries(e,t){return te.resolve()}}class ZO{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t]||new Ct(tt.comparator),u=!o.has(s);return this.index[t]=o.add(s),u}has(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Ct(tt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},mb=41943040;class ln{static withCacheSize(e){return new ln(e,ln.DEFAULT_COLLECTION_PERCENTILE,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ln.DEFAULT_COLLECTION_PERCENTILE=10,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ln.DEFAULT=new ln(mb,ln.DEFAULT_COLLECTION_PERCENTILE,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ln.DISABLED=new ln(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new go(0)}static lr(){return new go(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o1="LruGarbageCollector",JO=1048576;function l1([i,e],[t,s]){const o=Ie(i,t);return o===0?Ie(e,s):o}class eN{constructor(e){this.Er=e,this.buffer=new Ct(l1),this.dr=0}Ar(){return++this.dr}Rr(e){const t=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();l1(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class tN{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){ce(o1,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){So(t)?ce(o1,"Ignoring IndexedDB error during garbage collection: ",t):await wo(t)}await this.mr(3e5)})}}class nN{constructor(e,t){this.gr=e,this.params=t}calculateTargetCount(e,t){return this.gr.pr(e).next(s=>Math.floor(t/100*s))}nthSequenceNumber(e,t){if(t===0)return te.resolve(Kh.le);const s=new eN(t);return this.gr.forEachTarget(e,o=>s.Rr(o.sequenceNumber)).next(()=>this.gr.yr(e,o=>s.Rr(o))).next(()=>s.maxValue)}removeTargets(e,t,s){return this.gr.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.gr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ce("LruGarbageCollector","Garbage collection skipped; disabled"),te.resolve(a1)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),a1):this.wr(e,t))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,t){let s,o,u,h,m,p,g;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(A=>(A>this.params.maximumSequenceNumbersToCollect?(ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),o=this.params.maximumSequenceNumbersToCollect):o=A,h=Date.now(),this.nthSequenceNumber(e,o))).next(A=>(s=A,m=Date.now(),this.removeTargets(e,s,t))).next(A=>(u=A,p=Date.now(),this.removeOrphanedDocuments(e,s))).next(A=>(g=Date.now(),to()<=ke.DEBUG&&ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-E}ms
	Determined least recently used ${o} in `+(m-h)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${A} documents in `+(g-p)+`ms
Total Duration: ${g-E}ms`),te.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:A})))}}function iN(i,e){return new nN(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rN{constructor(){this.changes=new sa(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Wt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?te.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sN{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aN{constructor(e,t,s,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(s!==null&&Ql(s.mutation,o,Yn.empty(),It.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.getLocalViewOfDocuments(e,s,Me()).next(()=>s))}getLocalViewOfDocuments(e,t,s=Me()){const o=Gs();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,s).next(u=>{let h=zl();return u.forEach((m,p)=>{h=h.insert(m,p.overlayedDocument)}),h}))}getOverlayedDocuments(e,t){const s=Gs();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,Me()))}populateOverlays(e,t,s){const o=[];return s.forEach(u=>{t.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((h,m)=>{t.set(h,m)})})}computeViews(e,t,s,o){let u=ar();const h=Yl(),m=function(){return Yl()}();return t.forEach((p,g)=>{const E=s.get(g.key);o.has(g.key)&&(E===void 0||E.mutation instanceof aa)?u=u.insert(g.key,g):E!==void 0?(h.set(g.key,E.mutation.getFieldMask()),Ql(E.mutation,g,E.mutation.getFieldMask(),It.now())):h.set(g.key,Yn.empty())}),this.recalculateAndSaveOverlays(e,u).next(p=>(p.forEach((g,E)=>h.set(g,E)),t.forEach((g,E)=>{var A;return m.set(g,new sN(E,(A=h.get(g))!==null&&A!==void 0?A:null))}),m))}recalculateAndSaveOverlays(e,t){const s=Yl();let o=new ot((h,m)=>h-m),u=Me();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(h=>{for(const m of h)m.keys().forEach(p=>{const g=t.get(p);if(g===null)return;let E=s.get(p)||Yn.empty();E=m.applyToLocalView(g,E),s.set(p,E);const A=(o.get(m.batchId)||Me()).add(p);o=o.insert(m.batchId,A)})}).next(()=>{const h=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,E=p.value,A=QT();E.forEach(S=>{if(!u.has(S)){const N=tb(t.get(S),s.get(S));N!==null&&A.set(S,N),u=u.add(S)}}),h.push(this.documentOverlayCache.saveOverlays(e,g,A))}return te.waitFor(h)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,t,s,o){return function(h){return ye.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):FT(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,o):this.getDocumentsMatchingCollectionQuery(e,t,s,o)}getNextDocuments(e,t,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,o).next(u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,o-u.size):te.resolve(Gs());let m=nu,p=u;return h.next(g=>te.forEach(g,(E,A)=>(m<A.largestBatchId&&(m=A.largestBatchId),u.get(E)?te.resolve():this.remoteDocumentCache.getEntry(e,E).next(S=>{p=p.insert(E,S)}))).next(()=>this.populateOverlays(e,g,u)).next(()=>this.computeViews(e,p,g,Me())).next(E=>({batchId:m,changes:YT(E)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ye(t)).next(s=>{let o=zl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,s,o){const u=t.collectionGroup;let h=zl();return this.indexManager.getCollectionParents(e,u).next(m=>te.forEach(m,p=>{const g=function(A,S){return new pu(S,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)}(t,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next(E=>{E.forEach((A,S)=>{h=h.insert(A,S)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(e,t,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next(h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,u,o))).next(h=>{u.forEach((p,g)=>{const E=g.getKey();h.get(E)===null&&(h=h.insert(E,Wt.newInvalidDocument(E)))});let m=zl();return h.forEach((p,g)=>{const E=u.get(p);E!==void 0&&Ql(E.mutation,g,Yn.empty(),It.now()),Wh(t,g)&&(m=m.insert(p,g))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oN{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,t){return te.resolve(this.kr.get(t))}saveBundleMetadata(e,t){return this.kr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:_i(o.createTime)}}(t)),te.resolve()}getNamedQuery(e,t){return te.resolve(this.qr.get(t))}saveNamedQuery(e,t){return this.qr.set(t.name,function(o){return{name:o.name,query:XO(o.bundledQuery),readTime:_i(o.readTime)}}(t)),te.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lN{constructor(){this.overlays=new ot(ye.comparator),this.Qr=new Map}getOverlay(e,t){return te.resolve(this.overlays.get(t))}getOverlays(e,t){const s=Gs();return te.forEach(t,o=>this.getOverlay(e,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(e,t,s){return s.forEach((o,u)=>{this.St(e,t,u)}),te.resolve()}removeOverlaysForBatchId(e,t,s){const o=this.Qr.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Qr.delete(s)),te.resolve()}getOverlaysForCollection(e,t,s){const o=Gs(),u=t.length+1,h=new ye(t.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return te.resolve(o)}getOverlaysForCollectionGroup(e,t,s,o){let u=new ot((g,E)=>g-E);const h=this.overlays.getIterator();for(;h.hasNext();){const g=h.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>s){let E=u.get(g.largestBatchId);E===null&&(E=Gs(),u=u.insert(g.largestBatchId,E)),E.set(g.getKey(),g)}}const m=Gs(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,E)=>m.set(g,E)),!(m.size()>=o)););return te.resolve(m)}St(e,t,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.Qr.get(o.largestBatchId).delete(s.key);this.Qr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new xO(t,s));let u=this.Qr.get(t);u===void 0&&(u=Me(),this.Qr.set(t,u)),this.Qr.set(t,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uN{constructor(){this.sessionToken=Gt.EMPTY_BYTE_STRING}getSessionToken(e){return te.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,te.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kp{constructor(){this.$r=new Ct(Pt.Ur),this.Kr=new Ct(Pt.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,t){const s=new Pt(e,t);this.$r=this.$r.add(s),this.Kr=this.Kr.add(s)}Gr(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.zr(new Pt(e,t))}jr(e,t){e.forEach(s=>this.removeReference(s,t))}Hr(e){const t=new ye(new tt([])),s=new Pt(t,e),o=new Pt(t,e+1),u=[];return this.Kr.forEachInRange([s,o],h=>{this.zr(h),u.push(h.key)}),u}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const t=new ye(new tt([])),s=new Pt(t,e),o=new Pt(t,e+1);let u=Me();return this.Kr.forEachInRange([s,o],h=>{u=u.add(h.key)}),u}containsKey(e){const t=new Pt(e,0),s=this.$r.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class Pt{constructor(e,t){this.key=e,this.Zr=t}static Ur(e,t){return ye.comparator(e.key,t.key)||Ie(e.Zr,t.Zr)}static Wr(e,t){return Ie(e.Zr,t.Zr)||ye.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cN{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.nr=1,this.Xr=new Ct(Pt.Ur)}checkEmpty(e){return te.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,o){const u=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new RO(u,t,s,o);this.mutationQueue.push(h);for(const m of o)this.Xr=this.Xr.add(new Pt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return te.resolve(h)}lookupMutationBatch(e,t){return te.resolve(this.ei(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,o=this.ti(s),u=o<0?0:o;return te.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return te.resolve(this.mutationQueue.length===0?Lp:this.nr-1)}getAllMutationBatches(e){return te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new Pt(t,0),o=new Pt(t,Number.POSITIVE_INFINITY),u=[];return this.Xr.forEachInRange([s,o],h=>{const m=this.ei(h.Zr);u.push(m)}),te.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new Ct(Ie);return t.forEach(o=>{const u=new Pt(o,0),h=new Pt(o,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([u,h],m=>{s=s.add(m.Zr)})}),te.resolve(this.ni(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,o=s.length+1;let u=s;ye.isDocumentKey(u)||(u=u.child(""));const h=new Pt(new ye(u),0);let m=new Ct(Ie);return this.Xr.forEachWhile(p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Zr)),!0)},h),te.resolve(this.ni(m))}ni(e){const t=[];return e.forEach(s=>{const o=this.ei(s);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){He(this.ri(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Xr;return te.forEach(t.mutations,o=>{const u=new Pt(o.key,t.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Xr=s})}sr(e){}containsKey(e,t){const s=new Pt(t,0),o=this.Xr.firstAfterOrEqual(s);return te.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,te.resolve()}ri(e,t){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const t=this.ti(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hN{constructor(e){this.ii=e,this.docs=function(){return new ot(ye.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,o=this.docs.get(s),u=o?o.size:0,h=this.ii(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return te.resolve(s?s.document.mutableCopy():Wt.newInvalidDocument(t))}getEntries(e,t){let s=ar();return t.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Wt.newInvalidDocument(o))}),te.resolve(s)}getDocumentsMatchingQuery(e,t,s,o){let u=ar();const h=t.path,m=new ye(h.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:E}}=p.getNext();if(!h.isPrefixOf(g.path))break;g.path.length>h.length+1||BD(zD(E),s)<=0||(o.has(E.key)||Wh(t,E))&&(u=u.insert(E.key,E.mutableCopy()))}return te.resolve(u)}getAllFromCollectionGroup(e,t,s,o){Ee(9500)}si(e,t){return te.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new fN(this)}getSize(e){return te.resolve(this.size)}}class fN extends rN{constructor(e){super(),this.Br=e}applyChanges(e){const t=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?t.push(this.Br.addEntry(e,o)):this.Br.removeEntry(s)}),te.waitFor(t)}getFromCache(e,t){return this.Br.getEntry(e,t)}getAllFromCache(e,t){return this.Br.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dN{constructor(e){this.persistence=e,this.oi=new sa(t=>zp(t),Bp),this.lastRemoteSnapshotVersion=Se.min(),this.highestTargetId=0,this._i=0,this.ai=new Kp,this.targetCount=0,this.ui=go.cr()}forEachTarget(e,t){return this.oi.forEach((s,o)=>t(o)),te.resolve()}getLastRemoteSnapshotVersion(e){return te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return te.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),te.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this._i&&(this._i=t),te.resolve()}Tr(e){this.oi.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ui=new go(t),this.highestTargetId=t),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,t){return this.Tr(t),this.targetCount+=1,te.resolve()}updateTargetData(e,t){return this.Tr(t),te.resolve()}removeTargetData(e,t){return this.oi.delete(t.target),this.ai.Hr(t.targetId),this.targetCount-=1,te.resolve()}removeTargets(e,t,s){let o=0;const u=[];return this.oi.forEach((h,m)=>{m.sequenceNumber<=t&&s.get(m.targetId)===null&&(this.oi.delete(h),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),te.waitFor(u).next(()=>o)}getTargetCount(e){return te.resolve(this.targetCount)}getTargetData(e,t){const s=this.oi.get(t)||null;return te.resolve(s)}addMatchingKeys(e,t,s){return this.ai.Gr(t,s),te.resolve()}removeMatchingKeys(e,t,s){this.ai.jr(t,s);const o=this.persistence.referenceDelegate,u=[];return o&&t.forEach(h=>{u.push(o.markPotentiallyOrphaned(e,h))}),te.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.ai.Hr(t),te.resolve()}getMatchingKeysForTargetId(e,t){const s=this.ai.Yr(t);return te.resolve(s)}containsKey(e,t){return te.resolve(this.ai.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pb{constructor(e,t){this.ci={},this.overlays={},this.li=new Kh(0),this.hi=!1,this.hi=!0,this.Pi=new uN,this.referenceDelegate=e(this),this.Ti=new dN(this),this.indexManager=new WO,this.remoteDocumentCache=function(o){return new hN(o)}(s=>this.referenceDelegate.Ii(s)),this.serializer=new QO(t),this.Ei=new oN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new lN,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.ci[e.toKey()];return s||(s=new cN(t,this.referenceDelegate),this.ci[e.toKey()]=s),s}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,t,s){ce("MemoryPersistence","Starting transaction:",e);const o=new mN(this.li.next());return this.referenceDelegate.di(),s(o).next(u=>this.referenceDelegate.Ai(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Ri(e,t){return te.or(Object.values(this.ci).map(s=>()=>s.containsKey(e,t)))}}class mN extends HD{constructor(e){super(),this.currentSequenceNumber=e}}class Yp{constructor(e){this.persistence=e,this.Vi=new Kp,this.mi=null}static fi(e){return new Yp(e)}get gi(){if(this.mi)return this.mi;throw Ee(60996)}addReference(e,t,s){return this.Vi.addReference(s,t),this.gi.delete(s.toString()),te.resolve()}removeReference(e,t,s){return this.Vi.removeReference(s,t),this.gi.add(s.toString()),te.resolve()}markPotentiallyOrphaned(e,t){return this.gi.add(t.toString()),te.resolve()}removeTarget(e,t){this.Vi.Hr(t.targetId).forEach(o=>this.gi.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(u=>this.gi.add(u.toString()))}).next(()=>s.removeTargetData(e,t))}di(){this.mi=new Set}Ai(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return te.forEach(this.gi,s=>{const o=ye.fromPath(s);return this.pi(e,o).next(u=>{u||t.removeEntry(o,Se.min())})}).next(()=>(this.mi=null,t.apply(e)))}updateLimboDocument(e,t){return this.pi(e,t).next(s=>{s?this.gi.delete(t.toString()):this.gi.add(t.toString())})}Ii(e){return 0}pi(e,t){return te.or([()=>te.resolve(this.Vi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ri(e,t)])}}class Nh{constructor(e,t){this.persistence=e,this.yi=new sa(s=>$D(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=iN(this,t)}static fi(e,t){return new Nh(e,t)}di(){}Ai(e){return te.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}pr(e){const t=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>t.next(o=>s+o))}br(e){let t=0;return this.yr(e,s=>{t++}).next(()=>t)}yr(e,t){return te.forEach(this.yi,(s,o)=>this.Dr(e,s,o).next(u=>u?te.resolve():t(o)))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.si(e,h=>this.Dr(e,h,t).next(m=>{m||(s++,u.removeEntry(h,Se.min()))})).next(()=>u.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,t){return this.yi.set(t,e.currentSequenceNumber),te.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.yi.set(s,e.currentSequenceNumber),te.resolve()}removeReference(e,t,s){return this.yi.set(s,e.currentSequenceNumber),te.resolve()}updateLimboDocument(e,t){return this.yi.set(t,e.currentSequenceNumber),te.resolve()}Ii(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=ah(e.data.value)),t}Dr(e,t,s){return te.or([()=>this.persistence.Ri(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.yi.get(t);return te.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qp{constructor(e,t,s,o){this.targetId=e,this.fromCache=t,this.ds=s,this.As=o}static Rs(e,t){let s=Me(),o=Me();for(const u of t.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Qp(e,t.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gN{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return GR()?8:FD(Zt())>0?6:4}()}initialize(e,t){this.ys=e,this.indexManager=t,this.Vs=!0}getDocumentsMatchingQuery(e,t,s,o){const u={result:null};return this.ws(e,t).next(h=>{u.result=h}).next(()=>{if(!u.result)return this.bs(e,t,o,s).next(h=>{u.result=h})}).next(()=>{if(u.result)return;const h=new pN;return this.Ss(e,t,h).next(m=>{if(u.result=m,this.fs)return this.Ds(e,t,h,m.size)})}).next(()=>u.result)}Ds(e,t,s,o){return s.documentReadCount<this.gs?(to()<=ke.DEBUG&&ce("QueryEngine","SDK will not create cache indexes for query:",no(t),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),te.resolve()):(to()<=ke.DEBUG&&ce("QueryEngine","Query:",no(t),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ps*o?(to()<=ke.DEBUG&&ce("QueryEngine","The SDK decides to create cache indexes for query:",no(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,vi(t))):te.resolve())}ws(e,t){if(X_(t))return te.resolve(null);let s=vi(t);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=Ih(t,null,"F"),s=vi(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const h=Me(...u);return this.ys.getDocuments(e,h).next(m=>this.indexManager.getMinOffset(e,s).next(p=>{const g=this.vs(t,m);return this.Cs(t,g,h,p.readTime)?this.ws(e,Ih(t,null,"F")):this.Fs(e,g,t,p)}))})))}bs(e,t,s,o){return X_(t)||o.isEqual(Se.min())?te.resolve(null):this.ys.getDocuments(e,s).next(u=>{const h=this.vs(t,u);return this.Cs(t,h,s,o)?te.resolve(null):(to()<=ke.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),no(t)),this.Fs(e,h,t,jD(o,nu)).next(m=>m))})}vs(e,t){let s=new Ct($T(e));return t.forEach((o,u)=>{Wh(e,u)&&(s=s.add(u))}),s}Cs(e,t,s,o){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const u=e.limitType==="F"?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,t,s){return to()<=ke.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",no(t)),this.ys.getDocumentsMatchingQuery(e,t,Zr.min(),s)}Fs(e,t,s,o){return this.ys.getDocumentsMatchingQuery(e,s,o).next(u=>(t.forEach(h=>{u=u.insert(h.key,h)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xp="LocalStore",yN=3e8;class vN{constructor(e,t,s,o){this.persistence=e,this.Ms=t,this.serializer=o,this.xs=new ot(Ie),this.Os=new sa(u=>zp(u),Bp),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(s)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new aN(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.xs))}}function _N(i,e,t,s){return new vN(i,e,t,s)}async function gb(i,e){const t=Ae(i);return await t.persistence.runTransaction("Handle user change","readonly",s=>{let o;return t.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,t.Ls(e),t.mutationQueue.getAllMutationBatches(s))).next(u=>{const h=[],m=[];let p=Me();for(const g of o){h.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}for(const g of u){m.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}return t.localDocuments.getDocuments(s,p).next(g=>({ks:g,removedBatchIds:h,addedBatchIds:m}))})})}function EN(i,e){const t=Ae(i);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),u=t.Bs.newChangeBuffer({trackRemovals:!0});return function(m,p,g,E){const A=g.batch,S=A.keys();let N=te.resolve();return S.forEach(O=>{N=N.next(()=>E.getEntry(p,O)).next($=>{const L=g.docVersions.get(O);He(L!==null,48541),$.version.compareTo(L)<0&&(A.applyToRemoteDocument($,g),$.isValidDocument()&&($.setReadTime(g.commitVersion),E.addEntry($)))})}),N.next(()=>m.mutationQueue.removeMutationBatch(p,A))}(t,s,e,u).next(()=>u.apply(s)).next(()=>t.mutationQueue.performConsistencyCheck(s)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let p=Me();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p}(e))).next(()=>t.localDocuments.getDocuments(s,o))})}function yb(i){const e=Ae(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ti.getLastRemoteSnapshotVersion(t))}function TN(i,e){const t=Ae(i),s=e.snapshotVersion;let o=t.xs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const h=t.Bs.newChangeBuffer({trackRemovals:!0});o=t.xs;const m=[];e.targetChanges.forEach((E,A)=>{const S=o.get(A);if(!S)return;m.push(t.Ti.removeMatchingKeys(u,E.removedDocuments,A).next(()=>t.Ti.addMatchingKeys(u,E.addedDocuments,A)));let N=S.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(A)!==null?N=N.withResumeToken(Gt.EMPTY_BYTE_STRING,Se.min()).withLastLimboFreeSnapshotVersion(Se.min()):E.resumeToken.approximateByteSize()>0&&(N=N.withResumeToken(E.resumeToken,s)),o=o.insert(A,N),function($,L,V){return $.resumeToken.approximateByteSize()===0||L.snapshotVersion.toMicroseconds()-$.snapshotVersion.toMicroseconds()>=yN?!0:V.addedDocuments.size+V.modifiedDocuments.size+V.removedDocuments.size>0}(S,N,E)&&m.push(t.Ti.updateTargetData(u,N))});let p=ar(),g=Me();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&m.push(t.persistence.referenceDelegate.updateLimboDocument(u,E))}),m.push(bN(u,h,e.documentUpdates).next(E=>{p=E.qs,g=E.Qs})),!s.isEqual(Se.min())){const E=t.Ti.getLastRemoteSnapshotVersion(u).next(A=>t.Ti.setTargetsMetadata(u,u.currentSequenceNumber,s));m.push(E)}return te.waitFor(m).next(()=>h.apply(u)).next(()=>t.localDocuments.getLocalViewOfDocuments(u,p,g)).next(()=>p)}).then(u=>(t.xs=o,u))}function bN(i,e,t){let s=Me(),o=Me();return t.forEach(u=>s=s.add(u)),e.getEntries(i,s).next(u=>{let h=ar();return t.forEach((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Se.min())?(e.removeEntry(m,p.readTime),h=h.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),h=h.insert(m,p)):ce(Xp,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)}),{qs:h,Qs:o}})}function wN(i,e){const t=Ae(i);return t.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=Lp),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function SN(i,e){const t=Ae(i);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return t.Ti.getTargetData(s,e).next(u=>u?(o=u,te.resolve(o)):t.Ti.allocateTargetId(s).next(h=>(o=new Gr(e,h,"TargetPurposeListen",s.currentSequenceNumber),t.Ti.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=t.xs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.xs=t.xs.insert(s.targetId,s),t.Os.set(e,s.targetId)),s})}async function rp(i,e,t){const s=Ae(i),o=s.xs.get(e),u=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",u,h=>s.persistence.referenceDelegate.removeTarget(h,o))}catch(h){if(!So(h))throw h;ce(Xp,`Failed to update sequence numbers for target ${e}: ${h}`)}s.xs=s.xs.remove(e),s.Os.delete(o.target)}function u1(i,e,t){const s=Ae(i);let o=Se.min(),u=Me();return s.persistence.runTransaction("Execute query","readwrite",h=>function(p,g,E){const A=Ae(p),S=A.Os.get(E);return S!==void 0?te.resolve(A.xs.get(S)):A.Ti.getTargetData(g,E)}(s,h,vi(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Ti.getMatchingKeysForTargetId(h,m.targetId).next(p=>{u=p})}).next(()=>s.Ms.getDocumentsMatchingQuery(h,e,t?o:Se.min(),t?u:Me())).next(m=>(AN(s,hO(e),m),{documents:m,$s:u})))}function AN(i,e,t){let s=i.Ns.get(e)||Se.min();t.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),i.Ns.set(e,s)}class c1{constructor(){this.activeTargetIds=yO()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class RN{constructor(){this.xo=new c1,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,t,s){this.Oo[e]=t}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new c1,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xN{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h1="ConnectivityMonitor";class f1{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){ce(h1,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){ce(h1,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xc=null;function sp(){return Xc===null?Xc=function(){return 268435456+Math.round(2147483648*Math.random())}():Xc++,"0x"+Xc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cm="RestConnection",IN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class CN{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Ko=t+"://"+e.host,this.Wo=`projects/${s}/databases/${o}`,this.Go=this.databaseId.database===Sh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}zo(e,t,s,o,u){const h=sp(),m=this.jo(e,t.toUriEncodedString());ce(Cm,`Sending RPC '${e}' ${h}:`,m,s);const p={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(p,o,u);const{host:g}=new URL(m),E=rs(g);return this.Jo(e,m,p,s,E).then(A=>(ce(Cm,`Received RPC '${e}' ${h}: `,A),A),A=>{throw ho(Cm,`RPC '${e}' ${h} failed with error: `,A,"url: ",m,"request:",s),A})}Yo(e,t,s,o,u,h){return this.zo(e,t,s,o,u)}Ho(e,t,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+bo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,u)=>e[u]=o),s&&s.headers.forEach((o,u)=>e[u]=o)}jo(e,t){const s=IN[e];return`${this.Ko}/v1/${t}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DN{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qt="WebChannelConnection";class ON extends CN{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,s,o,u){const h=sp();return new Promise((m,p)=>{const g=new _T;g.setWithCredentials(!0),g.listenOnce(ET.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case sh.NO_ERROR:const A=g.getResponseJson();ce(Qt,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(A)),m(A);break;case sh.TIMEOUT:ce(Qt,`RPC '${e}' ${h} timed out`),p(new he(ne.DEADLINE_EXCEEDED,"Request time out"));break;case sh.HTTP_ERROR:const S=g.getStatus();if(ce(Qt,`RPC '${e}' ${h} failed with status:`,S,"response text:",g.getResponseText()),S>0){let N=g.getResponseJson();Array.isArray(N)&&(N=N[0]);const O=N?.error;if(O&&O.status&&O.message){const $=function(V){const Q=V.toLowerCase().replace(/_/g,"-");return Object.values(ne).indexOf(Q)>=0?Q:ne.UNKNOWN}(O.status);p(new he($,O.message))}else p(new he(ne.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new he(ne.UNAVAILABLE,"Connection failed."));break;default:Ee(9055,{h_:e,streamId:h,P_:g.getLastErrorCode(),T_:g.getLastError()})}}finally{ce(Qt,`RPC '${e}' ${h} completed.`)}});const E=JSON.stringify(o);ce(Qt,`RPC '${e}' ${h} sending request:`,o),g.send(t,"POST",E,s,15)})}I_(e,t,s){const o=sp(),u=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=wT(),m=bT(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Ho(p.initMessageHeaders,t,s),p.encodeInitMessageHeaders=!0;const E=u.join("");ce(Qt,`Creating RPC '${e}' stream ${o}: ${E}`,p);const A=h.createWebChannel(E,p);this.E_(A);let S=!1,N=!1;const O=new DN({Zo:L=>{N?ce(Qt,`Not sending because RPC '${e}' stream ${o} is closed:`,L):(S||(ce(Qt,`Opening RPC '${e}' stream ${o} transport.`),A.open(),S=!0),ce(Qt,`RPC '${e}' stream ${o} sending:`,L),A.send(L))},Xo:()=>A.close()}),$=(L,V,Q)=>{L.listen(V,ie=>{try{Q(ie)}catch(ue){setTimeout(()=>{throw ue},0)}})};return $(A,jl.EventType.OPEN,()=>{N||(ce(Qt,`RPC '${e}' stream ${o} transport opened.`),O.__())}),$(A,jl.EventType.CLOSE,()=>{N||(N=!0,ce(Qt,`RPC '${e}' stream ${o} transport closed`),O.u_(),this.d_(A))}),$(A,jl.EventType.ERROR,L=>{N||(N=!0,ho(Qt,`RPC '${e}' stream ${o} transport errored. Name:`,L.name,"Message:",L.message),O.u_(new he(ne.UNAVAILABLE,"The operation could not be completed")))}),$(A,jl.EventType.MESSAGE,L=>{var V;if(!N){const Q=L.data[0];He(!!Q,16349);const ie=Q,ue=ie?.error||((V=ie[0])===null||V===void 0?void 0:V.error);if(ue){ce(Qt,`RPC '${e}' stream ${o} received error:`,ue);const le=ue.status;let de=function(I){const k=Tt[I];if(k!==void 0)return rb(k)}(le),M=ue.message;de===void 0&&(de=ne.INTERNAL,M="Unknown error status: "+le+" with message "+ue.message),N=!0,O.u_(new he(de,M)),A.close()}else ce(Qt,`RPC '${e}' stream ${o} received:`,Q),O.c_(Q)}}),$(m,TT.STAT_EVENT,L=>{L.stat===Km.PROXY?ce(Qt,`RPC '${e}' stream ${o} detected buffering proxy`):L.stat===Km.NOPROXY&&ce(Qt,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{O.a_()},0),O}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(t=>t===e)}}function Dm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tf(i){return new VO(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vb{constructor(e,t,s=1e3,o=1.5,u=6e4){this.xi=e,this.timerId=t,this.A_=s,this.R_=o,this.V_=u,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const t=Math.floor(this.m_+this.w_()),s=Math.max(0,Date.now()-this.g_),o=Math.max(0,t-s);o>0&&ce("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.m_} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,o,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d1="PersistentStream";class _b{constructor(e,t,s,o,u,h,m,p){this.xi=e,this.S_=s,this.D_=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new vb(e,t)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(e,t){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():t&&t.code===ne.RESOURCE_EXHAUSTED?(sr(t.toString()),sr("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):t&&t.code===ne.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(t)}W_(){}auth(){this.state=1;const e=this.G_(this.v_),t=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.v_===t&&this.z_(s,o)},s=>{e(()=>{const o=new he(ne.UNKNOWN,"Fetching auth token failed: "+s.message);return this.j_(o)})})}z_(e,t){const s=this.G_(this.v_);this.stream=this.H_(e,t),this.stream.e_(()=>{s(()=>this.listener.e_())}),this.stream.n_(()=>{s(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(o=>{s(()=>this.j_(o))}),this.stream.onMessage(o=>{s(()=>++this.M_==1?this.J_(o):this.onNext(o))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(e){return ce(d1,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return t=>{this.xi.enqueueAndForget(()=>this.v_===e?t():(ce(d1,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class NN extends _b{constructor(e,t,s,o,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,o,h),this.serializer=u}H_(e,t){return this.connection.I_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();const t=UO(this.serializer,e),s=function(u){if(!("targetChange"in u))return Se.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?Se.min():h.readTime?_i(h.readTime):Se.min()}(e);return this.listener.Y_(t,s)}Z_(e){const t={};t.database=ip(this.serializer),t.addTarget=function(u,h){let m;const p=h.target;if(m=Zm(p)?{documents:BO(u,p)}:{query:qO(u,p).gt},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){m.resumeToken=ob(u,h.resumeToken);const g=ep(u,h.expectedCount);g!==null&&(m.expectedCount=g)}else if(h.snapshotVersion.compareTo(Se.min())>0){m.readTime=Oh(u,h.snapshotVersion.toTimestamp());const g=ep(u,h.expectedCount);g!==null&&(m.expectedCount=g)}return m}(this.serializer,e);const s=FO(this.serializer,e);s&&(t.labels=s),this.Q_(t)}X_(e){const t={};t.database=ip(this.serializer),t.removeTarget=e,this.Q_(t)}}class kN extends _b{constructor(e,t,s,o,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,o,h),this.serializer=u}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,t){return this.connection.I_("Write",e,t)}J_(e){return He(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,He(!e.writeResults||e.writeResults.length===0,55816),this.listener.na()}onNext(e){He(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();const t=zO(e.writeResults,e.commitTime),s=_i(e.commitTime);return this.listener.ra(s,t)}ia(){const e={};e.database=ip(this.serializer),this.Q_(e)}ta(e){const t={streamToken:this.lastStreamToken,writes:e.map(s=>jO(this.serializer,s))};this.Q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MN{}class VN extends MN{constructor(e,t,s,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=o,this.sa=!1}oa(){if(this.sa)throw new he(ne.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,t,s,o){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.zo(e,tp(t,s),o,u,h)).catch(u=>{throw u.name==="FirebaseError"?(u.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new he(ne.UNKNOWN,u.toString())})}Yo(e,t,s,o,u){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,m])=>this.connection.Yo(e,tp(t,s),o,h,m,u)).catch(h=>{throw h.name==="FirebaseError"?(h.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new he(ne.UNKNOWN,h.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class PN{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(sr(t),this.ua=!1):ce("OnlineStateTracker",t)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zs="RemoteStore";class LN{constructor(e,t,s,o,u){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=u,this.Ra.No(h=>{s.enqueueAndForget(async()=>{oa(this)&&(ce(Zs,"Restarting streams for network reachability change."),await async function(p){const g=Ae(p);g.da.add(4),await vu(g),g.Va.set("Unknown"),g.da.delete(4),await nf(g)}(this))})}),this.Va=new PN(s,o)}}async function nf(i){if(oa(i))for(const e of i.Aa)await e(!0)}async function vu(i){for(const e of i.Aa)await e(!1)}function Eb(i,e){const t=Ae(i);t.Ea.has(e.targetId)||(t.Ea.set(e.targetId,e),eg(t)?Jp(t):Ao(t).N_()&&Zp(t,e))}function Wp(i,e){const t=Ae(i),s=Ao(t);t.Ea.delete(e),s.N_()&&Tb(t,e),t.Ea.size===0&&(s.N_()?s.k_():oa(t)&&t.Va.set("Unknown"))}function Zp(i,e){if(i.ma.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Se.min())>0){const t=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Ao(i).Z_(e)}function Tb(i,e){i.ma.Ke(e),Ao(i).X_(e)}function Jp(i){i.ma=new OO({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>i.Ea.get(e)||null,Pt:()=>i.datastore.serializer.databaseId}),Ao(i).start(),i.Va.ca()}function eg(i){return oa(i)&&!Ao(i).O_()&&i.Ea.size>0}function oa(i){return Ae(i).da.size===0}function bb(i){i.ma=void 0}async function UN(i){i.Va.set("Online")}async function jN(i){i.Ea.forEach((e,t)=>{Zp(i,e)})}async function zN(i,e){bb(i),eg(i)?(i.Va.Pa(e),Jp(i)):i.Va.set("Unknown")}async function BN(i,e,t){if(i.Va.set("Online"),e instanceof ab&&e.state===2&&e.cause)try{await async function(o,u){const h=u.cause;for(const m of u.targetIds)o.Ea.has(m)&&(await o.remoteSyncer.rejectListen(m,h),o.Ea.delete(m),o.ma.removeTarget(m))}(i,e)}catch(s){ce(Zs,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await kh(i,s)}else if(e instanceof uh?i.ma.Xe(e):e instanceof sb?i.ma.ot(e):i.ma.nt(e),!t.isEqual(Se.min()))try{const s=await yb(i.localStore);t.compareTo(s)>=0&&await function(u,h){const m=u.ma.It(h);return m.targetChanges.forEach((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const E=u.Ea.get(g);E&&u.Ea.set(g,E.withResumeToken(p.resumeToken,h))}}),m.targetMismatches.forEach((p,g)=>{const E=u.Ea.get(p);if(!E)return;u.Ea.set(p,E.withResumeToken(Gt.EMPTY_BYTE_STRING,E.snapshotVersion)),Tb(u,p);const A=new Gr(E.target,p,g,E.sequenceNumber);Zp(u,A)}),u.remoteSyncer.applyRemoteEvent(m)}(i,t)}catch(s){ce(Zs,"Failed to raise snapshot:",s),await kh(i,s)}}async function kh(i,e,t){if(!So(e))throw e;i.da.add(1),await vu(i),i.Va.set("Offline"),t||(t=()=>yb(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{ce(Zs,"Retrying IndexedDB access"),await t(),i.da.delete(1),await nf(i)})}function wb(i,e){return e().catch(t=>kh(i,t,e))}async function rf(i){const e=Ae(i),t=ns(e);let s=e.Ia.length>0?e.Ia[e.Ia.length-1].batchId:Lp;for(;qN(e);)try{const o=await wN(e.localStore,s);if(o===null){e.Ia.length===0&&t.k_();break}s=o.batchId,HN(e,o)}catch(o){await kh(e,o)}Sb(e)&&Ab(e)}function qN(i){return oa(i)&&i.Ia.length<10}function HN(i,e){i.Ia.push(e);const t=ns(i);t.N_()&&t.ea&&t.ta(e.mutations)}function Sb(i){return oa(i)&&!ns(i).O_()&&i.Ia.length>0}function Ab(i){ns(i).start()}async function FN(i){ns(i).ia()}async function GN(i){const e=ns(i);for(const t of i.Ia)e.ta(t.mutations)}async function $N(i,e,t){const s=i.Ia.shift(),o=Fp.from(s,e,t);await wb(i,()=>i.remoteSyncer.applySuccessfulWrite(o)),await rf(i)}async function KN(i,e){e&&ns(i).ea&&await async function(s,o){if(function(h){return CO(h)&&h!==ne.ABORTED}(o.code)){const u=s.Ia.shift();ns(s).L_(),await wb(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await rf(s)}}(i,e),Sb(i)&&Ab(i)}async function m1(i,e){const t=Ae(i);t.asyncQueue.verifyOperationInProgress(),ce(Zs,"RemoteStore received new credentials");const s=oa(t);t.da.add(3),await vu(t),s&&t.Va.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.da.delete(3),await nf(t)}async function YN(i,e){const t=Ae(i);e?(t.da.delete(2),await nf(t)):e||(t.da.add(2),await vu(t),t.Va.set("Unknown"))}function Ao(i){return i.fa||(i.fa=function(t,s,o){const u=Ae(t);return u.oa(),new NN(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{e_:UN.bind(null,i),n_:jN.bind(null,i),i_:zN.bind(null,i),Y_:BN.bind(null,i)}),i.Aa.push(async e=>{e?(i.fa.L_(),eg(i)?Jp(i):i.Va.set("Unknown")):(await i.fa.stop(),bb(i))})),i.fa}function ns(i){return i.ga||(i.ga=function(t,s,o){const u=Ae(t);return u.oa(),new kN(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{e_:()=>Promise.resolve(),n_:FN.bind(null,i),i_:KN.bind(null,i),na:GN.bind(null,i),ra:$N.bind(null,i)}),i.Aa.push(async e=>{e?(i.ga.L_(),await rf(i)):(await i.ga.stop(),i.Ia.length>0&&(ce(Zs,`Stopping write stream with ${i.Ia.length} pending writes`),i.Ia=[]))})),i.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tg{constructor(e,t,s,o,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new Ji,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,o,u){const h=Date.now()+s,m=new tg(e,t,h,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new he(ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ng(i,e){if(sr("AsyncQueue",`${e}: ${i}`),So(i))return new he(ne.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo{static emptySet(e){return new uo(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||ye.comparator(t.key,s.key):(t,s)=>ye.comparator(t.key,s.key),this.keyedMap=zl(),this.sortedSet=new ot(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof uo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new uo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p1{constructor(){this.pa=new ot(ye.comparator)}track(e){const t=e.doc.key,s=this.pa.get(t);s?e.type!==0&&s.type===3?this.pa=this.pa.insert(t,e):e.type===3&&s.type!==1?this.pa=this.pa.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.pa=this.pa.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.pa=this.pa.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.pa=this.pa.remove(t):e.type===1&&s.type===2?this.pa=this.pa.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.pa=this.pa.insert(t,{type:2,doc:e.doc}):Ee(63341,{Vt:e,ya:s}):this.pa=this.pa.insert(t,e)}wa(){const e=[];return this.pa.inorderTraversal((t,s)=>{e.push(s)}),e}}class yo{constructor(e,t,s,o,u,h,m,p,g){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,t,s,o,u){const h=[];return t.forEach(m=>{h.push({type:0,doc:m})}),new yo(e,t,uo.emptySet(t),h,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Xh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==s[o].type||!t[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QN{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}}class XN{constructor(){this.queries=g1(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,s){const o=Ae(t),u=o.queries;o.queries=g1(),u.forEach((h,m)=>{for(const p of m.Sa)p.onError(s)})})(this,new he(ne.ABORTED,"Firestore shutting down"))}}function g1(){return new sa(i=>GT(i),Xh)}async function Rb(i,e){const t=Ae(i);let s=3;const o=e.query;let u=t.queries.get(o);u?!u.Da()&&e.va()&&(s=2):(u=new QN,s=e.va()?0:1);try{switch(s){case 0:u.ba=await t.onListen(o,!0);break;case 1:u.ba=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(h){const m=ng(h,`Initialization of query '${no(e.query)}' failed`);return void e.onError(m)}t.queries.set(o,u),u.Sa.push(e),e.Fa(t.onlineState),u.ba&&e.Ma(u.ba)&&ig(t)}async function xb(i,e){const t=Ae(i),s=e.query;let o=3;const u=t.queries.get(s);if(u){const h=u.Sa.indexOf(e);h>=0&&(u.Sa.splice(h,1),u.Sa.length===0?o=e.va()?0:1:!u.Da()&&e.va()&&(o=2))}switch(o){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function WN(i,e){const t=Ae(i);let s=!1;for(const o of e){const u=o.query,h=t.queries.get(u);if(h){for(const m of h.Sa)m.Ma(o)&&(s=!0);h.ba=o}}s&&ig(t)}function ZN(i,e,t){const s=Ae(i),o=s.queries.get(e);if(o)for(const u of o.Sa)u.onError(t);s.queries.delete(e)}function ig(i){i.Ca.forEach(e=>{e.next()})}var ap,y1;(y1=ap||(ap={})).xa="default",y1.Cache="cache";class Ib{constructor(e,t,s){this.query=e,this.Oa=t,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=s||{}}Ma(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new yo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Na?this.La(e)&&(this.Oa.next(e),t=!0):this.ka(e,this.onlineState)&&(this.qa(e),t=!0),this.Ba=e,t}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let t=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),t=!0),t}ka(e,t){if(!e.fromCache||!this.va())return!0;const s=t!=="Offline";return(!this.options.Qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}La(e){if(e.docChanges.length>0)return!0;const t=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}qa(e){e=yo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==ap.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cb{constructor(e){this.key=e}}class Db{constructor(e){this.key=e}}class JN{constructor(e,t){this.query=e,this.Ha=t,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Me(),this.mutatedKeys=Me(),this.Za=$T(e),this.Xa=new uo(this.Za)}get eu(){return this.Ha}tu(e,t){const s=t?t.nu:new p1,o=t?t.Xa:this.Xa;let u=t?t.mutatedKeys:this.mutatedKeys,h=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((E,A)=>{const S=o.get(E),N=Wh(this.query,A)?A:null,O=!!S&&this.mutatedKeys.has(S.key),$=!!N&&(N.hasLocalMutations||this.mutatedKeys.has(N.key)&&N.hasCommittedMutations);let L=!1;S&&N?S.data.isEqual(N.data)?O!==$&&(s.track({type:3,doc:N}),L=!0):this.ru(S,N)||(s.track({type:2,doc:N}),L=!0,(p&&this.Za(N,p)>0||g&&this.Za(N,g)<0)&&(m=!0)):!S&&N?(s.track({type:0,doc:N}),L=!0):S&&!N&&(s.track({type:1,doc:S}),L=!0,(p||g)&&(m=!0)),L&&(N?(h=h.add(N),u=$?u.add(E):u.delete(E)):(h=h.delete(E),u=u.delete(E)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const E=this.query.limitType==="F"?h.last():h.first();h=h.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{Xa:h,nu:s,Cs:m,mutatedKeys:u}}ru(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,o){const u=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;const h=e.nu.wa();h.sort((E,A)=>function(N,O){const $=L=>{switch(L){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ee(20277,{Vt:L})}};return $(N)-$(O)}(E.type,A.type)||this.Za(E.doc,A.doc)),this.iu(s),o=o!=null&&o;const m=t&&!o?this.su():[],p=this.Ya.size===0&&this.current&&!o?1:0,g=p!==this.Ja;return this.Ja=p,h.length!==0||g?{snapshot:new yo(this.query,e.Xa,u,h,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),ou:m}:{ou:m}}Fa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new p1,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(t=>this.Ha=this.Ha.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ha=this.Ha.delete(t)),this.current=e.current)}su(){if(!this.current)return[];const e=this.Ya;this.Ya=Me(),this.Xa.forEach(s=>{this._u(s.key)&&(this.Ya=this.Ya.add(s.key))});const t=[];return e.forEach(s=>{this.Ya.has(s)||t.push(new Db(s))}),this.Ya.forEach(s=>{e.has(s)||t.push(new Cb(s))}),t}au(e){this.Ha=e.$s,this.Ya=Me();const t=this.tu(e.documents);return this.applyChanges(t,!0)}uu(){return yo.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const rg="SyncEngine";class e4{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class t4{constructor(e){this.key=e,this.cu=!1}}class n4{constructor(e,t,s,o,u,h){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.lu={},this.hu=new sa(m=>GT(m),Xh),this.Pu=new Map,this.Tu=new Set,this.Iu=new ot(ye.comparator),this.Eu=new Map,this.du=new Kp,this.Au={},this.Ru=new Map,this.Vu=go.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function i4(i,e,t=!0){const s=Pb(i);let o;const u=s.hu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.uu()):o=await Ob(s,e,t,!0),o}async function r4(i,e){const t=Pb(i);await Ob(t,e,!0,!1)}async function Ob(i,e,t,s){const o=await SN(i.localStore,vi(e)),u=o.targetId,h=i.sharedClientState.addLocalQueryTarget(u,t);let m;return s&&(m=await s4(i,e,u,h==="current",o.resumeToken)),i.isPrimaryClient&&t&&Eb(i.remoteStore,o),m}async function s4(i,e,t,s,o){i.fu=(A,S,N)=>async function($,L,V,Q){let ie=L.view.tu(V);ie.Cs&&(ie=await u1($.localStore,L.query,!1).then(({documents:M})=>L.view.tu(M,ie)));const ue=Q&&Q.targetChanges.get(L.targetId),le=Q&&Q.targetMismatches.get(L.targetId)!=null,de=L.view.applyChanges(ie,$.isPrimaryClient,ue,le);return _1($,L.targetId,de.ou),de.snapshot}(i,A,S,N);const u=await u1(i.localStore,e,!0),h=new JN(e,u.$s),m=h.tu(u.documents),p=yu.createSynthesizedTargetChangeForCurrentChange(t,s&&i.onlineState!=="Offline",o),g=h.applyChanges(m,i.isPrimaryClient,p);_1(i,t,g.ou);const E=new e4(e,t,h);return i.hu.set(e,E),i.Pu.has(t)?i.Pu.get(t).push(e):i.Pu.set(t,[e]),g.snapshot}async function a4(i,e,t){const s=Ae(i),o=s.hu.get(e),u=s.Pu.get(o.targetId);if(u.length>1)return s.Pu.set(o.targetId,u.filter(h=>!Xh(h,e))),void s.hu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await rp(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),t&&Wp(s.remoteStore,o.targetId),op(s,o.targetId)}).catch(wo)):(op(s,o.targetId),await rp(s.localStore,o.targetId,!0))}async function o4(i,e){const t=Ae(i),s=t.hu.get(e),o=t.Pu.get(s.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),Wp(t.remoteStore,s.targetId))}async function l4(i,e,t){const s=p4(i);try{const o=await function(h,m){const p=Ae(h),g=It.now(),E=m.reduce((N,O)=>N.add(O.key),Me());let A,S;return p.persistence.runTransaction("Locally write mutations","readwrite",N=>{let O=ar(),$=Me();return p.Bs.getEntries(N,E).next(L=>{O=L,O.forEach((V,Q)=>{Q.isValidDocument()||($=$.add(V))})}).next(()=>p.localDocuments.getOverlayedDocuments(N,O)).next(L=>{A=L;const V=[];for(const Q of m){const ie=SO(Q,A.get(Q.key).overlayedDocument);ie!=null&&V.push(new aa(Q.key,ie,LT(ie.value.mapValue),er.exists(!0)))}return p.mutationQueue.addMutationBatch(N,g,V,m)}).next(L=>{S=L;const V=L.applyToLocalDocumentSet(A,$);return p.documentOverlayCache.saveOverlays(N,L.batchId,V)})}).then(()=>({batchId:S.batchId,changes:YT(A)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(h,m,p){let g=h.Au[h.currentUser.toKey()];g||(g=new ot(Ie)),g=g.insert(m,p),h.Au[h.currentUser.toKey()]=g}(s,o.batchId,t),await _u(s,o.changes),await rf(s.remoteStore)}catch(o){const u=ng(o,"Failed to persist write");t.reject(u)}}async function Nb(i,e){const t=Ae(i);try{const s=await TN(t.localStore,e);e.targetChanges.forEach((o,u)=>{const h=t.Eu.get(u);h&&(He(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.cu=!0:o.modifiedDocuments.size>0?He(h.cu,14607):o.removedDocuments.size>0&&(He(h.cu,42227),h.cu=!1))}),await _u(t,s,e)}catch(s){await wo(s)}}function v1(i,e,t){const s=Ae(i);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const o=[];s.hu.forEach((u,h)=>{const m=h.view.Fa(e);m.snapshot&&o.push(m.snapshot)}),function(h,m){const p=Ae(h);p.onlineState=m;let g=!1;p.queries.forEach((E,A)=>{for(const S of A.Sa)S.Fa(m)&&(g=!0)}),g&&ig(p)}(s.eventManager,e),o.length&&s.lu.Y_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function u4(i,e,t){const s=Ae(i);s.sharedClientState.updateQueryState(e,"rejected",t);const o=s.Eu.get(e),u=o&&o.key;if(u){let h=new ot(ye.comparator);h=h.insert(u,Wt.newNoDocument(u,Se.min()));const m=Me().add(u),p=new ef(Se.min(),new Map,new ot(Ie),h,m);await Nb(s,p),s.Iu=s.Iu.remove(u),s.Eu.delete(e),sg(s)}else await rp(s.localStore,e,!1).then(()=>op(s,e,t)).catch(wo)}async function c4(i,e){const t=Ae(i),s=e.batch.batchId;try{const o=await EN(t.localStore,e);Mb(t,s,null),kb(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await _u(t,o)}catch(o){await wo(o)}}async function h4(i,e,t){const s=Ae(i);try{const o=await function(h,m){const p=Ae(h);return p.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let E;return p.mutationQueue.lookupMutationBatch(g,m).next(A=>(He(A!==null,37113),E=A.keys(),p.mutationQueue.removeMutationBatch(g,A))).next(()=>p.mutationQueue.performConsistencyCheck(g)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(g,E,m)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,E)).next(()=>p.localDocuments.getDocuments(g,E))})}(s.localStore,e);Mb(s,e,t),kb(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await _u(s,o)}catch(o){await wo(o)}}function kb(i,e){(i.Ru.get(e)||[]).forEach(t=>{t.resolve()}),i.Ru.delete(e)}function Mb(i,e,t){const s=Ae(i);let o=s.Au[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(t?u.reject(t):u.resolve(),o=o.remove(e)),s.Au[s.currentUser.toKey()]=o}}function op(i,e,t=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.Pu.get(e))i.hu.delete(s),t&&i.lu.gu(s,t);i.Pu.delete(e),i.isPrimaryClient&&i.du.Hr(e).forEach(s=>{i.du.containsKey(s)||Vb(i,s)})}function Vb(i,e){i.Tu.delete(e.path.canonicalString());const t=i.Iu.get(e);t!==null&&(Wp(i.remoteStore,t),i.Iu=i.Iu.remove(e),i.Eu.delete(t),sg(i))}function _1(i,e,t){for(const s of t)s instanceof Cb?(i.du.addReference(s.key,e),f4(i,s)):s instanceof Db?(ce(rg,"Document no longer in limbo: "+s.key),i.du.removeReference(s.key,e),i.du.containsKey(s.key)||Vb(i,s.key)):Ee(19791,{pu:s})}function f4(i,e){const t=e.key,s=t.path.canonicalString();i.Iu.get(t)||i.Tu.has(s)||(ce(rg,"New document in limbo: "+t),i.Tu.add(s),sg(i))}function sg(i){for(;i.Tu.size>0&&i.Iu.size<i.maxConcurrentLimboResolutions;){const e=i.Tu.values().next().value;i.Tu.delete(e);const t=new ye(tt.fromString(e)),s=i.Vu.next();i.Eu.set(s,new t4(t)),i.Iu=i.Iu.insert(t,s),Eb(i.remoteStore,new Gr(vi(qp(t.path)),s,"TargetPurposeLimboResolution",Kh.le))}}async function _u(i,e,t){const s=Ae(i),o=[],u=[],h=[];s.hu.isEmpty()||(s.hu.forEach((m,p)=>{h.push(s.fu(p,e,t).then(g=>{var E;if((g||t)&&s.isPrimaryClient){const A=g?!g.fromCache:(E=t?.targetChanges.get(p.targetId))===null||E===void 0?void 0:E.current;s.sharedClientState.updateQueryState(p.targetId,A?"current":"not-current")}if(g){o.push(g);const A=Qp.Rs(p.targetId,g);u.push(A)}}))}),await Promise.all(h),s.lu.Y_(o),await async function(p,g){const E=Ae(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",A=>te.forEach(g,S=>te.forEach(S.ds,N=>E.persistence.referenceDelegate.addReference(A,S.targetId,N)).next(()=>te.forEach(S.As,N=>E.persistence.referenceDelegate.removeReference(A,S.targetId,N)))))}catch(A){if(!So(A))throw A;ce(Xp,"Failed to update sequence numbers: "+A)}for(const A of g){const S=A.targetId;if(!A.fromCache){const N=E.xs.get(S),O=N.snapshotVersion,$=N.withLastLimboFreeSnapshotVersion(O);E.xs=E.xs.insert(S,$)}}}(s.localStore,u))}async function d4(i,e){const t=Ae(i);if(!t.currentUser.isEqual(e)){ce(rg,"User change. New user:",e.toKey());const s=await gb(t.localStore,e);t.currentUser=e,function(u,h){u.Ru.forEach(m=>{m.forEach(p=>{p.reject(new he(ne.CANCELLED,h))})}),u.Ru.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await _u(t,s.ks)}}function m4(i,e){const t=Ae(i),s=t.Eu.get(e);if(s&&s.cu)return Me().add(s.key);{let o=Me();const u=t.Pu.get(e);if(!u)return o;for(const h of u){const m=t.hu.get(h);o=o.unionWith(m.view.eu)}return o}}function Pb(i){const e=Ae(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=Nb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=m4.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=u4.bind(null,e),e.lu.Y_=WN.bind(null,e.eventManager),e.lu.gu=ZN.bind(null,e.eventManager),e}function p4(i){const e=Ae(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=c4.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=h4.bind(null,e),e}class Mh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=tf(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Su(e),await this.persistence.start(),this.localStore=this.Du(e),this.gcScheduler=this.vu(e,this.localStore),this.indexBackfillerScheduler=this.Cu(e,this.localStore)}vu(e,t){return null}Cu(e,t){return null}Du(e){return _N(this.persistence,new gN,e.initialUser,this.serializer)}Su(e){return new pb(Yp.fi,this.serializer)}bu(e){return new RN}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Mh.provider={build:()=>new Mh};class g4 extends Mh{constructor(e){super(),this.cacheSizeBytes=e}vu(e,t){He(this.persistence.referenceDelegate instanceof Nh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new tN(s,e.asyncQueue,t)}Su(e){const t=this.cacheSizeBytes!==void 0?ln.withCacheSize(this.cacheSizeBytes):ln.DEFAULT;return new pb(s=>Nh.fi(s,t),this.serializer)}}class lp{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>v1(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=d4.bind(null,this.syncEngine),await YN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new XN}()}createDatastore(e){const t=tf(e.databaseInfo.databaseId),s=function(u){return new ON(u)}(e.databaseInfo);return function(u,h,m,p){return new VN(u,h,m,p)}(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return function(s,o,u,h,m){return new LN(s,o,u,h,m)}(this.localStore,this.datastore,e.asyncQueue,t=>v1(this.syncEngine,t,0),function(){return f1.C()?new f1:new xN}())}createSyncEngine(e,t){return function(o,u,h,m,p,g,E){const A=new n4(o,u,h,m,p,g);return E&&(A.mu=!0),A}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const u=Ae(o);ce(Zs,"RemoteStore shutting down."),u.da.add(5),await vu(u),u.Ra.shutdown(),u.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}lp.provider={build:()=>new lp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lb{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):sr("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const is="FirestoreClient";class y4{constructor(e,t,s,o,u){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=o,this.user=Xt.UNAUTHENTICATED,this.clientId=xT.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async h=>{ce(is,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(s,h=>(ce(is,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ji;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=ng(t,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Om(i,e){i.asyncQueue.verifyOperationInProgress(),ce(is,"Initializing OfflineComponentProvider");const t=i.configuration;await e.initialize(t);let s=t.initialUser;i.setCredentialChangeListener(async o=>{s.isEqual(o)||(await gb(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}async function E1(i,e){i.asyncQueue.verifyOperationInProgress();const t=await v4(i);ce(is,"Initializing OnlineComponentProvider"),await e.initialize(t,i.configuration),i.setCredentialChangeListener(s=>m1(e.remoteStore,s)),i.setAppCheckTokenChangeListener((s,o)=>m1(e.remoteStore,o)),i._onlineComponents=e}async function v4(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){ce(is,"Using user provided OfflineComponentProvider");try{await Om(i,i._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===ne.FAILED_PRECONDITION||o.code===ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;ho("Error using user provided cache. Falling back to memory cache: "+t),await Om(i,new Mh)}}else ce(is,"Using default OfflineComponentProvider"),await Om(i,new g4(void 0));return i._offlineComponents}async function Ub(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(ce(is,"Using user provided OnlineComponentProvider"),await E1(i,i._uninitializedComponentsProvider._online)):(ce(is,"Using default OnlineComponentProvider"),await E1(i,new lp))),i._onlineComponents}function _4(i){return Ub(i).then(e=>e.syncEngine)}async function jb(i){const e=await Ub(i),t=e.eventManager;return t.onListen=i4.bind(null,e.syncEngine),t.onUnlisten=a4.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=r4.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=o4.bind(null,e.syncEngine),t}function E4(i,e,t={}){const s=new Ji;return i.asyncQueue.enqueueAndForget(async()=>function(u,h,m,p,g){const E=new Lb({next:S=>{E.xu(),h.enqueueAndForget(()=>xb(u,A));const N=S.docs.has(m);!N&&S.fromCache?g.reject(new he(ne.UNAVAILABLE,"Failed to get document because the client is offline.")):N&&S.fromCache&&p&&p.source==="server"?g.reject(new he(ne.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(S)},error:S=>g.reject(S)}),A=new Ib(qp(m.path),E,{includeMetadataChanges:!0,Qa:!0});return Rb(u,A)}(await jb(i),i.asyncQueue,e,t,s)),s.promise}function T4(i,e,t={}){const s=new Ji;return i.asyncQueue.enqueueAndForget(async()=>function(u,h,m,p,g){const E=new Lb({next:S=>{E.xu(),h.enqueueAndForget(()=>xb(u,A)),S.fromCache&&p.source==="server"?g.reject(new he(ne.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(S)},error:S=>g.reject(S)}),A=new Ib(m,E,{includeMetadataChanges:!0,Qa:!0});return Rb(u,A)}(await jb(i),i.asyncQueue,e,t,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zb(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T1=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bb(i,e,t){if(!t)throw new he(ne.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function b4(i,e,t,s){if(e===!0&&s===!0)throw new he(ne.INVALID_ARGUMENT,`${i} and ${t} cannot be used together.`)}function b1(i){if(!ye.isDocumentKey(i))throw new he(ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function w1(i){if(ye.isDocumentKey(i))throw new he(ne.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function sf(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":Ee(12329,{type:typeof i})}function vo(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new he(ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=sf(i);throw new he(ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qb="firestore.googleapis.com",S1=!0;class A1{constructor(e){var t,s;if(e.host===void 0){if(e.ssl!==void 0)throw new he(ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=qb,this.ssl=S1}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:S1;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=mb;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<JO)throw new he(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}b4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=zb((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new he(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new he(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new he(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class af{constructor(e,t,s,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new A1({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new he(ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new he(ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new A1(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new DD;switch(s.type){case"firstParty":return new MD(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new he(ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const s=T1.get(t);s&&(ce("ComponentProvider","Removing Datastore"),T1.delete(t),s.terminate())}(this),Promise.resolve()}}function w4(i,e,t,s={}){var o;i=vo(i,af);const u=rs(e),h=i._getSettings(),m=Object.assign(Object.assign({},h),{emulatorOptions:i._getEmulatorOptions()}),p=`${e}:${t}`;u&&(vp(`https://${p}`),_p("Firestore",!0)),h.host!==qb&&h.host!==p&&ho("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g=Object.assign(Object.assign({},h),{host:p,ssl:u,emulatorOptions:s});if(!Wr(g,m)&&(i._setSettings(g),s.mockUserToken)){let E,A;if(typeof s.mockUserToken=="string")E=s.mockUserToken,A=Xt.MOCK_USER;else{E=uE(s.mockUserToken,(o=i._app)===null||o===void 0?void 0:o.options.projectId);const S=s.mockUserToken.sub||s.mockUserToken.user_id;if(!S)throw new he(ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new Xt(S)}i._authCredentials=new OD(new AT(E,A))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new la(this.firestore,e,this._query)}}class bn{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Xr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new bn(this.firestore,e,this._key)}}class Xr extends la{constructor(e,t,s){super(e,t,qp(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new bn(this.firestore,null,new ye(e))}withConverter(e){return new Xr(this.firestore,e,this._path)}}function Vh(i,e,...t){if(i=Lt(i),Bb("collection","path",e),i instanceof af){const s=tt.fromString(e,...t);return w1(s),new Xr(i,null,s)}{if(!(i instanceof bn||i instanceof Xr))throw new he(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(tt.fromString(e,...t));return w1(s),new Xr(i.firestore,null,s)}}function Hb(i,e,...t){if(i=Lt(i),arguments.length===1&&(e=xT.newId()),Bb("doc","path",e),i instanceof af){const s=tt.fromString(e,...t);return b1(s),new bn(i,null,new ye(s))}{if(!(i instanceof bn||i instanceof Xr))throw new he(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(tt.fromString(e,...t));return b1(s),new bn(i.firestore,i instanceof Xr?i.converter:null,new ye(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R1="AsyncQueue";class x1{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new vb(this,"async_queue_retry"),this.rc=()=>{const s=Dm();s&&ce(R1,"Visibility state changed to "+s.visibilityState),this.x_.b_()},this.sc=e;const t=Dm();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const t=Dm();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});const t=new Ji;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!So(e))throw e;ce(R1,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(e){const t=this.sc.then(()=>(this.ec=!0,e().catch(s=>{throw this.Xu=s,this.ec=!1,sr("INTERNAL UNHANDLED ERROR: ",I1(s)),s}).then(s=>(this.ec=!1,s))));return this.sc=t,t}enqueueAfterDelay(e,t,s){this.oc(),this.nc.indexOf(e)>-1&&(t=0);const o=tg.createAndSchedule(this,e,t,s,u=>this.uc(u));return this.Zu.push(o),o}oc(){this.Xu&&Ee(47125,{cc:I1(this.Xu)})}verifyOperationInProgress(){}async lc(){let e;do e=this.sc,await e;while(e!==this.sc)}hc(e){for(const t of this.Zu)if(t.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this.Zu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){const t=this.Zu.indexOf(e);this.Zu.splice(t,1)}}function I1(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}class of extends af{constructor(e,t,s,o){super(e,t,s,o),this.type="firestore",this._queue=new x1,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new x1(e),this._firestoreClient=void 0,await e}}}function S4(i,e){const t=typeof i=="object"?i:qh(),s=typeof i=="string"?i:Sh,o=ss(t,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=aE("firestore");u&&w4(o,...u)}return o}function ag(i){if(i._terminated)throw new he(ne.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||A4(i),i._firestoreClient}function A4(i){var e,t,s;const o=i._freezeSettings(),u=function(m,p,g,E){return new QD(m,p,g,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,zb(E.experimentalLongPollingOptions),E.useFetchStreams,E.isUsingEmulator)}(i._databaseId,((e=i._app)===null||e===void 0?void 0:e.options.appId)||"",i._persistenceKey,o);i._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(i._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),i._firestoreClient=new y4(i._authCredentials,i._appCheckCredentials,i._queue,u,i._componentsProvider&&function(m){const p=m?._online.build();return{_offline:m?._offline.build(p),_online:p}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o{constructor(e){this._byteString=e}static fromBase64String(e){try{return new _o(Gt.fromBase64String(e))}catch(t){throw new he(ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new _o(Gt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class og{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new he(ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ft(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fb{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lg{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new he(ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new he(ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ie(this._lat,e._lat)||Ie(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ug{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R4=/^__.*__$/;class x4{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new aa(e,this.data,this.fieldMask,t,this.fieldTransforms):new gu(e,this.data,t,this.fieldTransforms)}}function Gb(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ee(40011,{Ic:i})}}class cg{constructor(e,t,s,o,u,h){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Ec(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new cg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.dc({path:s,Rc:!1});return o.Vc(e),o}mc(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.dc({path:s,Rc:!1});return o.Ec(),o}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return Ph(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(e.length===0)throw this.gc("Document fields must not be empty");if(Gb(this.Ic)&&R4.test(e))throw this.gc('Document fields cannot begin and end with "__"')}}class I4{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||tf(e)}bc(e,t,s,o=!1){return new cg({Ic:e,methodName:t,wc:s,path:Ft.emptyPath(),Rc:!1,yc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function $b(i){const e=i._freezeSettings(),t=tf(i._databaseId);return new I4(i._databaseId,!!e.ignoreUndefinedProperties,t)}function C4(i,e,t,s,o,u={}){const h=i.bc(u.merge||u.mergeFields?2:0,e,t,o);Qb("Data must be an object, but it was:",h,s);const m=Kb(s,h);let p,g;if(u.merge)p=new Yn(h.fieldMask),g=h.fieldTransforms;else if(u.mergeFields){const E=[];for(const A of u.mergeFields){const S=O4(e,A,t);if(!h.contains(S))throw new he(ne.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);k4(E,S)||E.push(S)}p=new Yn(E),g=h.fieldTransforms.filter(A=>p.covers(A.field))}else p=null,g=h.fieldTransforms;return new x4(new Pn(m),p,g)}function D4(i,e,t,s=!1){return hg(t,i.bc(s?4:3,e))}function hg(i,e){if(Yb(i=Lt(i)))return Qb("Unsupported field value:",e,i),Kb(i,e);if(i instanceof Fb)return function(s,o){if(!Gb(o.Ic))throw o.gc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.gc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.Rc&&e.Ic!==4)throw e.gc("Nested arrays are not supported");return function(s,o){const u=[];let h=0;for(const m of s){let p=hg(m,o.fc(h));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),h++}return{arrayValue:{values:u}}}(i,e)}return function(s,o){if((s=Lt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return vO(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=It.fromDate(s);return{timestampValue:Oh(o.serializer,u)}}if(s instanceof It){const u=new It(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Oh(o.serializer,u)}}if(s instanceof lg)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof _o)return{bytesValue:ob(o.serializer,s._byteString)};if(s instanceof bn){const u=o.databaseId,h=s.firestore._databaseId;if(!h.isEqual(u))throw o.gc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:$p(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof ug)return function(h,m){return{mapValue:{fields:{[VT]:{stringValue:PT},[Ah]:{arrayValue:{values:h.toArray().map(g=>{if(typeof g!="number")throw m.gc("VectorValues must only contain numeric values.");return Hp(m.serializer,g)})}}}}}}(s,o);throw o.gc(`Unsupported field value: ${sf(s)}`)}(i,e)}function Kb(i,e){const t={};return CT(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ra(i,(s,o)=>{const u=hg(o,e.Ac(s));u!=null&&(t[s]=u)}),{mapValue:{fields:t}}}function Yb(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof It||i instanceof lg||i instanceof _o||i instanceof bn||i instanceof Fb||i instanceof ug)}function Qb(i,e,t){if(!Yb(t)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(t)){const s=sf(t);throw s==="an object"?e.gc(i+" a custom object"):e.gc(i+" "+s)}}function O4(i,e,t){if((e=Lt(e))instanceof og)return e._internalPath;if(typeof e=="string")return Xb(i,e);throw Ph("Field path arguments must be of type string or ",i,!1,void 0,t)}const N4=new RegExp("[~\\*/\\[\\]]");function Xb(i,e,t){if(e.search(N4)>=0)throw Ph(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,t);try{return new og(...e.split("."))._internalPath}catch{throw Ph(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,t)}}function Ph(i,e,t,s,o){const u=s&&!s.isEmpty(),h=o!==void 0;let m=`Function ${e}() called with invalid data`;t&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||h)&&(p+=" (found",u&&(p+=` in field ${s}`),h&&(p+=` in document ${o}`),p+=")"),new he(ne.INVALID_ARGUMENT,m+i+p)}function k4(i,e){return i.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wb{constructor(e,t,s,o,u){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new bn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new M4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(fg("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class M4 extends Wb{data(){return super.data()}}function fg(i,e){return typeof e=="string"?Xb(i,e):e instanceof og?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V4(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new he(ne.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class dg{}class Zb extends dg{}function ch(i,e,...t){let s=[];e instanceof dg&&s.push(e),s=s.concat(t),function(u){const h=u.filter(p=>p instanceof mg).length,m=u.filter(p=>p instanceof lf).length;if(h>1||h>0&&m>0)throw new he(ne.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)i=o._apply(i);return i}class lf extends Zb{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new lf(e,t,s)}_apply(e){const t=this._parse(e);return Jb(e._query,t),new la(e.firestore,e.converter,Jm(e._query,t))}_parse(e){const t=$b(e.firestore);return function(u,h,m,p,g,E,A){let S;if(g.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new he(ne.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){D1(A,E);const O=[];for(const $ of A)O.push(C1(p,u,$));S={arrayValue:{values:O}}}else S=C1(p,u,A)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||D1(A,E),S=D4(m,h,A,E==="in"||E==="not-in");return bt.create(g,E,S)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function Xl(i,e,t){const s=e,o=fg("where",i);return lf._create(o,s,t)}class mg extends dg{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new mg(e,t)}_parse(e){const t=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return t.length===1?t[0]:Xn.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(o,u){let h=o;const m=u.getFlattenedFilters();for(const p of m)Jb(h,p),h=Jm(h,p)}(e._query,t),new la(e.firestore,e.converter,Jm(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class pg extends Zb{constructor(e,t,s){super(),this.type=e,this._limit=t,this._limitType=s}static _create(e,t,s){return new pg(e,t,s)}_apply(e){return new la(e.firestore,e.converter,Ih(e._query,this._limit,this._limitType))}}function Nm(i){return pg._create("limit",i,"F")}function C1(i,e,t){if(typeof(t=Lt(t))=="string"){if(t==="")throw new he(ne.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!FT(e)&&t.indexOf("/")!==-1)throw new he(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(tt.fromString(t));if(!ye.isDocumentKey(s))throw new he(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return F_(i,new ye(s))}if(t instanceof bn)return F_(i,t._key);throw new he(ne.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${sf(t)}.`)}function D1(i,e){if(!Array.isArray(i)||i.length===0)throw new he(ne.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Jb(i,e){const t=function(o,u){for(const h of o)for(const m of h.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null}(i.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new he(ne.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new he(ne.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class P4{convertValue(e,t="none"){switch(ts(e)){case 0:return null;case 1:return e.booleanValue;case 2:return gt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(es(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ee(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return ra(e,(o,u)=>{s[o]=this.convertValue(u,t)}),s}convertVectorValue(e){var t,s,o;const u=(o=(s=(t=e.fields)===null||t===void 0?void 0:t[Ah].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(h=>gt(h.doubleValue));return new ug(u)}convertGeoPoint(e){return new lg(gt(e.latitude),gt(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=Qh(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(iu(e));default:return null}}convertTimestamp(e){const t=Jr(e);return new It(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=tt.fromString(e);He(db(s),9688,{name:e});const o=new ru(s.get(1),s.get(3)),u=new ye(s.popFirst(5));return o.isEqual(t)||sr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L4(i,e,t){let s;return s=i?i.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ql{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ew extends Wb{constructor(e,t,s,o,u,h){super(e,t,s,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new hh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(fg("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}}class hh extends ew{data(e={}){return super.data(e)}}class U4{constructor(e,t,s,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new ql(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(s=>{e.call(t,new hh(this._firestore,this._userDataWriter,s.key,s,new ql(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new he(ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map(m=>{const p=new hh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new ql(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:h++}})}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const p=new hh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new ql(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,E=-1;return m.type!==0&&(g=h.indexOf(m.doc.key),h=h.delete(m.doc.key)),m.type!==1&&(h=h.add(m.doc),E=h.indexOf(m.doc.key)),{type:j4(m.type),doc:p,oldIndex:g,newIndex:E}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function j4(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ee(61501,{type:i})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z4(i){i=vo(i,bn);const e=vo(i.firestore,of);return E4(ag(e),i._key).then(t=>H4(e,i,t))}class tw extends P4{constructor(e){super(),this.firestore=e}convertBytes(e){return new _o(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new bn(this.firestore,null,t)}}function up(i){i=vo(i,la);const e=vo(i.firestore,of),t=ag(e),s=new tw(e);return V4(i._query),T4(t,i._query).then(o=>new U4(e,s,i,o))}function B4(i,e){const t=vo(i.firestore,of),s=Hb(i),o=L4(i.converter,e);return q4(t,[C4($b(i.firestore),"addDoc",s._key,o,i.converter!==null,{}).toMutation(s._key,er.exists(!1))]).then(()=>s)}function q4(i,e){return function(s,o){const u=new Ji;return s.asyncQueue.enqueueAndForget(async()=>l4(await _4(s),o,u)),u.promise}(ag(i),e)}function H4(i,e,t){const s=t.docs.get(e._key),o=new tw(i);return new ew(i,o,e._key,s,new ql(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(o){bo=o})(ia),Qn(new Un("firestore",(s,{instanceIdentifier:o,options:u})=>{const h=s.getProvider("app").getImmediate(),m=new of(new ND(s.getProvider("auth-internal")),new VD(h,s.getProvider("app-check-internal")),function(g,E){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new he(ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ru(g.options.projectId,E)}(h,o),h);return u=Object.assign({useFetchStreams:t},u),m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),un(N_,k_,e),un(N_,k_,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nw="firebasestorage.googleapis.com",iw="storageBucket",F4=2*60*1e3,G4=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft extends jn{constructor(e,t,s=0){super(km(e),`Firebase Storage: ${t} (${km(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ft.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return km(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var ht;(function(i){i.UNKNOWN="unknown",i.OBJECT_NOT_FOUND="object-not-found",i.BUCKET_NOT_FOUND="bucket-not-found",i.PROJECT_NOT_FOUND="project-not-found",i.QUOTA_EXCEEDED="quota-exceeded",i.UNAUTHENTICATED="unauthenticated",i.UNAUTHORIZED="unauthorized",i.UNAUTHORIZED_APP="unauthorized-app",i.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",i.INVALID_CHECKSUM="invalid-checksum",i.CANCELED="canceled",i.INVALID_EVENT_NAME="invalid-event-name",i.INVALID_URL="invalid-url",i.INVALID_DEFAULT_BUCKET="invalid-default-bucket",i.NO_DEFAULT_BUCKET="no-default-bucket",i.CANNOT_SLICE_BLOB="cannot-slice-blob",i.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",i.NO_DOWNLOAD_URL="no-download-url",i.INVALID_ARGUMENT="invalid-argument",i.INVALID_ARGUMENT_COUNT="invalid-argument-count",i.APP_DELETED="app-deleted",i.INVALID_ROOT_OPERATION="invalid-root-operation",i.INVALID_FORMAT="invalid-format",i.INTERNAL_ERROR="internal-error",i.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ht||(ht={}));function km(i){return"storage/"+i}function gg(){const i="An unknown error occurred, please check the error payload for server response.";return new ft(ht.UNKNOWN,i)}function $4(i){return new ft(ht.OBJECT_NOT_FOUND,"Object '"+i+"' does not exist.")}function K4(i){return new ft(ht.QUOTA_EXCEEDED,"Quota for bucket '"+i+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function Y4(){const i="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new ft(ht.UNAUTHENTICATED,i)}function Q4(){return new ft(ht.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function X4(i){return new ft(ht.UNAUTHORIZED,"User does not have permission to access '"+i+"'.")}function W4(){return new ft(ht.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Z4(){return new ft(ht.CANCELED,"User canceled the upload/download.")}function J4(i){return new ft(ht.INVALID_URL,"Invalid URL '"+i+"'.")}function ek(i){return new ft(ht.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+i+"'.")}function tk(){return new ft(ht.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+iw+"' property when initializing the app?")}function nk(){return new ft(ht.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function ik(){return new ft(ht.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function rk(i){return new ft(ht.UNSUPPORTED_ENVIRONMENT,`${i} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function cp(i){return new ft(ht.INVALID_ARGUMENT,i)}function rw(){return new ft(ht.APP_DELETED,"The Firebase app was deleted.")}function sk(i){return new ft(ht.INVALID_ROOT_OPERATION,"The operation '"+i+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Wl(i,e){return new ft(ht.INVALID_FORMAT,"String does not match format '"+i+"': "+e)}function Ul(i){throw new ft(ht.INTERNAL_ERROR,"Internal error: "+i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let s;try{s=En.makeFromUrl(e,t)}catch{return new En(e,"")}if(s.path==="")return s;throw ek(e)}static makeFromUrl(e,t){let s=null;const o="([A-Za-z0-9.\\-_]+)";function u(ue){ue.path.charAt(ue.path.length-1)==="/"&&(ue.path_=ue.path_.slice(0,-1))}const h="(/(.*))?$",m=new RegExp("^gs://"+o+h,"i"),p={bucket:1,path:3};function g(ue){ue.path_=decodeURIComponent(ue.path)}const E="v[A-Za-z0-9_]+",A=t.replace(/[.]/g,"\\."),S="(/([^?#]*).*)?$",N=new RegExp(`^https?://${A}/${E}/b/${o}/o${S}`,"i"),O={bucket:1,path:3},$=t===nw?"(?:storage.googleapis.com|storage.cloud.google.com)":t,L="([^?#]*)",V=new RegExp(`^https?://${$}/${o}/${L}`,"i"),ie=[{regex:m,indices:p,postModify:u},{regex:N,indices:O,postModify:g},{regex:V,indices:{bucket:1,path:2},postModify:g}];for(let ue=0;ue<ie.length;ue++){const le=ie[ue],de=le.regex.exec(e);if(de){const M=de[le.indices.bucket];let R=de[le.indices.path];R||(R=""),s=new En(M,R),le.postModify(s);break}}if(s==null)throw J4(e);return s}}class ak{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ok(i,e,t){let s=1,o=null,u=null,h=!1,m=0;function p(){return m===2}let g=!1;function E(...L){g||(g=!0,e.apply(null,L))}function A(L){o=setTimeout(()=>{o=null,i(N,p())},L)}function S(){u&&clearTimeout(u)}function N(L,...V){if(g){S();return}if(L){S(),E.call(null,L,...V);return}if(p()||h){S(),E.call(null,L,...V);return}s<64&&(s*=2);let ie;m===1?(m=2,ie=0):ie=(s+Math.random())*1e3,A(ie)}let O=!1;function $(L){O||(O=!0,S(),!g&&(o!==null?(L||(m=2),clearTimeout(o),A(0)):L||(m=1)))}return A(0),u=setTimeout(()=>{h=!0,$(!0)},t),$}function lk(i){i(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uk(i){return i!==void 0}function ck(i){return typeof i=="object"&&!Array.isArray(i)}function yg(i){return typeof i=="string"||i instanceof String}function O1(i){return vg()&&i instanceof Blob}function vg(){return typeof Blob<"u"}function N1(i,e,t,s){if(s<e)throw cp(`Invalid value for '${i}'. Expected ${e} or greater.`);if(s>t)throw cp(`Invalid value for '${i}'. Expected ${t} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _g(i,e,t){let s=e;return t==null&&(s=`https://${e}`),`${t}://${s}/v0${i}`}function sw(i){const e=encodeURIComponent;let t="?";for(const s in i)if(i.hasOwnProperty(s)){const o=e(s)+"="+e(i[s]);t=t+o+"&"}return t=t.slice(0,-1),t}var Ks;(function(i){i[i.NO_ERROR=0]="NO_ERROR",i[i.NETWORK_ERROR=1]="NETWORK_ERROR",i[i.ABORT=2]="ABORT"})(Ks||(Ks={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hk(i,e){const t=i>=500&&i<600,o=[408,429].indexOf(i)!==-1,u=e.indexOf(i)!==-1;return t||o||u}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fk{constructor(e,t,s,o,u,h,m,p,g,E,A,S=!0,N=!1){this.url_=e,this.method_=t,this.headers_=s,this.body_=o,this.successCodes_=u,this.additionalRetryCodes_=h,this.callback_=m,this.errorCallback_=p,this.timeout_=g,this.progressCallback_=E,this.connectionFactory_=A,this.retry=S,this.isUsingEmulator=N,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((O,$)=>{this.resolve_=O,this.reject_=$,this.start_()})}start_(){const e=(s,o)=>{if(o){s(!1,new Wc(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const h=m=>{const p=m.loaded,g=m.lengthComputable?m.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,g)};this.progressCallback_!==null&&u.addUploadProgressListener(h),u.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(h),this.pendingConnection_=null;const m=u.getErrorCode()===Ks.NO_ERROR,p=u.getStatus();if(!m||hk(p,this.additionalRetryCodes_)&&this.retry){const E=u.getErrorCode()===Ks.ABORT;s(!1,new Wc(!1,null,E));return}const g=this.successCodes_.indexOf(p)!==-1;s(!0,new Wc(g,u))})},t=(s,o)=>{const u=this.resolve_,h=this.reject_,m=o.connection;if(o.wasSuccessCode)try{const p=this.callback_(m,m.getResponse());uk(p)?u(p):u()}catch(p){h(p)}else if(m!==null){const p=gg();p.serverResponse=m.getErrorText(),this.errorCallback_?h(this.errorCallback_(m,p)):h(p)}else if(o.canceled){const p=this.appDelete_?rw():Z4();h(p)}else{const p=W4();h(p)}};this.canceled_?t(!1,new Wc(!1,null,!0)):this.backoffId_=ok(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&lk(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Wc{constructor(e,t,s){this.wasSuccessCode=e,this.connection=t,this.canceled=!!s}}function dk(i,e){e!==null&&e.length>0&&(i.Authorization="Firebase "+e)}function mk(i,e){i["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function pk(i,e){e&&(i["X-Firebase-GMPID"]=e)}function gk(i,e){e!==null&&(i["X-Firebase-AppCheck"]=e)}function yk(i,e,t,s,o,u,h=!0,m=!1){const p=sw(i.urlParams),g=i.url+p,E=Object.assign({},i.headers);return pk(E,e),dk(E,t),mk(E,u),gk(E,s),new fk(g,i.method,E,i.body,i.successCodes,i.additionalRetryCodes,i.handler,i.errorHandler,i.timeout,i.progressCallback,o,h,m)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vk(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function _k(...i){const e=vk();if(e!==void 0){const t=new e;for(let s=0;s<i.length;s++)t.append(i[s]);return t.getBlob()}else{if(vg())return new Blob(i);throw new ft(ht.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function Ek(i,e,t){return i.webkitSlice?i.webkitSlice(e,t):i.mozSlice?i.mozSlice(e,t):i.slice?i.slice(e,t):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tk(i){if(typeof atob>"u")throw rk("base-64");return atob(i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pi={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Mm{constructor(e,t){this.data=e,this.contentType=t||null}}function bk(i,e){switch(i){case pi.RAW:return new Mm(aw(e));case pi.BASE64:case pi.BASE64URL:return new Mm(ow(i,e));case pi.DATA_URL:return new Mm(Sk(e),Ak(e))}throw gg()}function aw(i){const e=[];for(let t=0;t<i.length;t++){let s=i.charCodeAt(t);if(s<=127)e.push(s);else if(s<=2047)e.push(192|s>>6,128|s&63);else if((s&64512)===55296)if(!(t<i.length-1&&(i.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const u=s,h=i.charCodeAt(++t);s=65536|(u&1023)<<10|h&1023,e.push(240|s>>18,128|s>>12&63,128|s>>6&63,128|s&63)}else(s&64512)===56320?e.push(239,191,189):e.push(224|s>>12,128|s>>6&63,128|s&63)}return new Uint8Array(e)}function wk(i){let e;try{e=decodeURIComponent(i)}catch{throw Wl(pi.DATA_URL,"Malformed data URL.")}return aw(e)}function ow(i,e){switch(i){case pi.BASE64:{const o=e.indexOf("-")!==-1,u=e.indexOf("_")!==-1;if(o||u)throw Wl(i,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case pi.BASE64URL:{const o=e.indexOf("+")!==-1,u=e.indexOf("/")!==-1;if(o||u)throw Wl(i,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=Tk(e)}catch(o){throw o.message.includes("polyfill")?o:Wl(i,"Invalid character found")}const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s}class lw{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw Wl(pi.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const s=t[1]||null;s!=null&&(this.base64=Rk(s,";base64"),this.contentType=this.base64?s.substring(0,s.length-7):s),this.rest=e.substring(e.indexOf(",")+1)}}function Sk(i){const e=new lw(i);return e.base64?ow(pi.BASE64,e.rest):wk(e.rest)}function Ak(i){return new lw(i).contentType}function Rk(i,e){return i.length>=e.length?i.substring(i.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr{constructor(e,t){let s=0,o="";O1(e)?(this.data_=e,s=e.size,o=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),s=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),s=e.length),this.size_=s,this.type_=o}size(){return this.size_}type(){return this.type_}slice(e,t){if(O1(this.data_)){const s=this.data_,o=Ek(s,e,t);return o===null?null:new Fr(o)}else{const s=new Uint8Array(this.data_.buffer,e,t-e);return new Fr(s,!0)}}static getBlob(...e){if(vg()){const t=e.map(s=>s instanceof Fr?s.data_:s);return new Fr(_k.apply(null,t))}else{const t=e.map(h=>yg(h)?bk(pi.RAW,h).data:h.data_);let s=0;t.forEach(h=>{s+=h.byteLength});const o=new Uint8Array(s);let u=0;return t.forEach(h=>{for(let m=0;m<h.length;m++)o[u++]=h[m]}),new Fr(o,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uw(i){let e;try{e=JSON.parse(i)}catch{return null}return ck(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xk(i){if(i.length===0)return null;const e=i.lastIndexOf("/");return e===-1?"":i.slice(0,e)}function Ik(i,e){const t=e.split("/").filter(s=>s.length>0).join("/");return i.length===0?t:i+"/"+t}function cw(i){const e=i.lastIndexOf("/",i.length-2);return e===-1?i:i.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ck(i,e){return e}class rn{constructor(e,t,s,o){this.server=e,this.local=t||e,this.writable=!!s,this.xform=o||Ck}}let Zc=null;function Dk(i){return!yg(i)||i.length<2?i:cw(i)}function hw(){if(Zc)return Zc;const i=[];i.push(new rn("bucket")),i.push(new rn("generation")),i.push(new rn("metageneration")),i.push(new rn("name","fullPath",!0));function e(u,h){return Dk(h)}const t=new rn("name");t.xform=e,i.push(t);function s(u,h){return h!==void 0?Number(h):h}const o=new rn("size");return o.xform=s,i.push(o),i.push(new rn("timeCreated")),i.push(new rn("updated")),i.push(new rn("md5Hash",null,!0)),i.push(new rn("cacheControl",null,!0)),i.push(new rn("contentDisposition",null,!0)),i.push(new rn("contentEncoding",null,!0)),i.push(new rn("contentLanguage",null,!0)),i.push(new rn("contentType",null,!0)),i.push(new rn("metadata","customMetadata",!0)),Zc=i,Zc}function Ok(i,e){function t(){const s=i.bucket,o=i.fullPath,u=new En(s,o);return e._makeStorageReference(u)}Object.defineProperty(i,"ref",{get:t})}function Nk(i,e,t){const s={};s.type="file";const o=t.length;for(let u=0;u<o;u++){const h=t[u];s[h.local]=h.xform(s,e[h.server])}return Ok(s,i),s}function fw(i,e,t){const s=uw(e);return s===null?null:Nk(i,s,t)}function kk(i,e,t,s){const o=uw(e);if(o===null||!yg(o.downloadTokens))return null;const u=o.downloadTokens;if(u.length===0)return null;const h=encodeURIComponent;return u.split(",").map(g=>{const E=i.bucket,A=i.fullPath,S="/b/"+h(E)+"/o/"+h(A),N=_g(S,t,s),O=sw({alt:"media",token:g});return N+O})[0]}function Mk(i,e){const t={},s=e.length;for(let o=0;o<s;o++){const u=e[o];u.writable&&(t[u.server]=i[u.local])}return JSON.stringify(t)}class dw{constructor(e,t,s,o){this.url=e,this.method=t,this.handler=s,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mw(i){if(!i)throw gg()}function Vk(i,e){function t(s,o){const u=fw(i,o,e);return mw(u!==null),u}return t}function Pk(i,e){function t(s,o){const u=fw(i,o,e);return mw(u!==null),kk(u,o,i.host,i._protocol)}return t}function pw(i){function e(t,s){let o;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?o=Q4():o=Y4():t.getStatus()===402?o=K4(i.bucket):t.getStatus()===403?o=X4(i.path):o=s,o.status=t.getStatus(),o.serverResponse=s.serverResponse,o}return e}function Lk(i){const e=pw(i);function t(s,o){let u=e(s,o);return s.getStatus()===404&&(u=$4(i.path)),u.serverResponse=o.serverResponse,u}return t}function Uk(i,e,t){const s=e.fullServerUrl(),o=_g(s,i.host,i._protocol),u="GET",h=i.maxOperationRetryTime,m=new dw(o,u,Pk(i,t),h);return m.errorHandler=Lk(e),m}function jk(i,e){return i&&i.contentType||e&&e.type()||"application/octet-stream"}function zk(i,e,t){const s=Object.assign({},t);return s.fullPath=i.path,s.size=e.size(),s.contentType||(s.contentType=jk(null,e)),s}function Bk(i,e,t,s,o){const u=e.bucketOnlyServerUrl(),h={"X-Goog-Upload-Protocol":"multipart"};function m(){let ie="";for(let ue=0;ue<2;ue++)ie=ie+Math.random().toString().slice(2);return ie}const p=m();h["Content-Type"]="multipart/related; boundary="+p;const g=zk(e,s,o),E=Mk(g,t),A="--"+p+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+E+`\r
--`+p+`\r
Content-Type: `+g.contentType+`\r
\r
`,S=`\r
--`+p+"--",N=Fr.getBlob(A,s,S);if(N===null)throw nk();const O={name:g.fullPath},$=_g(u,i.host,i._protocol),L="POST",V=i.maxUploadRetryTime,Q=new dw($,L,Vk(i,t),V);return Q.urlParams=O,Q.headers=h,Q.body=N.uploadData(),Q.errorHandler=pw(e),Q}class qk{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Ks.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Ks.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Ks.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,s,o,u){if(this.sent_)throw Ul("cannot .send() more than once");if(rs(e)&&s&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(t,e,!0),u!==void 0)for(const h in u)u.hasOwnProperty(h)&&this.xhr_.setRequestHeader(h,u[h].toString());return o!==void 0?this.xhr_.send(o):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Ul("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Ul("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Ul("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Ul("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class Hk extends qk{initXhr(){this.xhr_.responseType="text"}}function gw(){return new Hk}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js{constructor(e,t){this._service=e,t instanceof En?this._location=t:this._location=En.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Js(e,t)}get root(){const e=new En(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return cw(this._location.path)}get storage(){return this._service}get parent(){const e=xk(this._location.path);if(e===null)return null;const t=new En(this._location.bucket,e);return new Js(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw sk(e)}}function Fk(i,e,t){i._throwIfRoot("uploadBytes");const s=Bk(i.storage,i._location,hw(),new Fr(e,!0),t);return i.storage.makeRequestWithTokens(s,gw).then(o=>({metadata:o,ref:i}))}function Gk(i){i._throwIfRoot("getDownloadURL");const e=Uk(i.storage,i._location,hw());return i.storage.makeRequestWithTokens(e,gw).then(t=>{if(t===null)throw ik();return t})}function $k(i,e){const t=Ik(i._location.path,e),s=new En(i._location.bucket,t);return new Js(i.storage,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kk(i){return/^[A-Za-z]+:\/\//.test(i)}function Yk(i,e){return new Js(i,e)}function yw(i,e){if(i instanceof Eg){const t=i;if(t._bucket==null)throw tk();const s=new Js(t,t._bucket);return e!=null?yw(s,e):s}else return e!==void 0?$k(i,e):i}function Qk(i,e){if(e&&Kk(e)){if(i instanceof Eg)return Yk(i,e);throw cp("To use ref(service, url), the first argument must be a Storage instance.")}else return yw(i,e)}function k1(i,e){const t=e?.[iw];return t==null?null:En.makeFromBucketSpec(t,i)}function Xk(i,e,t,s={}){i.host=`${e}:${t}`;const o=rs(e);o&&(vp(`https://${i.host}/b`),_p("Storage",!0)),i._isUsingEmulator=!0,i._protocol=o?"https":"http";const{mockUserToken:u}=s;u&&(i._overrideAuthToken=typeof u=="string"?u:uE(u,i.app.options.projectId))}class Eg{constructor(e,t,s,o,u,h=!1){this.app=e,this._authProvider=t,this._appCheckProvider=s,this._url=o,this._firebaseVersion=u,this._isUsingEmulator=h,this._bucket=null,this._host=nw,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=F4,this._maxUploadRetryTime=G4,this._requests=new Set,o!=null?this._bucket=En.makeFromBucketSpec(o,this._host):this._bucket=k1(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=En.makeFromBucketSpec(this._url,e):this._bucket=k1(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){N1("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){N1("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if($n(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Js(this,e)}_makeRequest(e,t,s,o,u=!0){if(this._deleted)return new ak(rw());{const h=yk(e,this._appId,s,o,t,this._firebaseVersion,u,this._isUsingEmulator);return this._requests.add(h),h.getPromise().then(()=>this._requests.delete(h),()=>this._requests.delete(h)),h}}async makeRequestWithTokens(e,t){const[s,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,s,o).getPromise()}}const M1="@firebase/storage",V1="0.13.13";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vw="storage";function Wk(i,e,t){return i=Lt(i),Fk(i,e,t)}function Zk(i){return i=Lt(i),Gk(i)}function Jk(i,e){return i=Lt(i),Qk(i,e)}function e3(i=qh(),e){i=Lt(i);const s=ss(i,vw).getImmediate({identifier:e}),o=aE("storage");return o&&t3(s,...o),s}function t3(i,e,t,s={}){Xk(i,e,t,s)}function n3(i,{instanceIdentifier:e}){const t=i.getProvider("app").getImmediate(),s=i.getProvider("auth-internal"),o=i.getProvider("app-check-internal");return new Eg(t,s,o,e,ia)}function i3(){Qn(new Un(vw,n3,"PUBLIC").setMultipleInstances(!0)),un(M1,V1,""),un(M1,V1,"esm2017")}i3();const r3={apiKey:"AIzaSyBeAi_ILRkcrvBADQY-dV7aLugg2gTFl3k",authDomain:"loop-81f05.firebaseapp.com",projectId:"loop-81f05",storageBucket:"loop-81f05.firebasestorage.app",messagingSenderId:"152242901151",appId:"1:152242901151:web:08305ef38d91ab7cbd92aa",measurementId:"G-VX7QNS3QHM"},uf=gE(r3);II(uf);const Lh=ID(uf),Zl=S4(uf),s3=e3(uf),_w="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Generator:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20width='800px'%20height='800px'%20viewBox='0%200%20100%20100'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20aria-hidden='true'%20role='img'%20class='iconify%20iconify--gis'%20preserveAspectRatio='xMidYMid%20meet'%3e%3cpath%20d='M35.002%200C15.764%200%200%2015.719%200%2034.902c0%207.433%202.374%2014.339%206.393%2020.018L30.73%2096.994c3.409%204.453%205.674%203.608%208.508-.234l10.227-17.405a29.778%2029.778%200%200%201-10.528-8.685a29.77%2029.77%200%200%201-6.1-17.356C23.52%2052.261%2016.4%2044.5%2016.4%2034.902c0-10.33%208.243-18.548%2018.602-18.548c6.736%200%2012.558%203.487%2015.818%208.757a29.883%2029.883%200%200%201%2017.098-2.017C63.033%209.669%2050.09%200%2035.002%200z'%20fill='%23000000'%3e%3c/path%3e%3cpath%20d='M66.129%2027.495c-6.422-.87-13.175.702-18.72%204.925c-11.09%208.444-13.247%2024.366-4.802%2035.456c7.905%2010.38%2022.34%2012.883%2033.25%206.237l2.083%202.736a2.69%204.051%2052.712%200%200%20.106%202.494l15.12%2019.855a2.69%204.051%2052.712%200%200%204.852-.314a2.69%204.051%2052.712%200%200%201.594-4.595l-15.12-19.855a2.69%204.051%2052.712%200%200-2.376-.765l-2.084-2.737c9.31-8.75%2010.737-23.33%202.833-33.71c-4.223-5.546-10.314-8.857-16.736-9.727zm-.75%205.537a19.617%2019.617%200%200%201%2013.013%207.596a19.635%2019.635%200%200%201-3.735%2027.577a19.635%2019.635%200%200%201-27.576-3.735a19.635%2019.635%200%200%201%203.734-27.576a19.614%2019.614%200%200%201%2014.564-3.862z'%20fill='%23000000'%3e%3c/path%3e%3c/svg%3e";function a3(){const i=or(),e=ta(),[t,s]=q.useState(!1),[o,u]=q.useState(null),[h,m]=q.useState(""),[p,g]=q.useState("50");q.useEffect(()=>Lh.onAuthStateChanged(O=>{u(O)}),[]);const E=N=>{if(N.preventDefault(),i.pathname==="/"){const O=document.getElementById("browse-section");O&&O.scrollIntoView({behavior:"smooth"})}else window.location.href="/#browse-section"},A=N=>{if(N.preventDefault(),h.trim()){const O=new URLSearchParams;O.set("search",h.trim()),p!=="50"&&O.set("maxDistance",p),e(`/browse?${O.toString()}`)}},S=N=>{N.key==="Enter"&&A(N)};return T.jsxs(T.Fragment,{children:[T.jsxs("nav",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"1rem 2rem",backgroundColor:"rgba(255,255,255,0.08)",backdropFilter:"blur(10px)",borderRadius:"24px",margin:"0",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.08)",border:"none",position:"sticky",top:"1rem",zIndex:1e3,width:"100%"},children:[T.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"2rem"},children:[T.jsx($r,{to:"/",style:{textDecoration:"none",color:"#1A1B41",fontSize:"1.5rem",fontWeight:700},children:"Loop."}),T.jsx("button",{onClick:E,style:{background:"none",border:"none",textDecoration:"none",color:"#1A1B41",fontSize:"1rem",fontWeight:700,padding:"0.5rem 1rem",borderRadius:"10px",transition:"all 0.2s ease",cursor:"pointer",outline:"none",boxShadow:"none"},children:"Browse"}),T.jsx($r,{to:"/post-listing",style:{textDecoration:"none",color:"#1A1B41",fontSize:"1rem",fontWeight:700,padding:"0.5rem 1rem",borderRadius:"10px",transition:"all 0.2s ease"},children:"Post Item"})]}),T.jsxs("form",{onSubmit:A,style:{display:"flex",alignItems:"center",background:"#fff",borderRadius:"24px",boxShadow:"0 2px 8px rgba(0,0,0,0.04)",border:"1px solid #ddd",overflow:"hidden",padding:0},children:[T.jsxs("div",{style:{display:"flex",alignItems:"center",flex:1},children:[T.jsx("input",{type:"text",placeholder:"Search items...",value:h,onChange:N=>m(N.target.value),onKeyPress:S,style:{border:"none",outline:"none",padding:"0.9rem 1.2rem",fontSize:"1rem",background:"transparent",minWidth:"120px",maxWidth:"180px",flex:1,color:"#1A1B41",fontWeight:500}}),T.jsx("div",{style:{width:1,height:32,background:"#eee",margin:"0 0.5rem"}}),T.jsxs("select",{value:p,onChange:N=>g(N.target.value),style:{border:"none",outline:"none",padding:"0.9rem 1.2rem",fontSize:"1rem",background:"transparent",minWidth:"80px",color:"#1A1B41",cursor:"pointer",fontWeight:500,appearance:"none",boxShadow:"none"},onFocus:N=>{N.target.style.outline="none",N.target.style.boxShadow="none"},children:[T.jsx("option",{value:"5",children:"5 km"}),T.jsx("option",{value:"10",children:"10 km"}),T.jsx("option",{value:"25",children:"25 km"}),T.jsx("option",{value:"50",children:"50 km"})]})]}),T.jsx("button",{type:"submit",style:{border:"none",background:"#001F3F",padding:0,width:36,height:36,borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 0.7rem 0 0.7rem",cursor:"pointer",boxShadow:"0 2px 8px rgba(0,0,0,0.08)",transition:"background 0.2s"},children:T.jsx("img",{src:_w,alt:"Search",style:{width:18,height:18,filter:"invert(1) brightness(2)"}})})]}),o?T.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[T.jsx("span",{style:{fontSize:"0.9rem",color:"#1A1B41",fontWeight:"500"},children:o.displayName||o.email}),T.jsx("button",{onClick:()=>Lh.signOut(),style:{textDecoration:"none",color:"#1A1B41",fontSize:"1rem",fontWeight:"500",padding:"0.5rem 1rem",borderRadius:"10px",transition:"all 0.2s ease",background:"none",border:"none",cursor:"pointer"},children:"Logout"})]}):T.jsx("button",{onClick:()=>s(!0),style:{textDecoration:"none",color:"#1A1B41",fontSize:"1rem",fontWeight:700,padding:"0.5rem 1rem",borderRadius:"10px",transition:"all 0.2s ease",background:"none",border:"none",cursor:"pointer"},children:"Login / Signup"})]}),t&&T.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",background:"rgba(0,0,0,0.25)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:2e3},onClick:()=>s(!1),children:T.jsxs("div",{style:{background:"#fff",borderRadius:"20px",padding:"2.5rem 2rem",minWidth:"340px",maxWidth:"90vw",boxShadow:"0 8px 32px rgba(0,0,0,0.18)",position:"relative",display:"flex",flexDirection:"column",alignItems:"center"},onClick:N=>N.stopPropagation(),children:[T.jsx("button",{onClick:()=>s(!1),style:{position:"absolute",top:12,right:12,background:"none",border:"none",fontSize:"1.5rem",cursor:"pointer",color:"#1A1B41"},children:""}),T.jsx("h2",{style:{marginBottom:"1.5rem",color:"#1A1B41",fontWeight:700},children:"Login or Signup"}),T.jsx("p",{style:{marginBottom:"1.5rem",color:"#666",textAlign:"center",fontSize:"0.9rem"},children:"You need to be logged in to post items"}),T.jsx("input",{type:"email",placeholder:"Email",style:{marginBottom:"1rem",padding:"0.7rem 1rem",borderRadius:"8px",border:"1px solid #ddd",width:"100%"}}),T.jsx("input",{type:"password",placeholder:"Password",style:{marginBottom:"1.5rem",padding:"0.7rem 1rem",borderRadius:"8px",border:"1px solid #ddd",width:"100%"}}),T.jsx("button",{style:{background:"#1A1B41",color:"#fff",border:"none",borderRadius:"10px",padding:"0.7rem 2rem",fontWeight:700,fontSize:"1rem",cursor:"pointer",width:"100%"},children:"Login"}),T.jsx("button",{style:{background:"#CEF17B",color:"#1A1B41",border:"none",borderRadius:"10px",padding:"0.7rem 2rem",fontWeight:700,fontSize:"1rem",cursor:"pointer",width:"100%",marginTop:"1rem"},children:"Sign Up"})]})})]})}function o3(){return T.jsxs("footer",{style:{backgroundColor:"#fff",color:"#001f3f",padding:"0",marginTop:"4rem",fontFamily:"Satoshi, system-ui, sans-serif",width:"100%"},children:[T.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"2rem",marginBottom:"2rem",padding:"3rem 2rem 2rem 2rem",width:"100%"},children:[T.jsxs("div",{children:[T.jsx("h3",{style:{fontSize:"1.5rem",fontWeight:"bold",marginBottom:"1rem",color:"#001f3f"},children:"Loop."}),T.jsx("p",{style:{fontSize:"0.95rem",lineHeight:"1.6",color:"#001f3f",marginBottom:"1rem"},children:"Share more, hoard less. Join the circular economy in your community and discover amazing items from trusted hosts."}),T.jsxs("div",{style:{display:"flex",gap:"1rem"},children:[T.jsx("a",{href:"#",style:{color:"#CEF17B",fontSize:"1.5rem"},children:""}),T.jsx("a",{href:"#",style:{color:"#CEF17B",fontSize:"1.5rem"},children:""}),T.jsx("a",{href:"#",style:{color:"#CEF17B",fontSize:"1.5rem"},children:""}),T.jsx("a",{href:"#",style:{color:"#CEF17B",fontSize:"1.5rem"},children:""})]})]}),T.jsxs("div",{children:[T.jsx("h4",{style:{fontSize:"1.1rem",fontWeight:"bold",marginBottom:"1rem",color:"#001f3f"},children:"Quick Links"}),T.jsxs("ul",{style:{listStyle:"none",padding:0},children:[T.jsx("li",{style:{marginBottom:"0.5rem"},children:T.jsx($r,{to:"/",style:{color:"#001f3f",textDecoration:"none",fontSize:"0.95rem",transition:"color 0.2s"},onMouseOver:i=>i.target.style.color="#CEF17B",onMouseOut:i=>i.target.style.color="#001f3f",children:"Home"})}),T.jsx("li",{style:{marginBottom:"0.5rem"},children:T.jsx($r,{to:"/browse",style:{color:"#001f3f",textDecoration:"none",fontSize:"0.95rem",transition:"color 0.2s"},onMouseOver:i=>i.target.style.color="#CEF17B",onMouseOut:i=>i.target.style.color="#001f3f",children:"Browse Items"})}),T.jsx("li",{style:{marginBottom:"0.5rem"},children:T.jsx($r,{to:"/post-listing",style:{color:"#001f3f",textDecoration:"none",fontSize:"0.95rem",transition:"color 0.2s"},onMouseOver:i=>i.target.style.color="#CEF17B",onMouseOut:i=>i.target.style.color="#001f3f",children:"Post Item"})}),T.jsx("li",{style:{marginBottom:"0.5rem"},children:T.jsx("a",{href:"#",style:{color:"#001f3f",textDecoration:"none",fontSize:"0.95rem",transition:"color 0.2s"},onMouseOver:i=>i.target.style.color="#CEF17B",onMouseOut:i=>i.target.style.color="#001f3f",children:"How It Works"})})]})]}),T.jsxs("div",{children:[T.jsx("h4",{style:{fontSize:"1.1rem",fontWeight:"bold",marginBottom:"1rem",color:"#001f3f"},children:"Support"}),T.jsxs("ul",{style:{listStyle:"none",padding:0},children:[T.jsx("li",{style:{marginBottom:"0.5rem"},children:T.jsx("a",{href:"#",style:{color:"#001f3f",textDecoration:"none",fontSize:"0.95rem",transition:"color 0.2s"},onMouseOver:i=>i.target.style.color="#CEF17B",onMouseOut:i=>i.target.style.color="#001f3f",children:"Help Center"})}),T.jsx("li",{style:{marginBottom:"0.5rem"},children:T.jsx("a",{href:"#",style:{color:"#001f3f",textDecoration:"none",fontSize:"0.95rem",transition:"color 0.2s"},onMouseOver:i=>i.target.style.color="#CEF17B",onMouseOut:i=>i.target.style.color="#001f3f",children:"Contact Us"})}),T.jsx("li",{style:{marginBottom:"0.5rem"},children:T.jsx("a",{href:"#",style:{color:"#001f3f",textDecoration:"none",fontSize:"0.95rem",transition:"color 0.2s"},onMouseOver:i=>i.target.style.color="#CEF17B",onMouseOut:i=>i.target.style.color="#001f3f",children:"Safety Guidelines"})}),T.jsx("li",{style:{marginBottom:"0.5rem"},children:T.jsx("a",{href:"#",style:{color:"#001f3f",textDecoration:"none",fontSize:"0.95rem",transition:"color 0.2s"},onMouseOver:i=>i.target.style.color="#CEF17B",onMouseOut:i=>i.target.style.color="#001f3f",children:"Trust & Safety"})})]})]}),T.jsxs("div",{children:[T.jsx("h4",{style:{fontSize:"1.1rem",fontWeight:"bold",marginBottom:"1rem",color:"#001f3f"},children:"Legal"}),T.jsxs("ul",{style:{listStyle:"none",padding:0},children:[T.jsx("li",{style:{marginBottom:"0.5rem"},children:T.jsx("a",{href:"#",style:{color:"#001f3f",textDecoration:"none",fontSize:"0.95rem",transition:"color 0.2s"},onMouseOver:i=>i.target.style.color="#CEF17B",onMouseOut:i=>i.target.style.color="#001f3f",children:"Terms of Service"})}),T.jsx("li",{style:{marginBottom:"0.5rem"},children:T.jsx("a",{href:"#",style:{color:"#001f3f",textDecoration:"none",fontSize:"0.95rem",transition:"color 0.2s"},onMouseOver:i=>i.target.style.color="#CEF17B",onMouseOut:i=>i.target.style.color="#001f3f",children:"Privacy Policy"})}),T.jsx("li",{style:{marginBottom:"0.5rem"},children:T.jsx("a",{href:"#",style:{color:"#001f3f",textDecoration:"none",fontSize:"0.95rem",transition:"color 0.2s"},onMouseOver:i=>i.target.style.color="#CEF17B",onMouseOut:i=>i.target.style.color="#001f3f",children:"Cookie Policy"})}),T.jsx("li",{style:{marginBottom:"0.5rem"},children:T.jsx("a",{href:"#",style:{color:"#001f3f",textDecoration:"none",fontSize:"0.95rem",transition:"color 0.2s"},onMouseOver:i=>i.target.style.color="#CEF17B",onMouseOut:i=>i.target.style.color="#001f3f",children:"Accessibility"})})]})]}),T.jsxs("div",{children:[T.jsx("h4",{style:{fontSize:"1.1rem",fontWeight:"bold",marginBottom:"1rem",color:"#001f3f"},children:"Stay Updated"}),T.jsx("p",{style:{fontSize:"0.95rem",color:"#001f3f",marginBottom:"1rem"},children:"Get the latest updates on new features and community events."}),T.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[T.jsx("input",{type:"email",placeholder:"Enter your email",style:{flex:1,padding:"0.7rem",borderRadius:"8px",border:"1px solid #444",backgroundColor:"#2a2b5a",color:"#001f3f",fontSize:"0.9rem",outline:"none"}}),T.jsx("button",{style:{padding:"0.7rem 1rem",backgroundColor:"#CEF17B",color:"#1A1B41",border:"none",borderRadius:"8px",fontWeight:"bold",cursor:"pointer",fontSize:"0.9rem",transition:"background-color 0.2s"},onMouseOver:i=>i.target.style.backgroundColor="#b8d96a",onMouseOut:i=>i.target.style.backgroundColor="#CEF17B",children:"Subscribe"})]})]})]}),T.jsx("div",{style:{borderTop:"1px solid #444",paddingTop:"2rem",textAlign:"center",color:"#001f3f",fontSize:"0.9rem"},children:T.jsx("p",{children:" 2024 Loop. All rights reserved. Made with  for sustainable communities."})})]})}function Tg({id:i,image:e="",title:t="Power Washer",price:s="$10/day",availability:o="Available now",location:u="2.1 km away",rating:h=4.8,reviews:m=12,tags:p=["#DIY","#Outdoor"],user:g={name:"Alex",avatar:""},distance:E="2.1 km",badge:A="Featured",onTagClick:S}){const N=ta(),O=()=>{i&&N(`/item/${i}`)};return T.jsxs("div",{style:{background:"#fff",borderRadius:"30px",padding:"1.5rem 1rem",minWidth:"220px",maxWidth:"240px",display:"flex",flexDirection:"column",alignItems:"center",boxShadow:"0 4px 16px rgba(0,0,0,0.08)",margin:"0 1rem",color:"#222",position:"relative",transition:"transform 0.2s",cursor:"pointer"},onClick:O,onMouseOver:$=>$.currentTarget.style.transform="translateY(-4px)",onMouseOut:$=>$.currentTarget.style.transform="translateY(0)",children:[A&&T.jsx("div",{style:{position:"absolute",top:12,left:12,background:"#FCF6EB",color:"#051914",fontWeight:700,fontSize:"0.85rem",borderRadius:"12px",padding:"0.2rem 0.7rem",zIndex:2},children:A}),T.jsx("div",{style:{width:"90px",height:"90px",borderRadius:"18px",background:"#f3f3f3",display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"1rem",overflow:"hidden"},children:e?T.jsx("img",{src:e,alt:t,style:{width:"100%",height:"100%",objectFit:"cover"}}):T.jsx("span",{role:"img","aria-label":"item",style:{fontSize:"2.5rem"},children:""})}),T.jsx("div",{style:{fontWeight:700,fontSize:"1.15rem",marginBottom:"0.3rem",textAlign:"center"},children:t}),T.jsx("div",{style:{fontWeight:500,fontSize:"1rem",marginBottom:"0.2rem",color:"#001f3f"},children:s}),T.jsx("div",{style:{fontSize:"0.95rem",marginBottom:"0.2rem",color:"#001f3f"},children:o}),T.jsxs("div",{style:{fontSize:"0.92rem",color:"#888",marginBottom:"0.2rem"},children:[u," ",E&&T.jsxs("span",{children:[" ",E]})]}),T.jsxs("div",{style:{fontSize:"0.95rem",color:"#fbc02d",marginBottom:"0.2rem"},children:["".repeat(Math.floor(h)),h%1?"":"",T.jsxs("span",{style:{color:"#222",marginLeft:4},children:["(",h," / ",m,")"]})]}),T.jsx("div",{style:{display:"flex",gap:"0.3rem",flexWrap:"wrap",margin:"0.3rem 0 0.5rem 0"},children:p&&p.map(($,L)=>T.jsx("span",{style:{background:"#f3f3f3",color:"#666",borderRadius:"8px",padding:"0.1rem 0.5rem",fontSize:"0.85rem",cursor:"pointer",transition:"background 0.2s"},onClick:V=>{V.stopPropagation(),S&&S($)},onMouseOver:V=>V.currentTarget.style.background="#e0e0e0",onMouseOut:V=>V.currentTarget.style.background="#f3f3f3",children:$},L))}),T.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:"0.5rem",marginTop:"0.2rem"},children:[g.avatar?T.jsx("img",{src:g.avatar,alt:g.name,style:{width:28,height:28,borderRadius:"50%",marginRight:8}}):T.jsx("span",{role:"img","aria-label":"user",style:{fontSize:"1.3rem",marginRight:8},children:""}),T.jsx("span",{style:{fontSize:"0.98rem",color:"#333"},children:g.name})]})]})}async function hp({category:i,minPrice:e,maxPrice:t,search:s,maxDistance:o}={}){let u=Vh(Zl,"listings");const h=[];i&&i!==""&&h.push(Xl("category","==",i)),e&&h.push(Xl("price",">=",Number(e))),t&&h.push(Xl("price","<=",Number(t))),h.length>0&&(u=ch(u,...h));try{let p=(await up(u)).docs.map(g=>({id:g.id,...g.data()}));if(s&&s.trim()!==""){const g=s.toLowerCase().trim();p=p.filter(E=>{const A=(E.name||"").toLowerCase(),S=(E.description||"").toLowerCase(),N=(E.category||"").toLowerCase(),O=(E.tags||[]).join(" ").toLowerCase();return A.includes(g)||S.includes(g)||N.includes(g)||O.includes(g)})}if(o&&o!==""){const g=Number(o);p=p.filter(E=>Math.random()*50<=g)}return p}catch(m){return console.error("Error fetching listings:",m),[]}}const P1=["Alex","James","Rachel","Hannah","Iris"];function l3(){return P1[Math.floor(Math.random()*P1.length)]}function u3(){return Math.round((Math.random()*1.5+3.5)*10)/10}function c3(){return Math.floor(Math.random()*46)+5}function h3(){return Math.round((Math.random()*49.5+.5)*10)/10}function Ew({filters:i={},onTagClick:e}){const[t,s]=q.useState([]),[o,u]=q.useState([]),h=q.useRef([]);return q.useEffect(()=>{async function m(){const p=await hp(i);s(p)}m()},[i]),q.useEffect(()=>{h.current=h.current.slice(0,t.length);const m=h.current.map((p,g)=>new window.IntersectionObserver(([E])=>{E.isIntersecting&&(u(A=>{const S=[...A];return S[g]=!0,S}),m[g].disconnect())},{threshold:.2}));return h.current.forEach((p,g)=>{p&&m[g].observe(p)}),()=>m.forEach(p=>p.disconnect())},[t]),T.jsx("div",{style:{width:"100%",maxWidth:"1200px",margin:"2.5rem auto 0 auto",display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(220px, 1fr))",gap:"2rem",alignItems:"stretch"},children:t.length===0?T.jsx("div",{style:{gridColumn:"1 / -1",textAlign:"center",padding:"2rem"},children:T.jsx("p",{children:"No items found."})}):t.map((m,p)=>T.jsx("div",{ref:g=>h.current[p]=g,className:`item-card-animate${o[p]?" visible":""}`,children:T.jsx(Tg,{id:m.id,image:m.imageUrl||"",title:m.name||"Untitled",price:`$${m.price||0}/${m.per||"day"}`,availability:"Available now",location:m.location||"Unknown location",rating:u3(),reviews:c3(),tags:m.tags||[],user:{name:m.userName||l3(),avatar:""},badge:null,distance:`${h3()} km`,onTagClick:e})},m.id))})}function Tw({onFilter:i}){const[e,t]=q.useState(""),[s,o]=q.useState(""),[u,h]=q.useState(""),m=p=>{p.preventDefault(),i&&i({category:e||null,minPrice:s?Number(s):null,maxPrice:u?Number(u):null})};return T.jsxs("form",{onSubmit:m,style:{display:"flex",gap:"1rem",alignItems:"center",margin:"2rem 0 1.5rem 0",flexWrap:"wrap",maxWidth:"1200px",marginLeft:"auto",marginRight:"auto"},children:[T.jsxs("select",{value:e,onChange:p=>t(p.target.value),style:{padding:"0.5rem 1rem",borderRadius:"8px",border:"1.5px solid #ddd",fontSize:"1rem",minWidth:"120px",background:"#fff",color:"#222",boxSizing:"border-box"},children:[T.jsx("option",{value:"",children:"All Categories"}),T.jsx("option",{value:"tools",children:"Tools"}),T.jsx("option",{value:"outdoor",children:"Outdoor"}),T.jsx("option",{value:"electronics",children:"Electronics"}),T.jsx("option",{value:"furniture",children:"Furniture"}),T.jsx("option",{value:"sports",children:"Sports"})]}),T.jsx("input",{type:"number",placeholder:"Min Price",value:s,onChange:p=>o(p.target.value),style:{padding:"0.5rem 1rem",borderRadius:"8px",border:"1.5px solid #ddd",fontSize:"1rem",width:"100px",background:"#fff",color:"#222",boxSizing:"border-box"}}),T.jsx("input",{type:"number",placeholder:"Max Price",value:u,onChange:p=>h(p.target.value),style:{padding:"0.5rem 1rem",borderRadius:"8px",border:"1.5px solid #ddd",fontSize:"1rem",width:"100px",background:"#fff",color:"#222",boxSizing:"border-box"}}),T.jsx("button",{type:"submit",style:{background:"#1A1B41",color:"#fff",border:"none",borderRadius:"8px",padding:"0.5rem 1.5rem",fontWeight:700,fontSize:"1rem",cursor:"pointer"},children:"Search"})]})}const f3="/Loop/assets/mower_logo-Photoroom-vKePCyM0.png",d3="/Loop/assets/assets_task_01jyym3rxse7z8w3k2b3m2a20v_1751227123_img_1-C3QRbcwy.jpg",m3="/Loop/assets/assets_task_01jyys6yneembtryc7rmanh2w7_1751232437_img_1-BwPSUc2g.jpg",p3="/Loop/assets/assets_task_01jyypmfxzf1hbrnx62ca658mz_1751229754_img_1-CVkW_150.jpg",g3="/Loop/assets/ChatGPT-Image-Jun-29-2025-Bb3XliVT.png",L1=["Alex","James","Rachel","Hannah","Iris"];function y3(){return L1[Math.floor(Math.random()*L1.length)]}function v3(){return Math.round((Math.random()*1.5+3.5)*10)/10}function _3(){return Math.floor(Math.random()*46)+5}function E3(){return Math.round((Math.random()*49.5+.5)*10)/10}function T3(){const i=ta(),e=q.useRef(null),t=[q.useRef(null),q.useRef(null),q.useRef(null)],[s,o]=q.useState([!1,!1,!1]),[u,h]=q.useState({category:"",minPrice:"",maxPrice:""}),[m,p]=q.useState([]),[g,E]=q.useState(""),[A,S]=q.useState([]);q.useEffect(()=>{const L=t.map((V,Q)=>new window.IntersectionObserver(([ie])=>{ie.isIntersecting&&o(ue=>{const le=[...ue];return le[Q]=!0,le})},{threshold:.2}));return t.forEach((V,Q)=>{V.current&&L[Q].observe(V.current)}),()=>{L.forEach((V,Q)=>{t[Q].current&&V.unobserve(t[Q].current)})}},[]),q.useEffect(()=>{async function L(){const V=await hp();p(V.slice(0,4))}L()},[]),q.useEffect(()=>{async function L(){const V=await hp({});S(V.slice(0,6))}L()},[]);const N=L=>{e.current&&e.current.scrollBy({left:L*220,behavior:"smooth"})},O=L=>{L.preventDefault(),g.trim()&&i(`/browse?search=${encodeURIComponent(g.trim())}`)},$=L=>{L.key==="Enter"&&O(L)};return T.jsxs("div",{style:{minHeight:"100vh",display:"flex",flexDirection:"column",justifyContent:"flex-start",alignItems:"flex-start",padding:"6rem 0 2rem 0",textAlign:"left"},children:[T.jsxs("div",{style:{background:`url(${g3}) center/cover no-repeat`,borderRadius:"24px",padding:"3rem 2rem",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.1)",backdropFilter:"blur(10px)",border:"1px solid rgba(255, 255, 255, 0.2)",width:"100%",marginBottom:"2rem",display:"flex",alignItems:"center",justifyContent:"space-between",gap:"2.5rem",minHeight:"340px"},children:[T.jsxs("div",{className:"slide-in-home-text",style:{flex:1,minWidth:0,marginLeft:"2.5rem"},children:[T.jsx("h1",{style:{fontSize:"3.5rem",fontWeight:900,color:"#1A1B41",marginBottom:"1.2rem",letterSpacing:"-1px",lineHeight:1.1,fontFamily:"Satoshi, system-ui, sans-serif"},children:"Loop."}),T.jsx("h2",{style:{fontSize:"1.7rem",fontWeight:700,color:"#1A1B41",marginBottom:"1.2rem",fontFamily:"Satoshi, system-ui, sans-serif"},children:"share more, hoard less"}),T.jsx("p",{style:{fontSize:"1.1rem",color:"#1A1B41",maxWidth:"700px",lineHeight:"1.6",marginBottom:"2.5rem",fontFamily:"Satoshi, system-ui, sans-serif"},children:"Join the circular economy in your community today."}),T.jsxs("form",{onSubmit:O,style:{display:"flex",alignItems:"center",backgroundColor:"rgba(255, 255, 255, 0.8)",borderRadius:"50px",padding:"0.5rem",boxShadow:"0 4px 16px rgba(0, 0, 0, 0.08)",border:"1px solid rgba(0, 0, 0, 0.05)",minWidth:"340px",maxWidth:"420px",width:"100%",marginLeft:0},children:[T.jsx("input",{type:"text",placeholder:"Search for items to rent or lend...",value:g,onChange:L=>E(L.target.value),onKeyDown:$,style:{flex:1,border:"none",outline:"none",padding:"0.7rem 1rem",fontSize:"1rem",backgroundColor:"transparent",color:"#333","::placeholder":{color:"#666"}}}),T.jsx("button",{type:"submit",style:{background:"#001F3F",border:"1px solid #eee",borderRadius:"50%",width:36,height:36,display:"flex",alignItems:"center",justifyContent:"center",marginLeft:"0.5rem",cursor:"pointer",boxShadow:"0 2px 8px rgba(0,0,0,0.08)",transition:"background 0.2s",padding:0,outline:"none"},onFocus:L=>{L.target.style.outline="none",L.target.style.boxShadow="none"},children:T.jsx("img",{src:_w,alt:"Search",style:{width:18,height:18,display:"block",filter:"invert(1) brightness(2)"}})})]})]}),T.jsx("div",{style:{display:"flex",alignItems:"center",marginRight:"2rem"},children:T.jsx("img",{src:f3,alt:"Loop Logo",className:"logo-float",style:{maxWidth:"420px",width:"100%",height:"auto",display:"block"}})})]}),T.jsxs("div",{style:{width:"100%",maxWidth:"1200px",margin:"15rem auto 0 auto",display:"flex",justifyContent:"space-between",alignItems:"stretch",gap:"2rem",flexWrap:"wrap"},children:[T.jsxs("div",{ref:t[0],className:s[0]?"slide-in-left":"slide-init",style:{flex:1,minWidth:"220px",textAlign:"left",background:"#fff",borderRadius:"24px",boxShadow:"0 4px 16px rgba(0,0,0,0.08)",padding:"2rem 1.5rem",display:"flex",flexDirection:"column",alignItems:"flex-start",height:"100%",minHeight:"320px",width:"100%",transition:"transform 0.7s cubic-bezier(.6,.05,.1,1), opacity 0.7s cubic-bezier(.6,.05,.1,1)"},children:[T.jsx("div",{style:{marginBottom:"1.2rem",height:"4.5rem",display:"flex",alignItems:"center"},children:T.jsx("img",{src:d3,alt:"Recycle",style:{height:"4.5rem",width:"4.5rem",objectFit:"contain",display:"block"}})}),T.jsx("div",{style:{fontWeight:700,fontSize:"1.7rem",marginBottom:"0.7rem",color:"#001f3f"},children:"Share smarter"}),T.jsx("div",{style:{color:"#001f3f",fontSize:"1.15rem",lineHeight:1.7},children:"Lend and borrow tools, gear, and gadgets right in your neighborhood  no need to buy things you'll only use once."})]}),T.jsxs("div",{ref:t[1],className:s[1]?"slide-in-left":"slide-init",style:{flex:1,minWidth:"220px",textAlign:"left",background:"#fff",borderRadius:"24px",boxShadow:"0 4px 16px rgba(0,0,0,0.08)",padding:"2rem 1.5rem",display:"flex",flexDirection:"column",alignItems:"flex-start",height:"100%",minHeight:"320px",width:"100%",transition:"transform 0.7s cubic-bezier(.6,.05,.1,1), opacity 0.7s cubic-bezier(.6,.05,.1,1)"},children:[T.jsx("div",{style:{marginBottom:"1.2rem",height:"3.5rem",display:"flex",alignItems:"center"},children:T.jsx("img",{src:m3,alt:"Cash",style:{height:"3.5rem",width:"3.5rem",objectFit:"contain",display:"block"}})}),T.jsx("div",{style:{fontWeight:700,fontSize:"1.7rem",marginBottom:"0.7rem",color:"#001f3f",marginTop:"1.2rem"},children:"Save and earn"}),T.jsx("div",{style:{color:"#001f3f",fontSize:"1.15rem",lineHeight:1.7},children:"Borrow what you need for a fraction of the cost, or turn your underused items into extra income by listing them."})]}),T.jsxs("div",{ref:t[2],className:s[2]?"slide-in-left":"slide-init",style:{flex:1,minWidth:"220px",textAlign:"left",background:"#fff",borderRadius:"24px",boxShadow:"0 4px 16px rgba(0,0,0,0.08)",padding:"2rem 1.5rem",display:"flex",flexDirection:"column",alignItems:"flex-start",height:"100%",minHeight:"320px",width:"100%",transition:"transform 0.7s cubic-bezier(.6,.05,.1,1), opacity 0.7s cubic-bezier(.6,.05,.1,1)"},children:[T.jsx("div",{style:{marginBottom:"1.2rem",height:"4.5rem",display:"flex",alignItems:"center"},children:T.jsx("img",{src:p3,alt:"Trust",style:{height:"4.5rem",width:"4.5rem",objectFit:"contain",display:"block"}})}),T.jsx("div",{style:{fontWeight:700,fontSize:"1.7rem",marginBottom:"0.7rem",color:"#001f3f"},children:"Built on trust"}),T.jsx("div",{style:{color:"#001f3f",fontSize:"1.15rem",lineHeight:1.7},children:"Every listing and rental is backed by community reviews, so you know who you're lending to  and who you're renting from."})]})]}),T.jsxs("div",{id:"browse-section",style:{width:"100%",marginTop:"5rem",display:"flex",flexDirection:"column",alignItems:"center"},children:[T.jsx("h2",{style:{color:"#001f3f",fontWeight:700,marginBottom:"2rem",fontSize:"2rem"},children:"Featured Items"}),T.jsxs("div",{style:{position:"relative",width:"90vw",maxWidth:"1200px",display:"flex",alignItems:"center"},children:[T.jsx("div",{style:{position:"absolute",left:"-2.5rem",zIndex:2,width:"56px",height:"56px",display:"flex",alignItems:"center",justifyContent:"center"},children:T.jsx("button",{onClick:()=>N(-1),style:{position:"relative",background:"transparent",border:"none",borderRadius:0,width:"56px",height:"56px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"2.5rem",cursor:"pointer",color:"#001f3f",padding:0,zIndex:2,outline:"none",boxShadow:"none"},onFocus:L=>{L.target.style.outline="none",L.target.style.boxShadow="none"},children:T.jsx("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:T.jsx("path",{d:"M3 12L10 5V9H20.2C20.48 9 20.62 9 20.727 9.0545C20.8211 9.10243 20.8976 9.17892 20.9455 9.273C21 9.37996 21 9.51997 21 9.8V14.2C21 14.48 21 14.62 20.9455 14.727C20.8976 14.8211 20.8211 14.8976 20.727 14.9455C20.62 15 20.48 15 20.2 15H10V19L3 12Z",stroke:"#001f3f",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})})}),T.jsx("div",{ref:e,style:{display:"flex",overflowX:"auto",scrollBehavior:"smooth",background:"#fff",borderRadius:"40px",padding:"2rem 1.5rem",boxShadow:"0 4px 24px rgba(0,0,0,0.10)",width:"100%",minHeight:"320px",alignItems:"center",gap:"0.5rem",scrollbarWidth:"none",msOverflowStyle:"none"},children:A.map(L=>T.jsx(Tg,{id:L.id,image:L.imageUrl||"",title:L.name||"Untitled",price:`$${L.price||0}/${L.per||"day"}`,availability:"Available now",location:L.location||"Unknown location",rating:v3(),reviews:_3(),tags:L.tags||[],user:{name:L.userName||y3(),avatar:""},badge:null,distance:`${E3()} km`},L.id))}),T.jsx("div",{style:{position:"absolute",right:"-2.5rem",zIndex:2,width:"56px",height:"56px",display:"flex",alignItems:"center",justifyContent:"center"},children:T.jsx("button",{onClick:()=>N(1),style:{position:"relative",background:"transparent",border:"none",borderRadius:0,width:"56px",height:"56px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"2.5rem",cursor:"pointer",color:"#001f3f",padding:0,zIndex:2,outline:"none",boxShadow:"none"},onFocus:L=>{L.target.style.outline="none",L.target.style.boxShadow="none"},children:T.jsx("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:T.jsx("path",{d:"M21 12L14 5V9H3.8C3.51997 9 3.37996 9 3.273 9.0545C3.17892 9.10243 3.10243 9.17892 3.0545 9.273C3 9.37996 3 9.51997 3 9.8V14.2C3 14.48 3 14.62 3.0545 14.727C3.10243 14.8211 3.17892 14.8976 3.273 14.9455C3.37996 15 3.51997 15 3.8 15H14V19L21 12Z",stroke:"#001f3f",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})})})]})]}),T.jsx(Tw,{onFilter:h}),T.jsx(Ew,{filters:u}),T.jsx("div",{style:{textAlign:"center",marginTop:"3rem",marginLeft:"6.5rem"},children:T.jsx($r,{to:"/browse",style:{display:"inline-block",padding:"1rem 2rem",backgroundColor:"#001f3f",color:"white",textDecoration:"none",borderRadius:"8px",fontSize:"1.1rem",fontWeight:"bold"},children:"View All Items"})})]})}function b3(){const[i,e]=wR(),[t,s]=q.useState({category:"",minPrice:"",maxPrice:"",search:"",maxDistance:""});q.useEffect(()=>{const h=i.get("category")||"",m=i.get("search")||"",p=i.get("maxDistance")||"";s({category:h,minPrice:"",maxPrice:"",search:m,maxDistance:p})},[i]);const o=h=>{s(h);const m=new URLSearchParams;h.category&&m.set("category",h.category),h.minPrice&&m.set("minPrice",h.minPrice),h.maxPrice&&m.set("maxPrice",h.maxPrice),h.search&&m.set("search",h.search),h.maxDistance&&m.set("maxDistance",h.maxDistance),e(m)},u=h=>{const m=h.replace(/^#/,"").toLowerCase(),p={...t,category:m};s(p);const g=new URLSearchParams;g.set("category",m),t.search&&g.set("search",t.search),t.maxDistance&&g.set("maxDistance",t.maxDistance),e(g)};return T.jsxs("div",{style:{padding:"2rem"},children:[T.jsxs("h1",{style:{fontSize:"2rem",marginBottom:"1.5rem",color:"#001f3f"},children:["Browse Listings",t.search&&T.jsxs("span",{style:{fontSize:"1.2rem",color:"#666",fontWeight:"normal"},children:[" ",'for "',t.search,'"']})]}),T.jsx(Tw,{onFilter:o}),T.jsx(Ew,{filters:t,onTagClick:u})]})}async function Qi(i){return(await B4(Vh(Zl,"listings"),i)).id}const U1=["Alex","James","Rachel","Hannah","Iris"];function w3(){return U1[Math.floor(Math.random()*U1.length)]}function S3(){const i=ta(),e=q.useRef(null),[t,s]=q.useState(""),[o,u]=q.useState(""),[h,m]=q.useState(""),[p,g]=q.useState(""),[E,A]=q.useState(""),[S,N]=q.useState(""),[O,$]=q.useState(""),[L,V]=q.useState(""),[Q,ie]=q.useState(null),[ue,le]=q.useState(""),[de,M]=q.useState(!1),[R,I]=q.useState(!1),[k,U]=q.useState({}),[z,D]=q.useState(!1),[nt,et]=q.useState(!1),X=x=>{const Z=x.target.files[0];if(Z){if(!Z.type.startsWith("image/")){U(re=>({...re,image:"Please select an image file"}));return}if(Z.size>5*1024*1024){U(re=>({...re,image:"Image must be less than 5MB"}));return}ie(Z),U(re=>({...re,image:""}));const ae=new FileReader;ae.onload=re=>le(re.target.result),ae.readAsDataURL(Z)}},oe=async()=>{if(!Q)return null;M(!0);try{const x=Jk(s3,`listings/${Date.now()}_${Q.name}`),Z=await Wk(x,Q);return await Zk(Z.ref)}catch(x){throw console.error("Error uploading image:",x),new Error("Failed to upload image")}finally{M(!1)}},me=()=>{const x={};return t.trim()||(x.name="Item name is required"),(!o||o<=0)&&(x.price="Valid price is required"),h.trim()||(x.location="Location is required"),p.trim()||(x.description="Description is required"),E||(x.category="Category is required"),S||(x.condition="Condition is required"),!Q&&(!L||!L.trim())&&(x.image="Either upload an image file or provide an image URL"),U(x),Object.keys(x).length===0},je=async x=>{if(x.preventDefault(),!Lh.currentUser){D(!0);return}if(me()){I(!0);try{let Z=L;Q&&!nt&&(Z=await oe());const ae={name:t.trim(),price:Number(o),per:"day",location:h.trim(),description:p.trim(),category:E,condition:S,tags:O.split(",").map(pe=>pe.trim()).filter(pe=>pe),imageUrl:Z,userId:Lh.currentUser.uid,userName:w3(),timestamp:new Date},re=await Qi(ae);i(`/item/${re}`)}catch(Z){console.error("Error creating listing:",Z),alert("Failed to create listing. Please try again.")}finally{I(!1)}}};return T.jsxs("div",{style:{padding:"2rem",maxWidth:"800px",margin:"0 auto"},children:[T.jsxs("div",{style:{marginBottom:"2rem"},children:[T.jsx("h1",{style:{fontSize:"2.5rem",fontWeight:700,color:"#051914",marginBottom:"0.5rem"},children:"Post Your Item"}),T.jsx("p",{style:{fontSize:"1.1rem",color:"#666",lineHeight:1.6},children:"Share your items with the community and start earning today."})]}),T.jsxs("form",{onSubmit:je,style:{background:"#fff",borderRadius:"20px",padding:"2.5rem",boxShadow:"0 4px 16px rgba(0,0,0,0.08)"},children:[T.jsxs("div",{style:{marginBottom:"2rem"},children:[T.jsx("h3",{style:{fontSize:"1.3rem",fontWeight:600,marginBottom:"1rem",color:"#051914"},children:"Item Image *"}),T.jsxs("div",{style:{display:"flex",gap:"1rem",marginBottom:"1rem",borderBottom:"1px solid #eee",paddingBottom:"1rem"},children:[T.jsx("button",{type:"button",onClick:()=>et(!1),style:{background:nt?"none":"#051914",color:nt?"#051914":"#fff",border:"1px solid #051914",borderRadius:"8px",padding:"0.5rem 1rem",fontWeight:600,fontSize:"0.9rem",cursor:"pointer",transition:"all 0.2s"},children:"Upload File"}),T.jsx("button",{type:"button",onClick:()=>et(!0),style:{background:nt?"#051914":"none",color:nt?"#fff":"#051914",border:"1px solid #051914",borderRadius:"8px",padding:"0.5rem 1rem",fontWeight:600,fontSize:"0.9rem",cursor:"pointer",transition:"all 0.2s"},children:"Image URL"})]}),nt?T.jsxs("div",{children:[T.jsx("input",{type:"url",value:L,onChange:x=>{V(x.target.value),le(x.target.value),U(Z=>({...Z,image:""}))},placeholder:"https://example.com/image.jpg",style:{width:"100%",padding:"0.8rem 1rem",borderRadius:"8px",border:k.image?"1px solid #e74c3c":"1px solid #ddd",fontSize:"1rem",outline:"none"}}),L&&T.jsx("div",{style:{marginTop:"1rem",textAlign:"center"},children:T.jsx("img",{src:L,alt:"Preview",style:{maxWidth:"100%",maxHeight:"200px",borderRadius:"8px",border:"1px solid #ddd"},onError:()=>{U(x=>({...x,image:"Invalid image URL"})),le("")}})})]}):T.jsx("div",{style:{border:"2px dashed #ddd",borderRadius:"12px",padding:"2rem",textAlign:"center",cursor:"pointer",transition:"all 0.2s",background:ue?"none":"#f9f9f9"},onClick:()=>e.current?.click(),onMouseOver:x=>x.currentTarget.style.borderColor="#051914",onMouseOut:x=>x.currentTarget.style.borderColor="#ddd",children:ue?T.jsxs("div",{children:[T.jsx("img",{src:ue,alt:"Preview",style:{maxWidth:"100%",maxHeight:"200px",borderRadius:"8px",marginBottom:"1rem"}}),T.jsx("p",{style:{color:"#666",margin:0},children:"Click to change image"})]}):T.jsxs("div",{children:[T.jsx("div",{style:{fontSize:"3rem",marginBottom:"1rem"},children:""}),T.jsx("p",{style:{color:"#666",margin:0},children:"Click to upload an image"}),T.jsx("p",{style:{color:"#999",fontSize:"0.9rem",margin:"0.5rem 0 0 0"},children:"Max 5MB  JPG, PNG, GIF"})]})}),T.jsx("input",{ref:e,type:"file",accept:"image/*",onChange:X,style:{display:"none"}}),k.image&&T.jsx("p",{style:{color:"#e74c3c",fontSize:"0.9rem",marginTop:"0.5rem"},children:k.image})]}),T.jsxs("div",{style:{marginBottom:"2rem"},children:[T.jsx("h2",{style:{textAlign:"center",fontWeight:700,fontSize:"1.5rem",marginBottom:"2rem",color:"#051914"},children:"Basic Information"}),T.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1.5rem",marginBottom:"1.5rem"},children:[T.jsxs("div",{children:[T.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:600,color:"#333"},children:"Item Name *"}),T.jsx("input",{type:"text",value:t,onChange:x=>s(x.target.value),placeholder:"e.g., Power Drill, Camping Tent",style:{width:"100%",padding:"0.9rem 1.2rem",borderRadius:"8px 0 0 8px",border:k.name?"1.5px solid #e74c3c":"1.5px solid #ddd",fontSize:"1rem",outline:"none",background:"#fff",color:"#222",boxSizing:"border-box"}})]}),T.jsxs("div",{children:[T.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:600,color:"#333"},children:"Price per Day *"}),T.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[T.jsx("span",{style:{background:"#f7f7f7",border:k.price?"1.5px solid #e74c3c":"1.5px solid #ddd",borderRight:"none",borderRadius:"8px 0 0 8px",padding:"0.9rem 0.8rem",color:"#666",fontSize:"1rem",minWidth:32,textAlign:"center",height:"100%"},children:"$"}),T.jsx("input",{type:"number",value:o,onChange:x=>u(x.target.value),placeholder:"25",min:"0",step:"0.01",style:{width:"100%",padding:"0.9rem 1.2rem",borderRadius:"0 8px 8px 0",border:k.price?"1.5px solid #e74c3c":"1.5px solid #ddd",borderLeft:"none",fontSize:"1rem",outline:"none",background:"#fff",color:"#222",boxSizing:"border-box"}})]}),k.price&&T.jsx("p",{style:{color:"#e74c3c",fontSize:"0.9rem",marginTop:"0.5rem"},children:k.price})]})]}),T.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1.5rem",marginBottom:"1.5rem"},children:[T.jsxs("div",{children:[T.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:600,color:"#333"},children:"Location (Zip Code) *"}),T.jsx("input",{type:"text",value:h,onChange:x=>m(x.target.value),placeholder:"e.g., 10001",style:{width:"100%",padding:"0.9rem 1.2rem",borderRadius:"8px 0 0 8px",border:k.location?"1.5px solid #e74c3c":"1.5px solid #ddd",fontSize:"1rem",outline:"none",background:"#fff",color:"#222",boxSizing:"border-box"}})]}),T.jsxs("div",{children:[T.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:600,color:"#333"},children:"Category *"}),T.jsxs("select",{value:E,onChange:x=>A(x.target.value),style:{width:"100%",padding:"0.9rem 1.2rem",borderRadius:"0 8px 8px 0",border:k.category?"1.5px solid #e74c3c":"1.5px solid #ddd",fontSize:"1rem",outline:"none",background:"#fff",color:"#222",boxSizing:"border-box"},children:[T.jsx("option",{value:"",children:"Select a category"}),T.jsx("option",{value:"tools",children:"Tools"}),T.jsx("option",{value:"outdoor",children:"Outdoor & Recreation"}),T.jsx("option",{value:"electronics",children:"Electronics"}),T.jsx("option",{value:"furniture",children:"Furniture"}),T.jsx("option",{value:"sports",children:"Sports Equipment"}),T.jsx("option",{value:"party",children:"Party & Events"}),T.jsx("option",{value:"other",children:"Other"})]})]})]}),T.jsxs("div",{style:{marginBottom:"1.5rem"},children:[T.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:600,color:"#333"},children:"Condition *"}),T.jsxs("select",{value:S,onChange:x=>N(x.target.value),style:{width:"100%",padding:"0.9rem 1.2rem",borderRadius:"8px",border:k.condition?"1.5px solid #e74c3c":"1.5px solid #ddd",fontSize:"1rem",outline:"none",background:"#fff",color:"#222",boxSizing:"border-box"},children:[T.jsx("option",{value:"",children:"Select condition"}),T.jsx("option",{value:"New",children:"New"}),T.jsx("option",{value:"Like New",children:"Like New"}),T.jsx("option",{value:"Used",children:"Used - Good"}),T.jsx("option",{value:"Fair",children:"Used - Fair"})]})]}),T.jsxs("div",{style:{marginBottom:"1.5rem"},children:[T.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:600,color:"#333"},children:"Description *"}),T.jsx("textarea",{value:p,onChange:x=>g(x.target.value),placeholder:"Describe your item in detail. What makes it special? Any specific features or instructions?",style:{width:"100%",padding:"0.9rem 1.2rem",borderRadius:"8px",border:k.description?"1.5px solid #e74c3c":"1.5px solid #ddd",fontSize:"1rem",outline:"none",background:"#fff",color:"#222",minHeight:"90px",boxSizing:"border-box",resize:"vertical"}})]})]}),T.jsxs("div",{style:{marginBottom:"2rem"},children:[T.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:600,color:"#333"},children:"Tags (Optional)"}),T.jsx("input",{type:"text",value:O,onChange:x=>$(x.target.value),placeholder:"e.g., DIY, Outdoor, Professional, Easy to use",style:{width:"100%",padding:"0.9rem 1.2rem",borderRadius:"8px",border:"1.5px solid #ddd",fontSize:"1rem",outline:"none",background:"#fff",color:"#222",boxSizing:"border-box",marginBottom:0}}),T.jsx("p",{style:{color:"#666",fontSize:"0.9rem",marginTop:"0.5rem"},children:"Separate tags with commas"})]}),T.jsxs("div",{style:{display:"flex",gap:"1rem",justifyContent:"flex-end"},children:[T.jsx("button",{type:"button",onClick:()=>i("/browse"),style:{background:"none",border:"1px solid #ddd",borderRadius:"12px",padding:"1rem 2rem",fontWeight:600,fontSize:"1rem",cursor:"pointer",color:"#666"},children:"Cancel"}),T.jsx("button",{type:"submit",disabled:R||de,style:{background:R||de?"#ccc":"#051914",color:"#fff",border:"none",borderRadius:"12px",padding:"1rem 2rem",fontWeight:700,fontSize:"1rem",cursor:R||de?"not-allowed":"pointer",minWidth:"120px"},children:R?"Posting...":de?"Uploading...":"Post Item"})]})]}),z&&T.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",background:"rgba(0,0,0,0.25)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:2e3},onClick:()=>D(!1),children:T.jsxs("div",{style:{background:"#fff",borderRadius:"20px",padding:"2.5rem 2rem",minWidth:"340px",maxWidth:"90vw",boxShadow:"0 8px 32px rgba(0,0,0,0.18)",position:"relative",display:"flex",flexDirection:"column",alignItems:"center"},onClick:x=>x.stopPropagation(),children:[T.jsx("button",{onClick:()=>D(!1),style:{position:"absolute",top:12,right:12,background:"none",border:"none",fontSize:"1.5rem",cursor:"pointer",color:"#1A1B41"},children:""}),T.jsx("h2",{style:{marginBottom:"1.5rem",color:"#1A1B41",fontWeight:700},children:"Login Required"}),T.jsx("p",{style:{marginBottom:"1.5rem",color:"#666",textAlign:"center",fontSize:"1rem"},children:"You need to be logged in to post items. Please login or sign up to continue."}),T.jsx("input",{type:"email",placeholder:"Email",style:{marginBottom:"1rem",padding:"0.7rem 1rem",borderRadius:"8px",border:"1px solid #ddd",width:"100%"}}),T.jsx("input",{type:"password",placeholder:"Password",style:{marginBottom:"1.5rem",padding:"0.7rem 1rem",borderRadius:"8px",border:"1px solid #ddd",width:"100%"}}),T.jsx("button",{style:{background:"#1A1B41",color:"#fff",border:"none",borderRadius:"10px",padding:"0.7rem 2rem",fontWeight:700,fontSize:"1rem",cursor:"pointer",width:"100%"},children:"Login"}),T.jsx("button",{style:{background:"#CEF17B",color:"#1A1B41",border:"none",borderRadius:"10px",padding:"0.7rem 2rem",fontWeight:700,fontSize:"1rem",cursor:"pointer",width:"100%",marginTop:"1rem"},children:"Sign Up"})]})})]})}function A3(){return T.jsxs("div",{style:{padding:"2rem"},children:[T.jsx("h1",{children:"My Listings"}),T.jsx("p",{children:"This is where you can view and manage your listings."})]})}function R3(){return T.jsxs("div",{style:{padding:"2rem"},children:[T.jsx("h1",{children:"Login / Profile"}),T.jsx("p",{children:"This is where you can login or manage your profile."})]})}const x3=`
.review-card-animate {
  opacity: 0;
  transform: translateY(40px);
  transition: opacity 0.7s cubic-bezier(.6,.05,.1,1), transform 0.7s cubic-bezier(.6,.05,.1,1);
}
.review-card-animate.visible {
  opacity: 1;
  transform: translateY(0);
}
`;if(typeof document<"u"&&!document.getElementById("review-anim-style")){const i=document.createElement("style");i.id="review-anim-style",i.innerHTML=x3,document.head.appendChild(i)}function I3(){const{id:i}=NA(),e=ta(),[t,s]=q.useState(null),[o,u]=q.useState(!0),[h,m]=q.useState([]),[p,g]=q.useState(!1),[E,A]=q.useState(!1),[S,N]=q.useState(!1),[O,$]=q.useState({from:"",to:""});q.useEffect(()=>{async function V(){try{const Q=Hb(Zl,"listings",i),ie=await z4(Q);if(ie.exists()){const ue={id:ie.id,...ie.data()};s(ue),await L(ue)}else console.log("No such document!")}catch(Q){console.error("Error fetching item:",Q)}finally{u(!1)}}i&&V()},[i]);const L=async V=>{try{let Q=Vh(Zl,"listings");const ie=[];V.category&&ie.push(Xl("category","==",V.category)),ie.length>0?Q=ch(Q,...ie,Nm(8)):Q=ch(Q,Nm(8));let le=(await up(Q)).docs.map(de=>({id:de.id,...de.data()})).filter(de=>de.id!==i).slice(0,4);if(le.length<4&&V.category){const de=ch(Vh(Zl,"listings"),Xl("category","!=",V.category),Nm(8)),R=(await up(de)).docs.map(I=>({id:I.id,...I.data()})).filter(I=>I.id!==i).slice(0,4-le.length);le=[...le,...R]}m(le)}catch(Q){console.error("Error fetching similar items:",Q)}};return o?T.jsx("div",{style:{padding:"2rem",textAlign:"center"},children:T.jsx("p",{})}):t?T.jsxs("div",{style:{padding:"1rem 2rem"},children:[T.jsx("button",{onClick:()=>e("/browse"),style:{background:"none",border:"none",fontSize:"1.2rem",cursor:"pointer",marginBottom:"2rem",display:"flex",alignItems:"center",gap:"0.5rem",color:"#001f3f",fontWeight:700},children:" Back to Browse"}),T.jsxs("div",{style:{background:"#fff",borderRadius:"20px",padding:"2rem",boxShadow:"0 4px 16px rgba(0,0,0,0.08)",marginBottom:"3rem",maxWidth:1100,marginLeft:"auto",marginRight:"auto",display:"flex",flexDirection:"row",gap:"2.5rem",alignItems:"flex-start",flexWrap:"wrap"},children:[T.jsxs("div",{style:{flex:2,minWidth:320},children:[T.jsx("div",{style:{width:"100%",height:"320px",borderRadius:"18px",background:"#f3f3f3",display:"flex",alignItems:"center",justifyContent:"center",overflow:"hidden",marginBottom:"1.5rem"},children:t.imageUrl?T.jsx("img",{src:t.imageUrl,alt:t.name,style:{width:"100%",height:"100%",objectFit:"cover"}}):T.jsx("span",{role:"img","aria-label":"item",style:{fontSize:"4rem"},children:""})}),t.description&&T.jsxs("div",{style:{marginBottom:"2rem",textAlign:"left"},children:[T.jsx("h3",{style:{fontSize:"1.3rem",marginBottom:"1rem",fontWeight:700,textAlign:"left",color:"#001f3f"},children:"Description"}),T.jsx("p",{style:{fontSize:"1rem",lineHeight:"1.6",color:"#001f3f",textAlign:"left",fontWeight:700},children:t.description})]}),T.jsxs("div",{style:{marginBottom:"2rem",textAlign:"left"},children:[T.jsx("h3",{style:{fontSize:"1.3rem",marginBottom:"1rem",fontWeight:700,textAlign:"left",color:"#001f3f"},children:"Listed by"}),T.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem",textAlign:"left"},children:[T.jsx("span",{role:"img","aria-label":"user",style:{fontSize:"2rem"},children:""}),T.jsx("span",{style:{fontSize:"1.1rem",fontWeight:700,color:"#001f3f"},children:t.userName||"Unknown User"})]})]})]}),T.jsxs("div",{style:{flex:1,minWidth:300,minHeight:420,background:"#fff",borderRadius:"16px",boxShadow:"0 2px 8px rgba(0,0,0,0.06)",border:"1px solid #f0f0f0",padding:"1.5rem",marginBottom:"1.5rem",display:"flex",flexDirection:"column",alignItems:"center"},children:[T.jsx("div",{style:{fontSize:"2rem",fontWeight:700,color:"#051914",marginBottom:"0.5rem",textAlign:"center"},children:t.name}),T.jsxs("div",{style:{fontSize:"1.3rem",fontWeight:600,color:"#4caf50",marginBottom:"1rem",textAlign:"center"},children:["$",t.price,"/",t.per||"day"]}),T.jsxs("div",{style:{width:"100%",marginBottom:"1rem",display:"flex",gap:"1rem",flexDirection:"column",alignItems:"flex-start"},children:[T.jsxs("div",{style:{fontSize:"1rem",color:"#666",textAlign:"left"},children:["Location: ",t.location||"Unknown location"]}),T.jsxs("div",{style:{fontSize:"1rem",color:"#666",textAlign:"left"},children:["Condition: ",t.condition||"Not specified"]})]}),T.jsxs("div",{style:{width:"100%",marginBottom:"1.5rem",fontSize:"1rem",color:"#666",textAlign:"left"},children:["Category: ",t.category||"Uncategorized"]}),T.jsx("button",{onClick:()=>A(!0),style:{background:"#001f3f",color:"#fff",border:"none",borderRadius:12,padding:"1rem 2rem",fontWeight:700,fontSize:"1.1rem",cursor:"pointer",width:"100%"},children:"Book Now"}),T.jsxs("div",{style:{width:"100%",marginTop:"1.5rem",fontSize:"0.92rem",color:"#888",textAlign:"left",lineHeight:1.5},children:[T.jsx("strong",{children:"Terms & Services:"}),T.jsx("br",{})," Please return the item in the same condition.",T.jsx("br",{})," Late returns may incur additional fees.",T.jsx("br",{})," You are responsible for any damage or loss.",T.jsx("br",{})," Contact the owner for any questions before booking."]})]})]}),h.length>0&&T.jsxs("div",{style:{marginTop:"3rem"},children:[T.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem"},children:[T.jsx("h2",{style:{fontSize:"1.8rem",fontWeight:700,color:"#051914",margin:0},children:"Similar Items"}),t.category&&T.jsxs("button",{onClick:()=>e(`/browse?category=${t.category}`),style:{background:"none",border:"1px solid #051914",borderRadius:8,padding:"0.5rem 1rem",fontWeight:600,fontSize:"0.9rem",cursor:"pointer",color:"#051914",transition:"all 0.2s"},onMouseOver:V=>{V.target.style.background="#051914",V.target.style.color="#fff"},onMouseOut:V=>{V.target.style.background="none",V.target.style.color="#051914"},children:["View All ",t.category]})]}),T.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(220px, 1fr))",gap:"2rem",alignItems:"stretch"},children:h.map(V=>T.jsx(Tg,{id:V.id,image:V.imageUrl||"",title:V.name||"Untitled",price:`$${V.price||0}/${V.per||"day"}`,availability:"Available now",location:V.location||"Unknown location",rating:4.8,reviews:12,tags:V.tags||[],user:{name:V.userName||"Alex",avatar:""},badge:null},V.id))})]}),T.jsxs("div",{style:{marginTop:"3rem"},children:[T.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem"},children:[T.jsx("h2",{style:{fontSize:"1.8rem",fontWeight:700,color:"#051914",margin:0},children:"Customer Reviews"}),T.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[T.jsx("span",{style:{fontSize:"1.2rem",fontWeight:600,color:"#4caf50"},children:"4.8"}),T.jsx("div",{style:{display:"flex",gap:"2px"},children:[1,2,3,4,5].map(V=>T.jsx("span",{style:{color:"#ffd700",fontSize:"1.2rem"},children:""},V))}),T.jsx("span",{style:{fontSize:"0.9rem",color:"#666",marginLeft:"0.5rem"},children:"(24 reviews)"})]})]}),T.jsxs("div",{style:{display:"grid",gap:"1.5rem"},children:[[0,1,2].map(V=>T.jsxs("div",{className:`review-card-animate${p||V<3?" visible":""}`,style:{background:"#fff",borderRadius:"16px",padding:"1.5rem",boxShadow:"0 2px 8px rgba(0,0,0,0.06)",border:"1px solid #f0f0f0",marginBottom:0},children:[V===0&&T.jsxs(T.Fragment,{children:[T.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"1rem"},children:[T.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[T.jsx("div",{style:{width:"48px",height:"48px",borderRadius:"50%",background:"#4caf50",display:"flex",alignItems:"center",justifyContent:"center",color:"#fff",fontWeight:600,fontSize:"1.1rem"},children:"SM"}),T.jsxs("div",{children:[T.jsx("div",{style:{fontWeight:600,fontSize:"1rem",color:"#051914"},children:"Sarah Mitchell"}),T.jsx("div",{style:{fontSize:"0.9rem",color:"#666"},children:"Verified Renter"})]})]}),T.jsx("div",{style:{display:"flex",gap:"2px"},children:[1,2,3,4,5].map(Q=>T.jsx("span",{style:{color:"#ffd700",fontSize:"1rem"},children:""},Q))})]}),T.jsx("p",{style:{fontSize:"1rem",lineHeight:"1.6",color:"#333",marginBottom:"0.5rem"},children:'"Excellent experience renting this tool! The owner was very responsive and the equipment was in perfect condition. Saved me a lot of money compared to buying. Highly recommend!"'}),T.jsx("div",{style:{fontSize:"0.9rem",color:"#666"},children:"Rented on March 15, 2024"})]}),V===1&&T.jsxs(T.Fragment,{children:[T.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"1rem"},children:[T.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[T.jsx("div",{style:{width:"48px",height:"48px",borderRadius:"50%",background:"#2196f3",display:"flex",alignItems:"center",justifyContent:"center",color:"#fff",fontWeight:600,fontSize:"1.1rem"},children:"MJ"}),T.jsxs("div",{children:[T.jsx("div",{style:{fontWeight:600,fontSize:"1rem",color:"#051914"},children:"Mike Johnson"}),T.jsx("div",{style:{fontSize:"0.9rem",color:"#666"},children:"Verified Renter"})]})]}),T.jsx("div",{style:{display:"flex",gap:"2px"},children:[1,2,3,4,5].map(Q=>T.jsx("span",{style:{color:"#ffd700",fontSize:"1rem"},children:""},Q))})]}),T.jsx("p",{style:{fontSize:"1rem",lineHeight:"1.6",color:"#333",marginBottom:"0.5rem"},children:'"Great service and the tool worked exactly as described. The pickup and return process was smooth. Will definitely use this service again for future projects."'}),T.jsx("div",{style:{fontSize:"0.9rem",color:"#666"},children:"Rented on February 28, 2024"})]}),V===2&&T.jsxs(T.Fragment,{children:[T.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"1rem"},children:[T.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[T.jsx("div",{style:{width:"48px",height:"48px",borderRadius:"50%",background:"#ff9800",display:"flex",alignItems:"center",justifyContent:"center",color:"#fff",fontWeight:600,fontSize:"1.1rem"},children:"EL"}),T.jsxs("div",{children:[T.jsx("div",{style:{fontWeight:600,fontSize:"1rem",color:"#051914"},children:"Emma Lopez"}),T.jsx("div",{style:{fontSize:"0.9rem",color:"#666"},children:"Verified Renter"})]})]}),T.jsxs("div",{style:{display:"flex",gap:"2px"},children:[[1,2,3,4].map(Q=>T.jsx("span",{style:{color:"#ffd700",fontSize:"1rem"},children:""},Q)),T.jsx("span",{style:{color:"#ddd",fontSize:"1rem"},children:""})]})]}),T.jsx("p",{style:{fontSize:"1rem",lineHeight:"1.6",color:"#333",marginBottom:"0.5rem"},children:'"Good experience overall. The tool was clean and functional. The owner was friendly and helpful. Only minor issue was a slight delay in pickup time, but everything else was perfect."'}),T.jsx("div",{style:{fontSize:"0.9rem",color:"#666"},children:"Rented on January 12, 2024"})]})]},V)),p&&T.jsxs("div",{className:"review-card-animate visible",style:{background:"#fff",borderRadius:"16px",padding:"1.5rem",boxShadow:"0 2px 8px rgba(0,0,0,0.06)",border:"1px solid #f0f0f0"},children:[T.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"1rem"},children:[T.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[T.jsx("div",{style:{width:"48px",height:"48px",borderRadius:"50%",background:"#9c27b0",display:"flex",alignItems:"center",justifyContent:"center",color:"#fff",fontWeight:600,fontSize:"1.1rem"},children:"DC"}),T.jsxs("div",{children:[T.jsx("div",{style:{fontWeight:600,fontSize:"1rem",color:"#051914"},children:"David Chen"}),T.jsx("div",{style:{fontSize:"0.9rem",color:"#666"},children:"Verified Renter"})]})]}),T.jsx("div",{style:{display:"flex",gap:"2px"},children:[1,2,3,4,5].map(V=>T.jsx("span",{style:{color:"#ffd700",fontSize:"1rem"},children:""},V))})]}),T.jsx("p",{style:{fontSize:"1rem",lineHeight:"1.6",color:"#333",marginBottom:"0.5rem"},children:'"Absolutely fantastic rental experience! The tool was professionally maintained and the owner provided excellent instructions. The pricing was fair and the whole process was seamless. Will definitely rent from this owner again!"'}),T.jsx("div",{style:{fontSize:"0.9rem",color:"#666"},children:"Rented on December 8, 2023"})]})]}),T.jsx("div",{style:{textAlign:"center",marginTop:"2rem"},children:T.jsx("button",{onClick:()=>g(!p),style:{background:"none",border:"1px solid #051914",borderRadius:8,padding:"0.8rem 2rem",fontWeight:600,fontSize:"1rem",cursor:"pointer",color:"#051914",transition:"all 0.2s"},onMouseOver:V=>{V.target.style.background="#051914",V.target.style.color="#fff"},onMouseOut:V=>{V.target.style.background="none",V.target.style.color="#051914"},children:p?"Show Less Reviews":"View All Reviews"})})]}),E&&T.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:T.jsxs("div",{style:{background:"#fff",borderRadius:"20px",padding:"2rem",maxWidth:"500px",width:"90%",maxHeight:"80vh",overflow:"auto"},children:[T.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem"},children:[T.jsx("h2",{style:{fontSize:"1.5rem",fontWeight:700,color:"#051914",margin:0},children:"Select Rental Dates"}),T.jsx("button",{onClick:()=>A(!1),style:{background:"none",border:"none",fontSize:"1.5rem",cursor:"pointer",color:"#666"},children:""})]}),T.jsxs("div",{style:{marginBottom:"2rem"},children:[T.jsxs("div",{style:{display:"flex",gap:"1rem",marginBottom:"1rem"},children:[T.jsxs("div",{style:{flex:1},children:[T.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:600,color:"#051914"},children:"From Date"}),T.jsx("input",{type:"date",value:O.from,onChange:V=>$({...O,from:V.target.value}),style:{width:"100%",padding:"0.9rem 1.2rem",border:"1.5px solid #ddd",borderRadius:"8px 0 0 8px",fontSize:"1rem",background:"#fff",color:"#222",boxSizing:"border-box",outline:"none"},min:new Date().toISOString().split("T")[0]})]}),T.jsxs("div",{style:{flex:1},children:[T.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:600,color:"#051914"},children:"To Date"}),T.jsx("input",{type:"date",value:O.to,onChange:V=>$({...O,to:V.target.value}),style:{width:"100%",padding:"0.9rem 1.2rem",border:"1.5px solid #ddd",borderRadius:"0 8px 8px 0",fontSize:"1rem",background:"#fff",color:"#222",boxSizing:"border-box",outline:"none"},min:O.from||new Date().toISOString().split("T")[0]})]})]}),O.from&&O.to&&T.jsxs("div",{style:{background:"#f8f9fa",padding:"1rem",borderRadius:"8px",marginBottom:"1rem"},children:[T.jsx("div",{style:{fontWeight:600,color:"#051914",marginBottom:"0.5rem"},children:"Rental Summary"}),T.jsxs("div",{style:{fontSize:"0.9rem",color:"#666"},children:[T.jsxs("div",{children:["From: ",new Date(O.from).toLocaleDateString()]}),T.jsxs("div",{children:["To: ",new Date(O.to).toLocaleDateString()]}),T.jsxs("div",{style:{marginTop:"0.5rem",fontWeight:600,color:"#4caf50"},children:["Total: $",t?.price||0," per ",t?.per||"day"]})]})]})]}),T.jsxs("div",{style:{display:"flex",gap:"1rem"},children:[T.jsx("button",{onClick:()=>A(!1),style:{background:"#f3f3f3",color:"#333",border:"none",borderRadius:8,padding:"0.8rem 1.5rem",fontWeight:600,fontSize:"1rem",cursor:"pointer",flex:1},children:"Cancel"}),T.jsx("button",{onClick:()=>{O.from&&O.to&&(A(!1),N(!0))},disabled:!O.from||!O.to,style:{background:O.from&&O.to?"#051914":"#ccc",color:"#fff",border:"none",borderRadius:8,padding:"0.8rem 1.5rem",fontWeight:600,fontSize:"1rem",cursor:O.from&&O.to?"pointer":"not-allowed",flex:1},children:"Confirm Booking"})]})]})}),S&&T.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:T.jsxs("div",{style:{background:"#fff",borderRadius:"20px",padding:"2rem",maxWidth:"400px",width:"90%"},children:[T.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem"},children:[T.jsx("h2",{style:{fontSize:"1.5rem",fontWeight:700,color:"#051914",margin:0},children:"Login Required"}),T.jsx("button",{onClick:()=>N(!1),style:{background:"none",border:"none",fontSize:"1.5rem",cursor:"pointer",color:"#666"},children:""})]}),T.jsxs("p",{style:{fontSize:"1rem",color:"#666",marginBottom:"2rem",lineHeight:"1.6"},children:["Please log in or create an account to complete your booking for ",T.jsx("strong",{children:t?.name}),"."]}),T.jsxs("div",{style:{marginBottom:"2rem"},children:[T.jsx("input",{type:"email",placeholder:"Email",style:{width:"100%",marginBottom:"1rem",padding:"0.9rem 1.2rem",borderRadius:"8px",border:"1.5px solid #ddd",fontSize:"1rem",background:"#fff",color:"#222",boxSizing:"border-box",outline:"none",display:"block"}}),T.jsx("input",{type:"password",placeholder:"Password",style:{width:"100%",marginBottom:"1.5rem",padding:"0.9rem 1.2rem",borderRadius:"8px",border:"1.5px solid #ddd",fontSize:"1rem",background:"#fff",color:"#222",boxSizing:"border-box",outline:"none",display:"block"}}),T.jsx("button",{style:{background:"#1A1B41",color:"#fff",border:"none",borderRadius:"10px",padding:"0.9rem 2rem",fontWeight:700,fontSize:"1rem",cursor:"pointer",width:"100%",marginBottom:"1rem"},children:"Login"}),T.jsx("button",{style:{background:"#CEF17B",color:"#1A1B41",border:"none",borderRadius:"10px",padding:"0.9rem 2rem",fontWeight:700,fontSize:"1rem",cursor:"pointer",width:"100%"},children:"Sign Up"})]})]})})]}):T.jsxs("div",{style:{padding:"2rem",textAlign:"center"},children:[T.jsx("p",{children:"Item not found"}),T.jsx("button",{onClick:()=>e("/browse"),style:{background:"#051914",color:"#fff",border:"none",borderRadius:12,padding:"0.6rem 1.5rem",fontWeight:700,fontSize:"1rem",cursor:"pointer",marginTop:"1rem"},children:"Back to Browse"})]})}const j1=["Alex","James","Rachel","Hannah","Iris"];function Ur(){return j1[Math.floor(Math.random()*j1.length)]}function C3(){const i=async()=>{await Qi({name:"Lawn Mower",category:"outdoor",condition:"Used",price:25,per:"day",location:"Midtown",imageUrl:"https://example.com/lawnmower.jpg",description:"Perfect for small yards.",userId:"abc123xyz",userName:Ur()}),await Qi({name:"Power Washer",condition:"Used",category:"tools",price:25,per:"day",location:"Midtown",imageUrl:"https://example.com/lawnmower.jpg",description:"Power washer. good for removing stains, carpets, etc..",userId:"abc123xyz",userName:Ur()}),await Qi({name:"Camping Tent",condition:"Used",category:"outdoor",price:15,per:"day",location:"Uptown",imageUrl:"https://example.com/campingtent.jpg",description:"Spacious 4-person tent for weekend camping trips.",userId:"abc123xyz",userName:Ur()}),await Qi({name:"Tile Cutter",condition:"New",category:"tools",price:20,per:"day",location:"Midtown",imageUrl:"https://example.com/tilecutter.jpg",description:"Ideal for DIY kitchen and bathroom renovations.",userId:"abc123xyz",userName:Ur()}),await Qi({name:"Folding Table",condition:"New",category:"furniture",price:10,per:"day",location:"Uptown",imageUrl:"https://example.com/table.jpg",description:"Seats 6 people.",userId:"abc123xyz",userName:Ur()}),await Qi({name:"Projector",condition:"Used",category:"electronics",price:40,per:"day",location:"Downtown",imageUrl:"https://example.com/projector.jpg",description:"Perfect for movie nights, presentations, or events.",userId:"abc123xyz",userName:Ur()}),await Qi({name:"Snow Blower",condition:"Used",category:"outdoor",price:35,per:"day",location:"Uptown",imageUrl:"https://example.com/snowblower.jpg",description:"Clear driveways and sidewalks quickly during winter.",userId:"abc123xyz",userName:Ur()}),await Qi({name:"Carpet Cleaner",condition:"Used",category:"tools",price:20,per:"day",location:"Downtown",imageUrl:"https://example.com/cleaner.jpg",description:"Deep cleans carpets and upholstery.",userId:"abc123xyz",userName:Ur()}),alert("Seed data added!")};return T.jsx("div",{className:"p-8",children:T.jsx("button",{onClick:i,className:"bg-green-600 text-white px-4 py-2 rounded",children:"Seed Listings"})})}function D3(){return T.jsxs("div",{style:{minHeight:"100vh",display:"flex",flexDirection:"column"},children:[T.jsx(a3,{}),T.jsx("main",{style:{flex:1},children:T.jsxs(KA,{children:[T.jsx(jr,{path:"/",element:T.jsx(T3,{})}),T.jsx(jr,{path:"/browse",element:T.jsx(b3,{})}),T.jsx(jr,{path:"/item/:id",element:T.jsx(I3,{})}),T.jsx(jr,{path:"/post-listing",element:T.jsx(S3,{})}),T.jsx(jr,{path:"/my-listings",element:T.jsx(A3,{})}),T.jsx(jr,{path:"/login",element:T.jsx(R3,{})}),T.jsx(jr,{path:"/seed",element:T.jsx(C3,{})})]})}),T.jsx(o3,{})]})}tA.createRoot(document.getElementById("root")).render(T.jsx(q.StrictMode,{children:T.jsx(vR,{children:T.jsx(D3,{})})}));
